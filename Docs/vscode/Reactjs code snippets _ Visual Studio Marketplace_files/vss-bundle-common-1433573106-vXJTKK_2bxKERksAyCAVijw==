if (window.performance && window.performance.mark) { window.performance.mark('startLoadBundleInner-common'); }
// Knockout JavaScript library v2.2.1
// (c) Steven Sanderson - http://knockoutjs.com/
// License: MIT (http://www.opensource.org/licenses/mit-license.php)

(function() {function j(w){throw w;}var m=!0,p=null,r=!1;function u(w){return function(){return w}};var x=window,y=document,ga=navigator,F=window.jQuery,I=void 0;
function L(w){function ha(a,d,c,e,f){var g=[];a=b.j(function(){var a=d(c,f)||[];0<g.length&&(b.a.Ya(M(g),a),e&&b.r.K(e,p,[c,a,f]));g.splice(0,g.length);b.a.P(g,a)},p,{W:a,Ka:function(){return 0==g.length||!b.a.X(g[0])}});return{M:g,j:a.pa()?a:I}}function M(a){for(;a.length&&!b.a.X(a[0]);)a.splice(0,1);if(1<a.length){for(var d=a[0],c=a[a.length-1],e=[d];d!==c;){d=d.nextSibling;if(!d)return;e.push(d)}Array.prototype.splice.apply(a,[0,a.length].concat(e))}return a}function S(a,b,c,e,f){var g=Math.min,
h=Math.max,k=[],l,n=a.length,q,s=b.length,v=s-n||1,G=n+s+1,J,A,z;for(l=0;l<=n;l++){A=J;k.push(J=[]);z=g(s,l+v);for(q=h(0,l-1);q<=z;q++)J[q]=q?l?a[l-1]===b[q-1]?A[q-1]:g(A[q]||G,J[q-1]||G)+1:q+1:l+1}g=[];h=[];v=[];l=n;for(q=s;l||q;)s=k[l][q]-1,q&&s===k[l][q-1]?h.push(g[g.length]={status:c,value:b[--q],index:q}):l&&s===k[l-1][q]?v.push(g[g.length]={status:e,value:a[--l],index:l}):(g.push({status:"retained",value:b[--q]}),--l);if(h.length&&v.length){a=10*n;var t;for(b=c=0;(f||b<a)&&(t=h[c]);c++){for(e=
0;k=v[e];e++)if(t.value===k.value){t.moved=k.index;k.moved=t.index;v.splice(e,1);b=e=0;break}b+=e}}return g.reverse()}function T(a,d,c,e,f){f=f||{};var g=a&&N(a),g=g&&g.ownerDocument,h=f.templateEngine||O;b.za.vb(c,h,g);c=h.renderTemplate(c,e,f,g);("number"!=typeof c.length||0<c.length&&"number"!=typeof c[0].nodeType)&&j(Error("Template engine must return an array of DOM nodes"));g=r;switch(d){case "replaceChildren":b.e.N(a,c);g=m;break;case "replaceNode":b.a.Ya(a,c);g=m;break;case "ignoreTargetNode":break;
default:j(Error("Unknown renderMode: "+d))}g&&(U(c,e),f.afterRender&&b.r.K(f.afterRender,p,[c,e.$data]));return c}function N(a){return a.nodeType?a:0<a.length?a[0]:p}function U(a,d){if(a.length){var c=a[0],e=a[a.length-1];V(c,e,function(a){b.Da(d,a)});V(c,e,function(a){b.s.ib(a,[d])})}}function V(a,d,c){var e;for(d=b.e.nextSibling(d);a&&(e=a)!==d;)a=b.e.nextSibling(e),(1===e.nodeType||8===e.nodeType)&&c(e)}function W(a,d,c){a=b.g.aa(a);for(var e=b.g.Q,f=0;f<a.length;f++){var g=a[f].key;if(e.hasOwnProperty(g)){var h=
e[g];"function"===typeof h?(g=h(a[f].value))&&j(Error(g)):h||j(Error("This template engine does not support the '"+g+"' binding within its templates"))}}a="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+b.g.ba(a)+" } })()})";return c.createJavaScriptEvaluatorBlock(a)+d}function X(a,d,c,e){function f(a){return function(){return k[a]}}function g(){return k}var h=0,k,l;b.j(function(){var n=c&&c instanceof b.z?c:new b.z(b.a.d(c)),q=n.$data;e&&b.eb(a,n);if(k=("function"==typeof d?
d(n,a):d)||b.J.instance.getBindings(a,n)){if(0===h){h=1;for(var s in k){var v=b.c[s];v&&8===a.nodeType&&!b.e.I[s]&&j(Error("The binding '"+s+"' cannot be used with virtual elements"));if(v&&"function"==typeof v.init&&(v=(0,v.init)(a,f(s),g,q,n))&&v.controlsDescendantBindings)l!==I&&j(Error("Multiple bindings ("+l+" and "+s+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.")),l=s}h=2}if(2===h)for(s in k)(v=b.c[s])&&"function"==
typeof v.update&&(0,v.update)(a,f(s),g,q,n)}},p,{W:a});return{Nb:l===I}}function Y(a,d,c){var e=m,f=1===d.nodeType;f&&b.e.Ta(d);if(f&&c||b.J.instance.nodeHasBindings(d))e=X(d,p,a,c).Nb;e&&Z(a,d,!f)}function Z(a,d,c){for(var e=b.e.firstChild(d);d=e;)e=b.e.nextSibling(d),Y(a,d,c)}function $(a,b){var c=aa(a,b);return c?0<c.length?c[c.length-1].nextSibling:a.nextSibling:p}function aa(a,b){for(var c=a,e=1,f=[];c=c.nextSibling;){if(H(c)&&(e--,0===e))return f;f.push(c);B(c)&&e++}b||j(Error("Cannot find closing comment tag to match: "+
a.nodeValue));return p}function H(a){return 8==a.nodeType&&(K?a.text:a.nodeValue).match(ia)}function B(a){return 8==a.nodeType&&(K?a.text:a.nodeValue).match(ja)}function P(a,b){for(var c=p;a!=c;)c=a,a=a.replace(ka,function(a,c){return b[c]});return a}function la(){var a=[],d=[];this.save=function(c,e){var f=b.a.i(a,c);0<=f?d[f]=e:(a.push(c),d.push(e))};this.get=function(c){c=b.a.i(a,c);return 0<=c?d[c]:I}}function ba(a,b,c){function e(e){var g=b(a[e]);switch(typeof g){case "boolean":case "number":case "string":case "function":f[e]=
g;break;case "object":case "undefined":var h=c.get(g);f[e]=h!==I?h:ba(g,b,c)}}c=c||new la;a=b(a);if(!("object"==typeof a&&a!==p&&a!==I&&!(a instanceof Date)))return a;var f=a instanceof Array?[]:{};c.save(a,f);var g=a;if(g instanceof Array){for(var h=0;h<g.length;h++)e(h);"function"==typeof g.toJSON&&e("toJSON")}else for(h in g)e(h);return f}function ca(a,d){if(a)if(8==a.nodeType){var c=b.s.Ua(a.nodeValue);c!=p&&d.push({sb:a,Fb:c})}else if(1==a.nodeType)for(var c=0,e=a.childNodes,f=e.length;c<f;c++)ca(e[c],
d)}function Q(a,d,c,e){b.c[a]={init:function(a){b.a.f.set(a,da,{});return{controlsDescendantBindings:m}},update:function(a,g,h,k,l){h=b.a.f.get(a,da);g=b.a.d(g());k=!c!==!g;var n=!h.Za;if(n||d||k!==h.qb)n&&(h.Za=b.a.Ia(b.e.childNodes(a),m)),k?(n||b.e.N(a,b.a.Ia(h.Za)),b.Ea(e?e(l,g):l,a)):b.e.Y(a),h.qb=k}};b.g.Q[a]=r;b.e.I[a]=m}function ea(a,d,c){c&&d!==b.k.q(a)&&b.k.T(a,d);d!==b.k.q(a)&&b.r.K(b.a.Ba,p,[a,"change"])}var b="undefined"!==typeof w?w:{};b.b=function(a,d){for(var c=a.split("."),e=b,f=0;f<
c.length-1;f++)e=e[c[f]];e[c[c.length-1]]=d};b.p=function(a,b,c){a[b]=c};b.version="2.2.1";b.b("version",b.version);b.a=new function(){function a(a,d){if("input"!==b.a.u(a)||!a.type||"click"!=d.toLowerCase())return r;var c=a.type;return"checkbox"==c||"radio"==c}var d=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,c={},e={};c[/Firefox\/2/i.test(ga.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];c.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");
for(var f in c){var g=c[f];if(g.length)for(var h=0,k=g.length;h<k;h++)e[g[h]]=f}var l={propertychange:m},n,c=3;f=y.createElement("div");for(g=f.getElementsByTagName("i");f.innerHTML="\x3c!--[if gt IE "+ ++c+"]><i></i><![endif]--\x3e",g[0];);n=4<c?c:I;return{Na:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],o:function(a,b){for(var d=0,c=a.length;d<c;d++)b(a[d])},i:function(a,b){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(a,b);for(var d=0,c=a.length;d<
c;d++)if(a[d]===b)return d;return-1},lb:function(a,b,d){for(var c=0,e=a.length;c<e;c++)if(b.call(d,a[c]))return a[c];return p},ga:function(a,d){var c=b.a.i(a,d);0<=c&&a.splice(c,1)},Ga:function(a){a=a||[];for(var d=[],c=0,e=a.length;c<e;c++)0>b.a.i(d,a[c])&&d.push(a[c]);return d},V:function(a,b){a=a||[];for(var d=[],c=0,e=a.length;c<e;c++)d.push(b(a[c]));return d},fa:function(a,b){a=a||[];for(var d=[],c=0,e=a.length;c<e;c++)b(a[c])&&d.push(a[c]);return d},P:function(a,b){if(b instanceof Array)a.push.apply(a,
b);else for(var d=0,c=b.length;d<c;d++)a.push(b[d]);return a},extend:function(a,b){if(b)for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);return a},ka:function(a){for(;a.firstChild;)b.removeNode(a.firstChild)},Hb:function(a){a=b.a.L(a);for(var d=y.createElement("div"),c=0,e=a.length;c<e;c++)d.appendChild(b.A(a[c]));return d},Ia:function(a,d){for(var c=0,e=a.length,g=[];c<e;c++){var f=a[c].cloneNode(m);g.push(d?b.A(f):f)}return g},N:function(a,d){b.a.ka(a);if(d)for(var c=0,e=d.length;c<e;c++)a.appendChild(d[c])},
Ya:function(a,d){var c=a.nodeType?[a]:a;if(0<c.length){for(var e=c[0],g=e.parentNode,f=0,h=d.length;f<h;f++)g.insertBefore(d[f],e);f=0;for(h=c.length;f<h;f++)b.removeNode(c[f])}},bb:function(a,b){7>n?a.setAttribute("selected",b):a.selected=b},D:function(a){return(a||"").replace(d,"")},Rb:function(a,d){for(var c=[],e=(a||"").split(d),f=0,g=e.length;f<g;f++){var h=b.a.D(e[f]);""!==h&&c.push(h)}return c},Ob:function(a,b){a=a||"";return b.length>a.length?r:a.substring(0,b.length)===b},tb:function(a,b){if(b.compareDocumentPosition)return 16==
(b.compareDocumentPosition(a)&16);for(;a!=p;){if(a==b)return m;a=a.parentNode}return r},X:function(a){return b.a.tb(a,a.ownerDocument)},u:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},n:function(b,d,c){var e=n&&l[d];if(!e&&"undefined"!=typeof F){if(a(b,d)){var f=c;c=function(a,b){var d=this.checked;b&&(this.checked=b.nb!==m);f.call(this,a);this.checked=d}}F(b).bind(d,c)}else!e&&"function"==typeof b.addEventListener?b.addEventListener(d,c,r):"undefined"!=typeof b.attachEvent?b.attachEvent("on"+
d,function(a){c.call(b,a)}):j(Error("Browser doesn't support addEventListener or attachEvent"))},Ba:function(b,d){(!b||!b.nodeType)&&j(Error("element must be a DOM node when calling triggerEvent"));if("undefined"!=typeof F){var c=[];a(b,d)&&c.push({nb:b.checked});F(b).trigger(d,c)}else"function"==typeof y.createEvent?"function"==typeof b.dispatchEvent?(c=y.createEvent(e[d]||"HTMLEvents"),c.initEvent(d,m,m,x,0,0,0,0,0,r,r,r,r,0,b),b.dispatchEvent(c)):j(Error("The supplied element doesn't support dispatchEvent")):
"undefined"!=typeof b.fireEvent?(a(b,d)&&(b.checked=b.checked!==m),b.fireEvent("on"+d)):j(Error("Browser doesn't support triggering events"))},d:function(a){return b.$(a)?a():a},ua:function(a){return b.$(a)?a.t():a},da:function(a,d,c){if(d){var e=/[\w-]+/g,f=a.className.match(e)||[];b.a.o(d.match(e),function(a){var d=b.a.i(f,a);0<=d?c||f.splice(d,1):c&&f.push(a)});a.className=f.join(" ")}},cb:function(a,d){var c=b.a.d(d);if(c===p||c===I)c="";if(3===a.nodeType)a.data=c;else{var e=b.e.firstChild(a);
!e||3!=e.nodeType||b.e.nextSibling(e)?b.e.N(a,[y.createTextNode(c)]):e.data=c;b.a.wb(a)}},ab:function(a,b){a.name=b;if(7>=n)try{a.mergeAttributes(y.createElement("<input name='"+a.name+"'/>"),r)}catch(d){}},wb:function(a){9<=n&&(a=1==a.nodeType?a:a.parentNode,a.style&&(a.style.zoom=a.style.zoom))},ub:function(a){if(9<=n){var b=a.style.width;a.style.width=0;a.style.width=b}},Lb:function(a,d){a=b.a.d(a);d=b.a.d(d);for(var c=[],e=a;e<=d;e++)c.push(e);return c},L:function(a){for(var b=[],d=0,c=a.length;d<
c;d++)b.push(a[d]);return b},Pb:6===n,Qb:7===n,Z:n,Oa:function(a,d){for(var c=b.a.L(a.getElementsByTagName("input")).concat(b.a.L(a.getElementsByTagName("textarea"))),e="string"==typeof d?function(a){return a.name===d}:function(a){return d.test(a.name)},f=[],g=c.length-1;0<=g;g--)e(c[g])&&f.push(c[g]);return f},Ib:function(a){return"string"==typeof a&&(a=b.a.D(a))?x.JSON&&x.JSON.parse?x.JSON.parse(a):(new Function("return "+a))():p},xa:function(a,d,c){("undefined"==typeof JSON||"undefined"==typeof JSON.stringify)&&
j(Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js"));return JSON.stringify(b.a.d(a),d,c)},Jb:function(a,d,c){c=c||{};var e=c.params||{},f=c.includeFields||this.Na,g=a;if("object"==typeof a&&"form"===b.a.u(a))for(var g=a.action,h=f.length-1;0<=h;h--)for(var k=b.a.Oa(a,f[h]),l=k.length-1;0<=l;l--)e[k[l].name]=k[l].value;d=b.a.d(d);var n=y.createElement("form");
n.style.display="none";n.action=g;n.method="post";for(var w in d)a=y.createElement("input"),a.name=w,a.value=b.a.xa(b.a.d(d[w])),n.appendChild(a);for(w in e)a=y.createElement("input"),a.name=w,a.value=e[w],n.appendChild(a);y.body.appendChild(n);c.submitter?c.submitter(n):n.submit();setTimeout(function(){n.parentNode.removeChild(n)},0)}}};b.b("utils",b.a);b.b("utils.arrayForEach",b.a.o);b.b("utils.arrayFirst",b.a.lb);b.b("utils.arrayFilter",b.a.fa);b.b("utils.arrayGetDistinctValues",b.a.Ga);b.b("utils.arrayIndexOf",
b.a.i);b.b("utils.arrayMap",b.a.V);b.b("utils.arrayPushAll",b.a.P);b.b("utils.arrayRemoveItem",b.a.ga);b.b("utils.extend",b.a.extend);b.b("utils.fieldsIncludedWithJsonPost",b.a.Na);b.b("utils.getFormFields",b.a.Oa);b.b("utils.peekObservable",b.a.ua);b.b("utils.postJson",b.a.Jb);b.b("utils.parseJson",b.a.Ib);b.b("utils.registerEventHandler",b.a.n);b.b("utils.stringifyJson",b.a.xa);b.b("utils.range",b.a.Lb);b.b("utils.toggleDomNodeCssClass",b.a.da);b.b("utils.triggerEvent",b.a.Ba);b.b("utils.unwrapObservable",
b.a.d);Function.prototype.bind||(Function.prototype.bind=function(a){var b=this,c=Array.prototype.slice.call(arguments);a=c.shift();return function(){return b.apply(a,c.concat(Array.prototype.slice.call(arguments)))}});b.a.f=new function(){var a=0,d="__ko__"+(new Date).getTime(),c={};return{get:function(a,d){var c=b.a.f.la(a,r);return c===I?I:c[d]},set:function(a,d,c){c===I&&b.a.f.la(a,r)===I||(b.a.f.la(a,m)[d]=c)},la:function(b,f){var g=b[d];if(!g||!("null"!==g&&c[g])){if(!f)return I;g=b[d]="ko"+
a++;c[g]={}}return c[g]},clear:function(a){var b=a[d];return b?(delete c[b],a[d]=p,m):r}}};b.b("utils.domData",b.a.f);b.b("utils.domData.clear",b.a.f.clear);b.a.F=new function(){function a(a,d){var e=b.a.f.get(a,c);e===I&&d&&(e=[],b.a.f.set(a,c,e));return e}function d(c){var e=a(c,r);if(e)for(var e=e.slice(0),k=0;k<e.length;k++)e[k](c);b.a.f.clear(c);"function"==typeof F&&"function"==typeof F.cleanData&&F.cleanData([c]);if(f[c.nodeType])for(e=c.firstChild;c=e;)e=c.nextSibling,8===c.nodeType&&d(c)}
var c="__ko_domNodeDisposal__"+(new Date).getTime(),e={1:m,8:m,9:m},f={1:m,9:m};return{Ca:function(b,d){"function"!=typeof d&&j(Error("Callback must be a function"));a(b,m).push(d)},Xa:function(d,e){var f=a(d,r);f&&(b.a.ga(f,e),0==f.length&&b.a.f.set(d,c,I))},A:function(a){if(e[a.nodeType]&&(d(a),f[a.nodeType])){var c=[];b.a.P(c,a.getElementsByTagName("*"));for(var k=0,l=c.length;k<l;k++)d(c[k])}return a},removeNode:function(a){b.A(a);a.parentNode&&a.parentNode.removeChild(a)}}};b.A=b.a.F.A;b.removeNode=
b.a.F.removeNode;b.b("cleanNode",b.A);b.b("removeNode",b.removeNode);b.b("utils.domNodeDisposal",b.a.F);b.b("utils.domNodeDisposal.addDisposeCallback",b.a.F.Ca);b.b("utils.domNodeDisposal.removeDisposeCallback",b.a.F.Xa);b.a.ta=function(a){var d;if("undefined"!=typeof F)if(F.parseHTML)d=F.parseHTML(a);else{if((d=F.clean([a]))&&d[0]){for(a=d[0];a.parentNode&&11!==a.parentNode.nodeType;)a=a.parentNode;a.parentNode&&a.parentNode.removeChild(a)}}else{var c=b.a.D(a).toLowerCase();d=y.createElement("div");
c=c.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!c.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!c.indexOf("<td")||!c.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""];a="ignored<div>"+c[1]+a+c[2]+"</div>";for("function"==typeof x.innerShiv?d.appendChild(x.innerShiv(a)):d.innerHTML=a;c[0]--;)d=d.lastChild;d=b.a.L(d.lastChild.childNodes)}return d};b.a.ca=function(a,d){b.a.ka(a);d=b.a.d(d);if(d!==p&&d!==I)if("string"!=typeof d&&(d=d.toString()),
"undefined"!=typeof F)F(a).html(d);else for(var c=b.a.ta(d),e=0;e<c.length;e++)a.appendChild(c[e])};b.b("utils.parseHtmlFragment",b.a.ta);b.b("utils.setHtml",b.a.ca);var R={};b.s={ra:function(a){"function"!=typeof a&&j(Error("You can only pass a function to ko.memoization.memoize()"));var b=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);R[b]=a;return"\x3c!--[ko_memo:"+b+"]--\x3e"},hb:function(a,b){var c=R[a];c===I&&j(Error("Couldn't find any memo with ID "+
a+". Perhaps it's already been unmemoized."));try{return c.apply(p,b||[]),m}finally{delete R[a]}},ib:function(a,d){var c=[];ca(a,c);for(var e=0,f=c.length;e<f;e++){var g=c[e].sb,h=[g];d&&b.a.P(h,d);b.s.hb(c[e].Fb,h);g.nodeValue="";g.parentNode&&g.parentNode.removeChild(g)}},Ua:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:p}};b.b("memoization",b.s);b.b("memoization.memoize",b.s.ra);b.b("memoization.unmemoize",b.s.hb);b.b("memoization.parseMemoText",b.s.Ua);b.b("memoization.unmemoizeDomNodeAndDescendants",
b.s.ib);b.Ma={throttle:function(a,d){a.throttleEvaluation=d;var c=p;return b.j({read:a,write:function(b){clearTimeout(c);c=setTimeout(function(){a(b)},d)}})},notify:function(a,d){a.equalityComparer="always"==d?u(r):b.m.fn.equalityComparer;return a}};b.b("extenders",b.Ma);b.fb=function(a,d,c){this.target=a;this.ha=d;this.rb=c;b.p(this,"dispose",this.B)};b.fb.prototype.B=function(){this.Cb=m;this.rb()};b.S=function(){this.w={};b.a.extend(this,b.S.fn);b.p(this,"subscribe",this.ya);b.p(this,"extend",
this.extend);b.p(this,"getSubscriptionsCount",this.yb)};b.S.fn={ya:function(a,d,c){c=c||"change";var e=new b.fb(this,d?a.bind(d):a,function(){b.a.ga(this.w[c],e)}.bind(this));this.w[c]||(this.w[c]=[]);this.w[c].push(e);return e},notifySubscribers:function(a,d){d=d||"change";this.w[d]&&b.r.K(function(){b.a.o(this.w[d].slice(0),function(b){b&&b.Cb!==m&&b.ha(a)})},this)},yb:function(){var a=0,b;for(b in this.w)this.w.hasOwnProperty(b)&&(a+=this.w[b].length);return a},extend:function(a){var d=this;if(a)for(var c in a){var e=
b.Ma[c];"function"==typeof e&&(d=e(d,a[c]))}return d}};b.Qa=function(a){return"function"==typeof a.ya&&"function"==typeof a.notifySubscribers};b.b("subscribable",b.S);b.b("isSubscribable",b.Qa);var C=[];b.r={mb:function(a){C.push({ha:a,La:[]})},end:function(){C.pop()},Wa:function(a){b.Qa(a)||j(Error("Only subscribable things can act as dependencies"));if(0<C.length){var d=C[C.length-1];d&&!(0<=b.a.i(d.La,a))&&(d.La.push(a),d.ha(a))}},K:function(a,b,c){try{return C.push(p),a.apply(b,c||[])}finally{C.pop()}}};
var ma={undefined:m,"boolean":m,number:m,string:m};b.m=function(a){function d(){if(0<arguments.length){if(!d.equalityComparer||!d.equalityComparer(c,arguments[0]))d.H(),c=arguments[0],d.G();return this}b.r.Wa(d);return c}var c=a;b.S.call(d);d.t=function(){return c};d.G=function(){d.notifySubscribers(c)};d.H=function(){d.notifySubscribers(c,"beforeChange")};b.a.extend(d,b.m.fn);b.p(d,"peek",d.t);b.p(d,"valueHasMutated",d.G);b.p(d,"valueWillMutate",d.H);return d};b.m.fn={equalityComparer:function(a,
b){return a===p||typeof a in ma?a===b:r}};var E=b.m.Kb="__ko_proto__";b.m.fn[E]=b.m;b.ma=function(a,d){return a===p||a===I||a[E]===I?r:a[E]===d?m:b.ma(a[E],d)};b.$=function(a){return b.ma(a,b.m)};b.Ra=function(a){return"function"==typeof a&&a[E]===b.m||"function"==typeof a&&a[E]===b.j&&a.zb?m:r};b.b("observable",b.m);b.b("isObservable",b.$);b.b("isWriteableObservable",b.Ra);b.R=function(a){0==arguments.length&&(a=[]);a!==p&&(a!==I&&!("length"in a))&&j(Error("The argument passed when initializing an observable array must be an array, or null, or undefined."));
var d=b.m(a);b.a.extend(d,b.R.fn);return d};b.R.fn={remove:function(a){for(var b=this.t(),c=[],e="function"==typeof a?a:function(b){return b===a},f=0;f<b.length;f++){var g=b[f];e(g)&&(0===c.length&&this.H(),c.push(g),b.splice(f,1),f--)}c.length&&this.G();return c},removeAll:function(a){if(a===I){var d=this.t(),c=d.slice(0);this.H();d.splice(0,d.length);this.G();return c}return!a?[]:this.remove(function(d){return 0<=b.a.i(a,d)})},destroy:function(a){var b=this.t(),c="function"==typeof a?a:function(b){return b===
a};this.H();for(var e=b.length-1;0<=e;e--)c(b[e])&&(b[e]._destroy=m);this.G()},destroyAll:function(a){return a===I?this.destroy(u(m)):!a?[]:this.destroy(function(d){return 0<=b.a.i(a,d)})},indexOf:function(a){var d=this();return b.a.i(d,a)},replace:function(a,b){var c=this.indexOf(a);0<=c&&(this.H(),this.t()[c]=b,this.G())}};b.a.o("pop push reverse shift sort splice unshift".split(" "),function(a){b.R.fn[a]=function(){var b=this.t();this.H();b=b[a].apply(b,arguments);this.G();return b}});b.a.o(["slice"],
function(a){b.R.fn[a]=function(){var b=this();return b[a].apply(b,arguments)}});b.b("observableArray",b.R);b.j=function(a,d,c){function e(){b.a.o(z,function(a){a.B()});z=[]}function f(){var a=h.throttleEvaluation;a&&0<=a?(clearTimeout(t),t=setTimeout(g,a)):g()}function g(){if(!q)if(n&&w())A();else{q=m;try{var a=b.a.V(z,function(a){return a.target});b.r.mb(function(c){var d;0<=(d=b.a.i(a,c))?a[d]=I:z.push(c.ya(f))});for(var c=s.call(d),e=a.length-1;0<=e;e--)a[e]&&z.splice(e,1)[0].B();n=m;h.notifySubscribers(l,
"beforeChange");l=c}finally{b.r.end()}h.notifySubscribers(l);q=r;z.length||A()}}function h(){if(0<arguments.length)return"function"===typeof v?v.apply(d,arguments):j(Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.")),this;n||g();b.r.Wa(h);return l}function k(){return!n||0<z.length}var l,n=r,q=r,s=a;s&&"object"==typeof s?(c=s,s=c.read):(c=c||{},s||(s=c.read));"function"!=typeof s&&j(Error("Pass a function that returns the value of the ko.computed"));
var v=c.write,G=c.disposeWhenNodeIsRemoved||c.W||p,w=c.disposeWhen||c.Ka||u(r),A=e,z=[],t=p;d||(d=c.owner);h.t=function(){n||g();return l};h.xb=function(){return z.length};h.zb="function"===typeof c.write;h.B=function(){A()};h.pa=k;b.S.call(h);b.a.extend(h,b.j.fn);b.p(h,"peek",h.t);b.p(h,"dispose",h.B);b.p(h,"isActive",h.pa);b.p(h,"getDependenciesCount",h.xb);c.deferEvaluation!==m&&g();if(G&&k()){A=function(){b.a.F.Xa(G,arguments.callee);e()};b.a.F.Ca(G,A);var D=w,w=function(){return!b.a.X(G)||D()}}return h};
b.Bb=function(a){return b.ma(a,b.j)};w=b.m.Kb;b.j[w]=b.m;b.j.fn={};b.j.fn[w]=b.j;b.b("dependentObservable",b.j);b.b("computed",b.j);b.b("isComputed",b.Bb);b.gb=function(a){0==arguments.length&&j(Error("When calling ko.toJS, pass the object you want to convert."));return ba(a,function(a){for(var c=0;b.$(a)&&10>c;c++)a=a();return a})};b.toJSON=function(a,d,c){a=b.gb(a);return b.a.xa(a,d,c)};b.b("toJS",b.gb);b.b("toJSON",b.toJSON);b.k={q:function(a){switch(b.a.u(a)){case "option":return a.__ko__hasDomDataOptionValue__===
m?b.a.f.get(a,b.c.options.sa):7>=b.a.Z?a.getAttributeNode("value").specified?a.value:a.text:a.value;case "select":return 0<=a.selectedIndex?b.k.q(a.options[a.selectedIndex]):I;default:return a.value}},T:function(a,d){switch(b.a.u(a)){case "option":switch(typeof d){case "string":b.a.f.set(a,b.c.options.sa,I);"__ko__hasDomDataOptionValue__"in a&&delete a.__ko__hasDomDataOptionValue__;a.value=d;break;default:b.a.f.set(a,b.c.options.sa,d),a.__ko__hasDomDataOptionValue__=m,a.value="number"===typeof d?
d:""}break;case "select":for(var c=a.options.length-1;0<=c;c--)if(b.k.q(a.options[c])==d){a.selectedIndex=c;break}break;default:if(d===p||d===I)d="";a.value=d}}};b.b("selectExtensions",b.k);b.b("selectExtensions.readValue",b.k.q);b.b("selectExtensions.writeValue",b.k.T);var ka=/\@ko_token_(\d+)\@/g,na=["true","false"],oa=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i;b.g={Q:[],aa:function(a){var d=b.a.D(a);if(3>d.length)return[];"{"===d.charAt(0)&&(d=d.substring(1,d.length-1));a=[];for(var c=
p,e,f=0;f<d.length;f++){var g=d.charAt(f);if(c===p)switch(g){case '"':case "'":case "/":c=f,e=g}else if(g==e&&"\\"!==d.charAt(f-1)){g=d.substring(c,f+1);a.push(g);var h="@ko_token_"+(a.length-1)+"@",d=d.substring(0,c)+h+d.substring(f+1),f=f-(g.length-h.length),c=p}}e=c=p;for(var k=0,l=p,f=0;f<d.length;f++){g=d.charAt(f);if(c===p)switch(g){case "{":c=f;l=g;e="}";break;case "(":c=f;l=g;e=")";break;case "[":c=f,l=g,e="]"}g===l?k++:g===e&&(k--,0===k&&(g=d.substring(c,f+1),a.push(g),h="@ko_token_"+(a.length-
1)+"@",d=d.substring(0,c)+h+d.substring(f+1),f-=g.length-h.length,c=p))}e=[];d=d.split(",");c=0;for(f=d.length;c<f;c++)k=d[c],l=k.indexOf(":"),0<l&&l<k.length-1?(g=k.substring(l+1),e.push({key:P(k.substring(0,l),a),value:P(g,a)})):e.push({unknown:P(k,a)});return e},ba:function(a){var d="string"===typeof a?b.g.aa(a):a,c=[];a=[];for(var e,f=0;e=d[f];f++)if(0<c.length&&c.push(","),e.key){var g;a:{g=e.key;var h=b.a.D(g);switch(h.length&&h.charAt(0)){case "'":case '"':break a;default:g="'"+h+"'"}}e=e.value;
c.push(g);c.push(":");c.push(e);e=b.a.D(e);0<=b.a.i(na,b.a.D(e).toLowerCase())?e=r:(h=e.match(oa),e=h===p?r:h[1]?"Object("+h[1]+")"+h[2]:e);e&&(0<a.length&&a.push(", "),a.push(g+" : function(__ko_value) { "+e+" = __ko_value; }"))}else e.unknown&&c.push(e.unknown);d=c.join("");0<a.length&&(d=d+", '_ko_property_writers' : { "+a.join("")+" } ");return d},Eb:function(a,d){for(var c=0;c<a.length;c++)if(b.a.D(a[c].key)==d)return m;return r},ea:function(a,d,c,e,f){if(!a||!b.Ra(a)){if((a=d()._ko_property_writers)&&
a[c])a[c](e)}else(!f||a.t()!==e)&&a(e)}};b.b("expressionRewriting",b.g);b.b("expressionRewriting.bindingRewriteValidators",b.g.Q);b.b("expressionRewriting.parseObjectLiteral",b.g.aa);b.b("expressionRewriting.preProcessBindings",b.g.ba);b.b("jsonExpressionRewriting",b.g);b.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",b.g.ba);var K="\x3c!--test--\x3e"===y.createComment("test").text,ja=K?/^\x3c!--\s*ko(?:\s+(.+\s*\:[\s\S]*))?\s*--\x3e$/:/^\s*ko(?:\s+(.+\s*\:[\s\S]*))?\s*$/,ia=K?/^\x3c!--\s*\/ko\s*--\x3e$/:
/^\s*\/ko\s*$/,pa={ul:m,ol:m};b.e={I:{},childNodes:function(a){return B(a)?aa(a):a.childNodes},Y:function(a){if(B(a)){a=b.e.childNodes(a);for(var d=0,c=a.length;d<c;d++)b.removeNode(a[d])}else b.a.ka(a)},N:function(a,d){if(B(a)){b.e.Y(a);for(var c=a.nextSibling,e=0,f=d.length;e<f;e++)c.parentNode.insertBefore(d[e],c)}else b.a.N(a,d)},Va:function(a,b){B(a)?a.parentNode.insertBefore(b,a.nextSibling):a.firstChild?a.insertBefore(b,a.firstChild):a.appendChild(b)},Pa:function(a,d,c){c?B(a)?a.parentNode.insertBefore(d,
c.nextSibling):c.nextSibling?a.insertBefore(d,c.nextSibling):a.appendChild(d):b.e.Va(a,d)},firstChild:function(a){return!B(a)?a.firstChild:!a.nextSibling||H(a.nextSibling)?p:a.nextSibling},nextSibling:function(a){B(a)&&(a=$(a));return a.nextSibling&&H(a.nextSibling)?p:a.nextSibling},jb:function(a){return(a=B(a))?a[1]:p},Ta:function(a){if(pa[b.a.u(a)]){var d=a.firstChild;if(d){do if(1===d.nodeType){var c;c=d.firstChild;var e=p;if(c){do if(e)e.push(c);else if(B(c)){var f=$(c,m);f?c=f:e=[c]}else H(c)&&
(e=[c]);while(c=c.nextSibling)}if(c=e){e=d.nextSibling;for(f=0;f<c.length;f++)e?a.insertBefore(c[f],e):a.appendChild(c[f])}}while(d=d.nextSibling)}}}};b.b("virtualElements",b.e);b.b("virtualElements.allowedBindings",b.e.I);b.b("virtualElements.emptyNode",b.e.Y);b.b("virtualElements.insertAfter",b.e.Pa);b.b("virtualElements.prepend",b.e.Va);b.b("virtualElements.setDomNodeChildren",b.e.N);b.J=function(){this.Ha={}};b.a.extend(b.J.prototype,{nodeHasBindings:function(a){switch(a.nodeType){case 1:return a.getAttribute("data-bind")!=
p;case 8:return b.e.jb(a)!=p;default:return r}},getBindings:function(a,b){var c=this.getBindingsString(a,b);return c?this.parseBindingsString(c,b,a):p},getBindingsString:function(a){switch(a.nodeType){case 1:return a.getAttribute("data-bind");case 8:return b.e.jb(a);default:return p}},parseBindingsString:function(a,d,c){try{var e;if(!(e=this.Ha[a])){var f=this.Ha,g,h="with($context){with($data||{}){return{"+b.g.ba(a)+"}}}";g=new Function("$context","$element",h);e=f[a]=g}return e(d,c)}catch(k){j(Error("Unable to parse bindings.\nMessage: "+
k+";\nBindings value: "+a))}}});b.J.instance=new b.J;b.b("bindingProvider",b.J);b.c={};b.z=function(a,d,c){d?(b.a.extend(this,d),this.$parentContext=d,this.$parent=d.$data,this.$parents=(d.$parents||[]).slice(0),this.$parents.unshift(this.$parent)):(this.$parents=[],this.$root=a,this.ko=b);this.$data=a;c&&(this[c]=a)};b.z.prototype.createChildContext=function(a,d){return new b.z(a,this,d)};b.z.prototype.extend=function(a){var d=b.a.extend(new b.z,this);return b.a.extend(d,a)};b.eb=function(a,d){if(2==
arguments.length)b.a.f.set(a,"__ko_bindingContext__",d);else return b.a.f.get(a,"__ko_bindingContext__")};b.Fa=function(a,d,c){1===a.nodeType&&b.e.Ta(a);return X(a,d,c,m)};b.Ea=function(a,b){(1===b.nodeType||8===b.nodeType)&&Z(a,b,m)};b.Da=function(a,b){b&&(1!==b.nodeType&&8!==b.nodeType)&&j(Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node"));b=b||x.document.body;Y(a,b,m)};b.ja=function(a){switch(a.nodeType){case 1:case 8:var d=b.eb(a);if(d)return d;
if(a.parentNode)return b.ja(a.parentNode)}return I};b.pb=function(a){return(a=b.ja(a))?a.$data:I};b.b("bindingHandlers",b.c);b.b("applyBindings",b.Da);b.b("applyBindingsToDescendants",b.Ea);b.b("applyBindingsToNode",b.Fa);b.b("contextFor",b.ja);b.b("dataFor",b.pb);var fa={"class":"className","for":"htmlFor"};b.c.attr={update:function(a,d){var c=b.a.d(d())||{},e;for(e in c)if("string"==typeof e){var f=b.a.d(c[e]),g=f===r||f===p||f===I;g&&a.removeAttribute(e);8>=b.a.Z&&e in fa?(e=fa[e],g?a.removeAttribute(e):
a[e]=f):g||a.setAttribute(e,f.toString());"name"===e&&b.a.ab(a,g?"":f.toString())}}};b.c.checked={init:function(a,d,c){b.a.n(a,"click",function(){var e;if("checkbox"==a.type)e=a.checked;else if("radio"==a.type&&a.checked)e=a.value;else return;var f=d(),g=b.a.d(f);"checkbox"==a.type&&g instanceof Array?(e=b.a.i(g,a.value),a.checked&&0>e?f.push(a.value):!a.checked&&0<=e&&f.splice(e,1)):b.g.ea(f,c,"checked",e,m)});"radio"==a.type&&!a.name&&b.c.uniqueName.init(a,u(m))},update:function(a,d){var c=b.a.d(d());
"checkbox"==a.type?a.checked=c instanceof Array?0<=b.a.i(c,a.value):c:"radio"==a.type&&(a.checked=a.value==c)}};b.c.css={update:function(a,d){var c=b.a.d(d());if("object"==typeof c)for(var e in c){var f=b.a.d(c[e]);b.a.da(a,e,f)}else c=String(c||""),b.a.da(a,a.__ko__cssValue,r),a.__ko__cssValue=c,b.a.da(a,c,m)}};b.c.enable={update:function(a,d){var c=b.a.d(d());c&&a.disabled?a.removeAttribute("disabled"):!c&&!a.disabled&&(a.disabled=m)}};b.c.disable={update:function(a,d){b.c.enable.update(a,function(){return!b.a.d(d())})}};
b.c.event={init:function(a,d,c,e){var f=d()||{},g;for(g in f)(function(){var f=g;"string"==typeof f&&b.a.n(a,f,function(a){var g,n=d()[f];if(n){var q=c();try{var s=b.a.L(arguments);s.unshift(e);g=n.apply(e,s)}finally{g!==m&&(a.preventDefault?a.preventDefault():a.returnValue=r)}q[f+"Bubble"]===r&&(a.cancelBubble=m,a.stopPropagation&&a.stopPropagation())}})})()}};b.c.foreach={Sa:function(a){return function(){var d=a(),c=b.a.ua(d);if(!c||"number"==typeof c.length)return{foreach:d,templateEngine:b.C.oa};
b.a.d(d);return{foreach:c.data,as:c.as,includeDestroyed:c.includeDestroyed,afterAdd:c.afterAdd,beforeRemove:c.beforeRemove,afterRender:c.afterRender,beforeMove:c.beforeMove,afterMove:c.afterMove,templateEngine:b.C.oa}}},init:function(a,d){return b.c.template.init(a,b.c.foreach.Sa(d))},update:function(a,d,c,e,f){return b.c.template.update(a,b.c.foreach.Sa(d),c,e,f)}};b.g.Q.foreach=r;b.e.I.foreach=m;b.c.hasfocus={init:function(a,d,c){function e(e){a.__ko_hasfocusUpdating=m;var f=a.ownerDocument;"activeElement"in
f&&(e=f.activeElement===a);f=d();b.g.ea(f,c,"hasfocus",e,m);a.__ko_hasfocusUpdating=r}var f=e.bind(p,m),g=e.bind(p,r);b.a.n(a,"focus",f);b.a.n(a,"focusin",f);b.a.n(a,"blur",g);b.a.n(a,"focusout",g)},update:function(a,d){var c=b.a.d(d());a.__ko_hasfocusUpdating||(c?a.focus():a.blur(),b.r.K(b.a.Ba,p,[a,c?"focusin":"focusout"]))}};b.c.html={init:function(){return{controlsDescendantBindings:m}},update:function(a,d){b.a.ca(a,d())}};var da="__ko_withIfBindingData";Q("if");Q("ifnot",r,m);Q("with",m,r,function(a,
b){return a.createChildContext(b)});b.c.options={update:function(a,d,c){"select"!==b.a.u(a)&&j(Error("options binding applies only to SELECT elements"));for(var e=0==a.length,f=b.a.V(b.a.fa(a.childNodes,function(a){return a.tagName&&"option"===b.a.u(a)&&a.selected}),function(a){return b.k.q(a)||a.innerText||a.textContent}),g=a.scrollTop,h=b.a.d(d());0<a.length;)b.A(a.options[0]),a.remove(0);if(h){c=c();var k=c.optionsIncludeDestroyed;"number"!=typeof h.length&&(h=[h]);if(c.optionsCaption){var l=y.createElement("option");
b.a.ca(l,c.optionsCaption);b.k.T(l,I);a.appendChild(l)}d=0;for(var n=h.length;d<n;d++){var q=h[d];if(!q||!q._destroy||k){var l=y.createElement("option"),s=function(a,b,c){var d=typeof b;return"function"==d?b(a):"string"==d?a[b]:c},v=s(q,c.optionsValue,q);b.k.T(l,b.a.d(v));q=s(q,c.optionsText,v);b.a.cb(l,q);a.appendChild(l)}}h=a.getElementsByTagName("option");d=k=0;for(n=h.length;d<n;d++)0<=b.a.i(f,b.k.q(h[d]))&&(b.a.bb(h[d],m),k++);a.scrollTop=g;e&&"value"in c&&ea(a,b.a.ua(c.value),m);b.a.ub(a)}}};
b.c.options.sa="__ko.optionValueDomData__";b.c.selectedOptions={init:function(a,d,c){b.a.n(a,"change",function(){var e=d(),f=[];b.a.o(a.getElementsByTagName("option"),function(a){a.selected&&f.push(b.k.q(a))});b.g.ea(e,c,"value",f)})},update:function(a,d){"select"!=b.a.u(a)&&j(Error("values binding applies only to SELECT elements"));var c=b.a.d(d());c&&"number"==typeof c.length&&b.a.o(a.getElementsByTagName("option"),function(a){var d=0<=b.a.i(c,b.k.q(a));b.a.bb(a,d)})}};b.c.style={update:function(a,
d){var c=b.a.d(d()||{}),e;for(e in c)if("string"==typeof e){var f=b.a.d(c[e]);a.style[e]=f||""}}};b.c.submit={init:function(a,d,c,e){"function"!=typeof d()&&j(Error("The value for a submit binding must be a function"));b.a.n(a,"submit",function(b){var c,h=d();try{c=h.call(e,a)}finally{c!==m&&(b.preventDefault?b.preventDefault():b.returnValue=r)}})}};b.c.text={update:function(a,d){b.a.cb(a,d())}};b.e.I.text=m;b.c.uniqueName={init:function(a,d){if(d()){var c="ko_unique_"+ ++b.c.uniqueName.ob;b.a.ab(a,
c)}}};b.c.uniqueName.ob=0;b.c.value={init:function(a,d,c){function e(){h=r;var e=d(),f=b.k.q(a);b.g.ea(e,c,"value",f)}var f=["change"],g=c().valueUpdate,h=r;g&&("string"==typeof g&&(g=[g]),b.a.P(f,g),f=b.a.Ga(f));if(b.a.Z&&("input"==a.tagName.toLowerCase()&&"text"==a.type&&"off"!=a.autocomplete&&(!a.form||"off"!=a.form.autocomplete))&&-1==b.a.i(f,"propertychange"))b.a.n(a,"propertychange",function(){h=m}),b.a.n(a,"blur",function(){h&&e()});b.a.o(f,function(c){var d=e;b.a.Ob(c,"after")&&(d=function(){setTimeout(e,
0)},c=c.substring(5));b.a.n(a,c,d)})},update:function(a,d){var c="select"===b.a.u(a),e=b.a.d(d()),f=b.k.q(a),g=e!=f;0===e&&(0!==f&&"0"!==f)&&(g=m);g&&(f=function(){b.k.T(a,e)},f(),c&&setTimeout(f,0));c&&0<a.length&&ea(a,e,r)}};b.c.visible={update:function(a,d){var c=b.a.d(d()),e="none"!=a.style.display;c&&!e?a.style.display="":!c&&e&&(a.style.display="none")}};b.c.click={init:function(a,d,c,e){return b.c.event.init.call(this,a,function(){var a={};a.click=d();return a},c,e)}};b.v=function(){};b.v.prototype.renderTemplateSource=
function(){j(Error("Override renderTemplateSource"))};b.v.prototype.createJavaScriptEvaluatorBlock=function(){j(Error("Override createJavaScriptEvaluatorBlock"))};b.v.prototype.makeTemplateSource=function(a,d){if("string"==typeof a){d=d||y;var c=d.getElementById(a);c||j(Error("Cannot find template with ID "+a));return new b.l.h(c)}if(1==a.nodeType||8==a.nodeType)return new b.l.O(a);j(Error("Unknown template type: "+a))};b.v.prototype.renderTemplate=function(a,b,c,e){a=this.makeTemplateSource(a,e);
return this.renderTemplateSource(a,b,c)};b.v.prototype.isTemplateRewritten=function(a,b){return this.allowTemplateRewriting===r?m:this.makeTemplateSource(a,b).data("isRewritten")};b.v.prototype.rewriteTemplate=function(a,b,c){a=this.makeTemplateSource(a,c);b=b(a.text());a.text(b);a.data("isRewritten",m)};b.b("templateEngine",b.v);var qa=/(<[a-z]+\d*(\s+(?!data-bind=)[a-z0-9\-]+(=(\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind=(["'])([\s\S]*?)\5/gi,ra=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;b.za={vb:function(a,
d,c){d.isTemplateRewritten(a,c)||d.rewriteTemplate(a,function(a){return b.za.Gb(a,d)},c)},Gb:function(a,b){return a.replace(qa,function(a,e,f,g,h,k,l){return W(l,e,b)}).replace(ra,function(a,e){return W(e,"\x3c!-- ko --\x3e",b)})},kb:function(a){return b.s.ra(function(d,c){d.nextSibling&&b.Fa(d.nextSibling,a,c)})}};b.b("__tr_ambtns",b.za.kb);b.l={};b.l.h=function(a){this.h=a};b.l.h.prototype.text=function(){var a=b.a.u(this.h),a="script"===a?"text":"textarea"===a?"value":"innerHTML";if(0==arguments.length)return this.h[a];
var d=arguments[0];"innerHTML"===a?b.a.ca(this.h,d):this.h[a]=d};b.l.h.prototype.data=function(a){if(1===arguments.length)return b.a.f.get(this.h,"templateSourceData_"+a);b.a.f.set(this.h,"templateSourceData_"+a,arguments[1])};b.l.O=function(a){this.h=a};b.l.O.prototype=new b.l.h;b.l.O.prototype.text=function(){if(0==arguments.length){var a=b.a.f.get(this.h,"__ko_anon_template__")||{};a.Aa===I&&a.ia&&(a.Aa=a.ia.innerHTML);return a.Aa}b.a.f.set(this.h,"__ko_anon_template__",{Aa:arguments[0]})};b.l.h.prototype.nodes=
function(){if(0==arguments.length)return(b.a.f.get(this.h,"__ko_anon_template__")||{}).ia;b.a.f.set(this.h,"__ko_anon_template__",{ia:arguments[0]})};b.b("templateSources",b.l);b.b("templateSources.domElement",b.l.h);b.b("templateSources.anonymousTemplate",b.l.O);var O;b.wa=function(a){a!=I&&!(a instanceof b.v)&&j(Error("templateEngine must inherit from ko.templateEngine"));O=a};b.va=function(a,d,c,e,f){c=c||{};(c.templateEngine||O)==I&&j(Error("Set a template engine before calling renderTemplate"));
f=f||"replaceChildren";if(e){var g=N(e);return b.j(function(){var h=d&&d instanceof b.z?d:new b.z(b.a.d(d)),k="function"==typeof a?a(h.$data,h):a,h=T(e,f,k,h,c);"replaceNode"==f&&(e=h,g=N(e))},p,{Ka:function(){return!g||!b.a.X(g)},W:g&&"replaceNode"==f?g.parentNode:g})}return b.s.ra(function(e){b.va(a,d,c,e,"replaceNode")})};b.Mb=function(a,d,c,e,f){function g(a,b){U(b,k);c.afterRender&&c.afterRender(b,a)}function h(d,e){k=f.createChildContext(b.a.d(d),c.as);k.$index=e;var g="function"==typeof a?
a(d,k):a;return T(p,"ignoreTargetNode",g,k,c)}var k;return b.j(function(){var a=b.a.d(d)||[];"undefined"==typeof a.length&&(a=[a]);a=b.a.fa(a,function(a){return c.includeDestroyed||a===I||a===p||!b.a.d(a._destroy)});b.r.K(b.a.$a,p,[e,a,h,c,g])},p,{W:e})};b.c.template={init:function(a,d){var c=b.a.d(d());if("string"!=typeof c&&!c.name&&(1==a.nodeType||8==a.nodeType))c=1==a.nodeType?a.childNodes:b.e.childNodes(a),c=b.a.Hb(c),(new b.l.O(a)).nodes(c);return{controlsDescendantBindings:m}},update:function(a,
d,c,e,f){d=b.a.d(d());c={};e=m;var g,h=p;"string"!=typeof d&&(c=d,d=c.name,"if"in c&&(e=b.a.d(c["if"])),e&&"ifnot"in c&&(e=!b.a.d(c.ifnot)),g=b.a.d(c.data));"foreach"in c?h=b.Mb(d||a,e&&c.foreach||[],c,a,f):e?(f="data"in c?f.createChildContext(g,c.as):f,h=b.va(d||a,f,c,a)):b.e.Y(a);f=h;(g=b.a.f.get(a,"__ko__templateComputedDomDataKey__"))&&"function"==typeof g.B&&g.B();b.a.f.set(a,"__ko__templateComputedDomDataKey__",f&&f.pa()?f:I)}};b.g.Q.template=function(a){a=b.g.aa(a);return 1==a.length&&a[0].unknown||
b.g.Eb(a,"name")?p:"This template engine does not support anonymous templates nested within its templates"};b.e.I.template=m;b.b("setTemplateEngine",b.wa);b.b("renderTemplate",b.va);b.a.Ja=function(a,b,c){a=a||[];b=b||[];return a.length<=b.length?S(a,b,"added","deleted",c):S(b,a,"deleted","added",c)};b.b("utils.compareArrays",b.a.Ja);b.a.$a=function(a,d,c,e,f){function g(a,b){t=l[b];w!==b&&(z[a]=t);t.na(w++);M(t.M);s.push(t);A.push(t)}function h(a,c){if(a)for(var d=0,e=c.length;d<e;d++)c[d]&&b.a.o(c[d].M,
function(b){a(b,d,c[d].U)})}d=d||[];e=e||{};var k=b.a.f.get(a,"setDomNodeChildrenFromArrayMapping_lastMappingResult")===I,l=b.a.f.get(a,"setDomNodeChildrenFromArrayMapping_lastMappingResult")||[],n=b.a.V(l,function(a){return a.U}),q=b.a.Ja(n,d),s=[],v=0,w=0,B=[],A=[];d=[];for(var z=[],n=[],t,D=0,C,E;C=q[D];D++)switch(E=C.moved,C.status){case "deleted":E===I&&(t=l[v],t.j&&t.j.B(),B.push.apply(B,M(t.M)),e.beforeRemove&&(d[D]=t,A.push(t)));v++;break;case "retained":g(D,v++);break;case "added":E!==I?
g(D,E):(t={U:C.value,na:b.m(w++)},s.push(t),A.push(t),k||(n[D]=t))}h(e.beforeMove,z);b.a.o(B,e.beforeRemove?b.A:b.removeNode);for(var D=0,k=b.e.firstChild(a),H;t=A[D];D++){t.M||b.a.extend(t,ha(a,c,t.U,f,t.na));for(v=0;q=t.M[v];k=q.nextSibling,H=q,v++)q!==k&&b.e.Pa(a,q,H);!t.Ab&&f&&(f(t.U,t.M,t.na),t.Ab=m)}h(e.beforeRemove,d);h(e.afterMove,z);h(e.afterAdd,n);b.a.f.set(a,"setDomNodeChildrenFromArrayMapping_lastMappingResult",s)};b.b("utils.setDomNodeChildrenFromArrayMapping",b.a.$a);b.C=function(){this.allowTemplateRewriting=
r};b.C.prototype=new b.v;b.C.prototype.renderTemplateSource=function(a){var d=!(9>b.a.Z)&&a.nodes?a.nodes():p;if(d)return b.a.L(d.cloneNode(m).childNodes);a=a.text();return b.a.ta(a)};b.C.oa=new b.C;b.wa(b.C.oa);b.b("nativeTemplateEngine",b.C);b.qa=function(){var a=this.Db=function(){if("undefined"==typeof F||!F.tmpl)return 0;try{if(0<=F.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(a){}return 1}();this.renderTemplateSource=function(b,c,e){e=e||{};2>a&&j(Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later."));
var f=b.data("precompiled");f||(f=b.text()||"",f=F.template(p,"{{ko_with $item.koBindingContext}}"+f+"{{/ko_with}}"),b.data("precompiled",f));b=[c.$data];c=F.extend({koBindingContext:c},e.templateOptions);c=F.tmpl(f,b,c);c.appendTo(y.createElement("div"));F.fragments={};return c};this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+a+" })()) }}"};this.addTemplate=function(a,b){y.write("<script type='text/html' id='"+a+"'>"+b+"\x3c/script>")};0<a&&(F.tmpl.tag.ko_code=
{open:"__.push($1 || '');"},F.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};b.qa.prototype=new b.v;w=new b.qa;0<w.Db&&b.wa(w);b.b("jqueryTmplTemplateEngine",b.qa)}"function"===typeof require&&"object"===typeof exports&&"object"===typeof module?L(module.exports||exports):"function"===typeof define&&define.amd?define("knockout",["exports"],L):L(x.ko={});m;
})();
/*!
 *
 * Copyright 2009-2012 Kris Kowal under the terms of the MIT
 * license found at http://github.com/kriskowal/q/raw/master/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */
(function(n){if(typeof bootstrap=="function")bootstrap("promise",n);else if(typeof exports=="object")module.exports=n();else if(typeof define=="function"&&define.amd)define("q",n);else if(typeof ses!="undefined")if(ses.ok())ses.makeQ=n;else return;else Q=n()})(function(){"use strict";function h(n){return function(){return wt.apply(n,arguments)}}function rt(n){return n===Object(n)}function ni(n){return gt(n)==="[object StopIteration]"||n instanceof k}function ut(n,t){var r,i,u;if(v&&t.stack&&typeof n=="object"&&n!==null&&n.stack&&n.stack.indexOf(d)===-1){for(r=[],i=t;!!i;i=i.source)i.stack&&r.unshift(i.stack);r.unshift(n.stack);u=r.join("\n"+d+"\n");n.stack=ti(u)}}function ti(n){for(var t,r=n.split("\n"),u=[],i=0;i<r.length;++i)t=r[i],ri(t)||ii(t)||!t||u.push(t);return u.join("\n")}function ii(n){return n.indexOf("(module.js:")!==-1||n.indexOf("(node.js:")!==-1}function ft(n){var r=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(n),t,i;return r?[r[1],Number(r[2])]:(t=/at ([^ ]+):(\d+):(?:\d+)$/.exec(n),t)?[t[1],Number(t[2])]:(i=/.*@(.+):(\d+)$/.exec(n),i?[i[1],Number(i[2])]:void 0)}function ri(n){var t=ft(n),r,i;return t?(r=t[0],i=t[1],r===tt&&i>=pt&&i<=vt):!1}function et(){if(v)try{throw new Error;}catch(i){var n=i.stack.split("\n"),r=n[0].indexOf("@")>0?n[1]:n[2],t=ft(r);return t?(tt=t[0],t[1]):void 0}}function ui(n,t,i){return function(){return typeof console!="undefined"&&typeof console.warn=="function"&&console.warn(t+" is deprecated, use "+i+" instead.",new Error("").stack),n.apply(n,arguments)}}function n(n){return o(n)?n:ht(n)?ci(n):nt(n)}function r(){function a(n){e=n;s.source=n;y(c,function(t,i){u(function(){n.promiseDispatch.apply(n,i)})},void 0);c=void 0;l=void 0}var c=[],l=[],e,h=b(r.prototype),s=b(t.prototype);if(s.promiseDispatch=function(n,t,r){var f=i(arguments);c?(c.push(f),t==="when"&&r[1]&&l.push(r[1])):u(function(){e.promiseDispatch.apply(e,f)})},s.valueOf=function(){if(c)return s;var n=st(e);return o(n)&&(e=n),n},s.inspect=function(){return e?e.inspect():{state:"pending"}},n.longStackSupport&&v)try{throw new Error;}catch(p){s.stack=p.stack.substring(p.stack.indexOf("\n")+1)}return h.promise=s,h.resolve=function(t){e||a(n(t))},h.fulfill=function(n){e||a(nt(n))},h.reject=function(n){e||a(f(n))},h.notify=function(n){e||y(l,function(t,i){u(function(){i(n)})},void 0)},h}function s(n){if(typeof n!="function")throw new TypeError("resolver must be a function.");var t=r();try{n(t.resolve,t.reject,t.notify)}catch(i){t.reject(i)}return t.promise}function ot(t){return s(function(i,r){for(var u=0,f=t.length;u<f;u++)n(t[u]).then(i,r)})}function t(n,i,r){var u,e;return i===void 0&&(i=function(n){return f(new Error("Promise does not support operation: "+n))}),r===void 0&&(r=function(){return{state:"unknown"}}),u=b(t.prototype),u.promiseDispatch=function(t,r,e){var o;try{o=n[r]?n[r].apply(u,e):i.call(u,r,e)}catch(s){o=f(s)}t&&t(o)},u.inspect=r,r&&(e=r(),e.state==="rejected"&&(u.exception=e.reason),u.valueOf=function(){var n=r();return n.state==="pending"||n.state==="rejected"?u:n.value}),u}function e(t,i,r,u){return n(t).then(i,r,u)}function st(n){if(o(n)){var t=n.inspect();if(t.state==="fulfilled")return t.value}return n}function o(n){return rt(n)&&typeof n.promiseDispatch=="function"&&typeof n.inspect=="function"}function ht(n){return rt(n)&&typeof n.then=="function"}function fi(n){return o(n)&&n.inspect().state==="pending"}function ei(n){return!o(n)||n.inspect().state==="fulfilled"}function oi(n){return o(n)&&n.inspect().state==="rejected"}function g(){l.length=0;p.length=0;a||(a=!0)}function si(n,t){a&&(p.push(n),t&&typeof t.stack!="undefined"?l.push(t.stack):l.push("(no stack) "+t))}function hi(n){if(a){var t=bt(p,n);t!==-1&&(p.splice(t,1),l.splice(t,1))}}function f(n){var i=t({when:function(t){return t&&hi(this),t?t(n):this}},function(){return this},function(){return{state:"rejected",reason:n}});return si(i,n),i}function nt(n){return t({when:function(){return n},get:function(t){return n[t]},set:function(t,i){n[t]=i},"delete":function(t){delete n[t]},post:function(t,i){return t===null||t===void 0?n.apply(void 0,i):n[t].apply(n,i)},apply:function(t,i){return n.apply(t,i)},keys:function(){return dt(n)}},void 0,function(){return{state:"fulfilled",value:n}})}function ci(n){var t=r();return u(function(){try{n.then(t.resolve,t.reject,t.notify)}catch(i){t.reject(i)}}),t.promise}function li(i){return t({isDef:function(){}},function(n,t){return lt(i,n,t)},function(){return n(i).inspect()})}function ct(t,i,r){return n(t).spread(i,r)}function ai(n){return function(){function t(n,t){var o;if(typeof StopIteration=="undefined"){try{o=r[n](t)}catch(s){return f(s)}return o.done?o.value:e(o.value,i,u)}try{o=r[n](t)}catch(s){return ni(s)?s.value:f(s)}return e(o,i,u)}var r=n.apply(this,arguments),i=t.bind(t,"next"),u=t.bind(t,"throw");return i()}}function vi(t){n.done(n.async(t)())}function yi(n){throw new k(n);}function pi(n){return function(){return ct([this,c(arguments)],function(t,i){return n.apply(t,i)})}}function lt(t,i,r){return n(t).dispatch(i,r)}function c(n){return e(n,function(n){var i=0,t=r();return y(n,function(r,u,f){var s;o(u)&&(s=u.inspect()).state==="fulfilled"?n[f]=s.value:(++i,e(u,function(r){n[f]=r;--i==0&&t.resolve(n)},t.reject,function(n){t.notify({index:f,value:n})}))},void 0),i===0&&t.resolve(n),t.promise})}function at(t){return e(t,function(t){return t=w(t,n),e(c(w(t,function(n){return e(n,it,it)})),function(){return t})})}function wi(t){return n(t).allSettled()}function bi(t,i){return n(t).then(void 0,void 0,i)}function ki(t,i){return n(t).nodeify(i)}var v=!1,k,d,vt;try{throw new Error;}catch(yt){v=!!yt.stack}var pt=et(),tt,it=function(){},u=function(){function t(){for(var r,i;n.next;){n=n.next;r=n.task;n.task=void 0;i=n.domain;i&&(n.domain=void 0,i.enter());try{r()}catch(u){if(e){i&&i.exit();setTimeout(t,0);i&&i.enter();throw u;}else setTimeout(function(){throw u;},0)}i&&i.exit()}f=!1}var n={task:void 0,next:null},s=n,f=!1,i=void 0,e=!1,r,o;return u=function(n){s=s.next={task:n,domain:e&&process.domain,next:null};f||(f=!0,i())},typeof process!="undefined"&&process.nextTick?(e=!0,i=function(){process.nextTick(t)}):typeof setImmediate=="function"?i=typeof window!="undefined"?setImmediate.bind(window,t):function(){setImmediate(t)}:typeof MessageChannel!="undefined"?(r=new MessageChannel,r.port1.onmessage=function(){i=o;r.port1.onmessage=t;t()},o=function(){r.port2.postMessage(0)},i=function(){setTimeout(t,0);o()}):i=function(){setTimeout(t,0)},u}(),wt=Function.call;var i=h(Array.prototype.slice),y=h(Array.prototype.reduce||function(n,t){var i=0,r=this.length;if(arguments.length===1)do{if(i in this){t=this[i++];break}if(++i>=r)throw new TypeError;}while(1);for(;i<r;i++)i in this&&(t=n(t,this[i],i));return t}),bt=h(Array.prototype.indexOf||function(n){for(var t=0;t<this.length;t++)if(this[t]===n)return t;return-1}),w=h(Array.prototype.map||function(n,t){var i=this,r=[];return y(i,function(u,f,e){r.push(n.call(t,f,e,i))},void 0),r}),b=Object.create||function(n){function t(){}return t.prototype=n,new t},kt=h(Object.prototype.hasOwnProperty),dt=Object.keys||function(n){var t=[];for(var i in n)kt(n,i)&&t.push(i);return t},gt=h(Object.prototype.toString);k=typeof ReturnValue!="undefined"?ReturnValue:function(n){this.value=n};d="From previous event:";n.resolve=n;n.nextTick=u;n.longStackSupport=!1;n.defer=r;r.prototype.makeNodeResolver=function(){var n=this;return function(t,r){t?n.reject(t):arguments.length>2?n.resolve(i(arguments,1)):n.resolve(r)}};n.Promise=s;n.promise=s;s.race=ot;s.all=c;s.reject=f;s.resolve=n;n.passByCopy=function(n){return n};t.prototype.passByCopy=function(){return this};n.join=function(t,i){return n(t).join(i)};t.prototype.join=function(t){return n([this,t]).spread(function(n,t){if(n===t)return n;throw new Error("Can't join: not the same: "+n+" "+t);})};n.race=ot;t.prototype.race=function(){return this.then(n.race)};n.makePromise=t;t.prototype.toString=function(){return"[object Promise]"};t.prototype.then=function(t,i,e){function c(n){try{return typeof t=="function"?t(n):n}catch(i){return f(i)}}function l(n){if(typeof i=="function"){ut(n,h);try{return i(n)}catch(t){return f(t)}}return f(n)}function a(n){return typeof e=="function"?e(n):n}var h=this,o=r(),s=!1;return u(function(){h.promiseDispatch(function(n){s||(s=!0,o.resolve(c(n)))},"when",[function(n){s||(s=!0,o.resolve(l(n)))}])}),h.promiseDispatch(void 0,"when",[void 0,function(t){var i,r=!1;try{i=a(t)}catch(u){if(r=!0,n.onerror)n.onerror(u);else throw u;}r||o.notify(i)}]),o.promise};n.when=e;t.prototype.thenResolve=function(n){return this.then(function(){return n})};n.thenResolve=function(t,i){return n(t).thenResolve(i)};t.prototype.thenReject=function(n){return this.then(function(){throw n;})};n.thenReject=function(t,i){return n(t).thenReject(i)};n.nearer=st;n.isPromise=o;n.isPromiseAlike=ht;n.isPending=fi;t.prototype.isPending=function(){return this.inspect().state==="pending"};n.isFulfilled=ei;t.prototype.isFulfilled=function(){return this.inspect().state==="fulfilled"};n.isRejected=oi;t.prototype.isRejected=function(){return this.inspect().state==="rejected"};var l=[],p=[],a=!0;return n.resetUnhandledRejections=g,n.getUnhandledReasons=function(){return l.slice()},n.stopUnhandledRejectionTracking=function(){g();a=!1},g(),n.reject=f,n.fulfill=nt,n.master=li,n.spread=ct,t.prototype.spread=function(n,t){return this.all().then(function(t){return n.apply(void 0,t)},t)},n.async=ai,n.spawn=vi,n["return"]=yi,n.promised=pi,n.dispatch=lt,t.prototype.dispatch=function(n,t){var f=this,i=r();return u(function(){f.promiseDispatch(i.resolve,n,t)}),i.promise},n.get=function(t,i){return n(t).dispatch("get",[i])},t.prototype.get=function(n){return this.dispatch("get",[n])},n.set=function(t,i,r){return n(t).dispatch("set",[i,r])},t.prototype.set=function(n,t){return this.dispatch("set",[n,t])},n.del=n["delete"]=function(t,i){return n(t).dispatch("delete",[i])},t.prototype.del=t.prototype["delete"]=function(n){return this.dispatch("delete",[n])},n.mapply=n.post=function(t,i,r){return n(t).dispatch("post",[i,r])},t.prototype.mapply=t.prototype.post=function(n,t){return this.dispatch("post",[n,t])},n.send=n.mcall=n.invoke=function(t,r){return n(t).dispatch("post",[r,i(arguments,2)])},t.prototype.send=t.prototype.mcall=t.prototype.invoke=function(n){return this.dispatch("post",[n,i(arguments,1)])},n.fapply=function(t,i){return n(t).dispatch("apply",[void 0,i])},t.prototype.fapply=function(n){return this.dispatch("apply",[void 0,n])},n["try"]=n.fcall=function(t){return n(t).dispatch("apply",[void 0,i(arguments,1)])},t.prototype.fcall=function(){return this.dispatch("apply",[void 0,i(arguments)])},n.fbind=function(t){var r=n(t),u=i(arguments,1);return function(){return r.dispatch("apply",[this,u.concat(i(arguments))])}},t.prototype.fbind=function(){var n=this,t=i(arguments);return function(){return n.dispatch("apply",[this,t.concat(i(arguments))])}},n.keys=function(t){return n(t).dispatch("keys",[])},t.prototype.keys=function(){return this.dispatch("keys",[])},n.all=c,t.prototype.all=function(){return c(this)},n.allResolved=ui(at,"allResolved","allSettled"),t.prototype.allResolved=function(){return at(this)},n.allSettled=wi,t.prototype.allSettled=function(){return this.then(function(t){return c(w(t,function(t){function i(){return t.inspect()}return t=n(t),t.then(i,i)}))})},n.fail=n["catch"]=function(t,i){return n(t).then(void 0,i)},t.prototype.fail=t.prototype["catch"]=function(n){return this.then(void 0,n)},n.progress=bi,t.prototype.progress=function(n){return this.then(void 0,void 0,n)},n.fin=n["finally"]=function(t,i){return n(t)["finally"](i)},t.prototype.fin=t.prototype["finally"]=function(t){return t=n(t),this.then(function(n){return t.fcall().then(function(){return n})},function(n){return t.fcall().then(function(){throw n;})})},n.done=function(t,i,r,u){return n(t).done(i,r,u)},t.prototype.done=function(t,i,r){var f=function(t){u(function(){if(ut(t,e),n.onerror)n.onerror(t);else throw t;})},e=t||i||r?this.then(t,i,r):this;typeof process=="object"&&process&&process.domain&&(f=process.domain.bind(f));e.then(void 0,f)},n.timeout=function(t,i,r){return n(t).timeout(i,r)},t.prototype.timeout=function(n,t){var i=r(),u=setTimeout(function(){i.reject(new Error(t||"Timed out after "+n+" ms"))},n);return this.then(function(n){clearTimeout(u);i.resolve(n)},function(n){clearTimeout(u);i.reject(n)},i.notify),i.promise},n.delay=function(t,i){return i===void 0&&(i=t,t=void 0),n(t).delay(i)},t.prototype.delay=function(n){return this.then(function(t){var i=r();return setTimeout(function(){i.resolve(t)},n),i.promise})},n.nfapply=function(t,i){return n(t).nfapply(i)},t.prototype.nfapply=function(n){var t=r(),u=i(n);return u.push(t.makeNodeResolver()),this.fapply(u).fail(t.reject),t.promise},n.nfcall=function(t){var r=i(arguments,1);return n(t).nfapply(r)},t.prototype.nfcall=function(){var t=i(arguments),n=r();return t.push(n.makeNodeResolver()),this.fapply(t).fail(n.reject),n.promise},n.nfbind=n.denodeify=function(t){var u=i(arguments,1);return function(){var e=u.concat(i(arguments)),f=r();return e.push(f.makeNodeResolver()),n(t).fapply(e).fail(f.reject),f.promise}},t.prototype.nfbind=t.prototype.denodeify=function(){var t=i(arguments);return t.unshift(this),n.denodeify.apply(void 0,t)},n.nbind=function(t,u){var f=i(arguments,2);return function(){function s(){return t.apply(u,arguments)}var o=f.concat(i(arguments)),e=r();return o.push(e.makeNodeResolver()),n(s).fapply(o).fail(e.reject),e.promise}},t.prototype.nbind=function(){var t=i(arguments,0);return t.unshift(this),n.nbind.apply(void 0,t)},n.nmapply=n.npost=function(t,i,r){return n(t).npost(i,r)},t.prototype.nmapply=t.prototype.npost=function(n,t){var f=i(t||[]),u=r();return f.push(u.makeNodeResolver()),this.dispatch("post",[n,f]).fail(u.reject),u.promise},n.nsend=n.nmcall=n.ninvoke=function(t,u){var e=i(arguments,2),f=r();return e.push(f.makeNodeResolver()),n(t).dispatch("post",[u,e]).fail(f.reject),f.promise},t.prototype.nsend=t.prototype.nmcall=t.prototype.ninvoke=function(n){var u=i(arguments,1),t=r();return u.push(t.makeNodeResolver()),this.dispatch("post",[n,u]).fail(t.reject),t.promise},n.nodeify=ki,t.prototype.nodeify=function(n){if(n)this.then(function(t){u(function(){n(null,t)})},function(t){u(function(){n(t)})});else return this},vt=et(),n});
// Copyright (C) Microsoft Corporation. All rights reserved.
define("VSS/Common/Contracts/Platform",["require","exports"],function(n,t){var i,r,u;(function(n){n[n.Unknown=0]="Unknown";n[n.Deployment=1]="Deployment";n[n.Application=2]="Application";n[n.ProjectCollection=4]="ProjectCollection"})(t.ContextHostType||(t.ContextHostType={}));i=t.ContextHostType,function(n){n[n.Default=0]="Default";n[n.Resource=1]="Resource"}(t.ContributionPathType||(t.ContributionPathType={}));r=t.ContributionPathType,function(n){n[n.None=0]="None";n[n.Deployment=1]="Deployment";n[n.Application=2]="Application";n[n.Collection=4]="Collection";n[n.Project=8]="Project";n[n.Team=16]="Team";n[n.ApplicationAll=30]="ApplicationAll";n[n.All=31]="All"}(t.NavigationContextLevels||(t.NavigationContextLevels={}));u=t.NavigationContextLevels;t.TypeInfo={AccessPointModel:{fields:null},ActiveExtensionsData:{fields:null},AppInsightsConfiguration:{fields:null},AppInsightsCustomTrackPageData:{fields:null},ConfigurationContext:{fields:null},ConfigurationContextApis:{fields:null},ConfigurationContextPaths:{fields:null},ContextHostType:{enumValues:{unknown:0,deployment:1,application:2,projectCollection:4}},ContextIdentifier:{fields:null},ContributedServiceContext:{fields:null},ContributionPath:{fields:null},ContributionPathType:{enumValues:{"default":0,resource:1}},CoreReferencesContext:{fields:null},DaylightSavingsAdjustmentEntry:{fields:null},DiagnosticsContext:{fields:null},DynamicBundlesCollection:{fields:null},DynamicCSSBundle:{fields:null},DynamicScriptBundle:{fields:null},ExtendedHostContext:{fields:null},FeatureAvailabilityContext:{fields:null},GlobalizationContext:{fields:null},HeaderModel:{fields:null},HostContext:{fields:null},Hub:{fields:null},HubGroup:{fields:null},HubsContext:{fields:null},IdentityModel:{fields:null},JavascriptFileReference:{fields:null},JsonArrayWrapper:{fields:null},MicrosoftAjaxConfig:{fields:null},ModuleLoaderConfiguration:{fields:null},ModuleLoaderShimConfiguration:{fields:null},NavigationContext:{fields:null},NavigationContextLevels:{enumValues:{none:0,deployment:1,application:2,collection:4,project:8,team:16,applicationAll:30,all:31}},PageContext:{fields:null},PinningPreferences:{fields:null},ServiceLocations:{fields:null},StylesheetReference:{fields:null},TeamContext:{fields:null},TeamFoundationServiceHostModel:{fields:null},TfsMailSettings:{fields:null},TfsServiceHostDescriptor:{fields:null},TimeZonesConfiguration:{fields:null},UserContext:{fields:null},WebContext:{fields:null},WebPageDataProviderPageSource:{fields:null}};t.TypeInfo.AppInsightsConfiguration.fields={customTrackPageData:{typeInfo:t.TypeInfo.AppInsightsCustomTrackPageData}};t.TypeInfo.ConfigurationContext.fields={paths:{typeInfo:t.TypeInfo.ConfigurationContextPaths},api:{typeInfo:t.TypeInfo.ConfigurationContextApis},mailSettings:{typeInfo:t.TypeInfo.TfsMailSettings}};t.TypeInfo.ContributedServiceContext.fields={serviceLocations:{typeInfo:t.TypeInfo.ServiceLocations},featureAvailability:{typeInfo:t.TypeInfo.FeatureAvailabilityContext},bundles:{typeInfo:t.TypeInfo.DynamicBundlesCollection},moduleLoaderConfig:{typeInfo:t.TypeInfo.ModuleLoaderConfiguration},paths:{typeInfo:t.TypeInfo.ConfigurationContextPaths}};t.TypeInfo.ContributionPath.fields={pathType:{enumType:t.TypeInfo.ContributionPathType}};t.TypeInfo.CoreReferencesContext.fields={stylesheets:{isArray:!0,typeInfo:t.TypeInfo.StylesheetReference},scripts:{isArray:!0,typeInfo:t.TypeInfo.JavascriptFileReference},coreScriptsBundle:{typeInfo:t.TypeInfo.JavascriptFileReference},extensionCoreReferences:{typeInfo:t.TypeInfo.JavascriptFileReference}};t.TypeInfo.DaylightSavingsAdjustmentEntry.fields={start:{isDate:!0}};t.TypeInfo.DynamicBundlesCollection.fields={scripts:{isArray:!0,typeInfo:t.TypeInfo.DynamicScriptBundle},styles:{isArray:!0,typeInfo:t.TypeInfo.DynamicCSSBundle}};t.TypeInfo.ExtendedHostContext.fields={hostType:{enumType:t.TypeInfo.ContextHostType}};t.TypeInfo.HubsContext.fields={hubGroups:{isArray:!0,typeInfo:t.TypeInfo.HubGroup},hubs:{isArray:!0,typeInfo:t.TypeInfo.Hub},allHubs:{isArray:!0,typeInfo:t.TypeInfo.Hub},pinningPreferences:{typeInfo:t.TypeInfo.PinningPreferences}};t.TypeInfo.ModuleLoaderConfiguration.fields={contributionPaths:{isDictionary:!0,dictionaryValueTypeInfo:t.TypeInfo.ContributionPath},shim:{isDictionary:!0,dictionaryValueTypeInfo:t.TypeInfo.ModuleLoaderShimConfiguration}};t.TypeInfo.NavigationContext.fields={topMostLevel:{enumType:t.TypeInfo.NavigationContextLevels}};t.TypeInfo.PageContext.fields={webContext:{typeInfo:t.TypeInfo.WebContext},moduleLoaderConfig:{typeInfo:t.TypeInfo.ModuleLoaderConfiguration},coreReferences:{typeInfo:t.TypeInfo.CoreReferencesContext},webAccessConfiguration:{typeInfo:t.TypeInfo.ConfigurationContext},microsoftAjaxConfig:{typeInfo:t.TypeInfo.MicrosoftAjaxConfig},timeZonesConfiguration:{typeInfo:t.TypeInfo.TimeZonesConfiguration},featureAvailability:{typeInfo:t.TypeInfo.FeatureAvailabilityContext},appInsightsConfiguration:{typeInfo:t.TypeInfo.AppInsightsConfiguration},diagnostics:{typeInfo:t.TypeInfo.DiagnosticsContext},navigation:{typeInfo:t.TypeInfo.NavigationContext},globalization:{typeInfo:t.TypeInfo.GlobalizationContext},hubsContext:{typeInfo:t.TypeInfo.HubsContext},serviceLocations:{typeInfo:t.TypeInfo.ServiceLocations}};t.TypeInfo.ServiceLocations.fields={locations:{isDictionary:!0,dictionaryValueFieldInfo:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.ContextHostType}}};t.TypeInfo.TimeZonesConfiguration.fields={daylightSavingsAdjustments:{isArray:!0,typeInfo:t.TypeInfo.DaylightSavingsAdjustmentEntry}};t.TypeInfo.WebContext.fields={user:{typeInfo:t.TypeInfo.UserContext},team:{typeInfo:t.TypeInfo.TeamContext},project:{typeInfo:t.TypeInfo.ContextIdentifier},collection:{typeInfo:t.TypeInfo.HostContext},account:{typeInfo:t.TypeInfo.HostContext},host:{typeInfo:t.TypeInfo.ExtendedHostContext}};t.TypeInfo.WebPageDataProviderPageSource.fields={navigation:{typeInfo:t.TypeInfo.NavigationContext},project:{typeInfo:t.TypeInfo.ContextIdentifier},team:{typeInfo:t.TypeInfo.ContextIdentifier},diagnostics:{typeInfo:t.TypeInfo.DiagnosticsContext}}});
define("VSS/Serialization",["require","exports"],function(n,t){function r(n,t,r){var u,f;return r===void 0&&(r=!1),u=null,n&&n.length&&(f=n.html(),u=i.deserialize(JSON.parse(f),t,!0),r&&n.remove()),u}var i;(function(n){function o(n,r,u){return u===void 0&&(u=!0),n&&r?$.isArray(n)?i(n,r,!0,u):t(n,r,!0,u):n}function s(n,r,u,f){return u===void 0&&(u=!0),f===void 0&&(f=!1),n&&(f&&$.isArray(n.value)&&(n=n.value),r&&(n=$.isArray(n)?i(n,r,!1,u):t(n,r,!1,u))),n}function i(n,r,u,f){var e=n,o=[];return $.each(n,function(s,h){var c;c=$.isArray(h)?i(h,r,u,f):t(h,r,u,f);f?(o.push(c),c!==h&&(e=o)):n[s]=c}),e}function t(n,t,i,r){var u=n,f=!1;return n&&t.fields&&$.each(t.fields,function(t,o){var s=n[t],h=e(s,o,i,r);s!==h&&(r&&!f&&(u=$.extend({},n),f=!0),u[t]=h)}),u}function e(n,f,o,s){var h,c,l,a;return n?f.isArray?$.isArray(n)?(h=[],c=n,$.each(n,function(e,l){var a=l;f.isDate?a=u(l,o):f.enumType?a=r(f.enumType,l,o):f.typeInfo&&(a=$.isArray(l)?i(l,f.typeInfo,o,s):t(l,f.typeInfo,o,s));s?(h.push(a),a!==l&&(c=h)):n[e]=a}),c):n:f.isDictionary?(l=!1,a={},$.each(n,function(n,i){var c=n,h=i;f.dictionaryKeyIsDate?c=u(n,o):f.dictionaryKeyEnumType&&(c=r(f.dictionaryKeyEnumType,n,o));f.dictionaryValueIsDate?h=u(i,o):f.dictionaryValueEnumType?h=r(f.dictionaryValueEnumType,i,o):f.dictionaryValueTypeInfo?h=t(h,f.dictionaryValueTypeInfo,o,s):f.dictionaryValueFieldInfo&&(h=e(i,f.dictionaryValueFieldInfo,o,s));a[c]=h;(n!==c||i!==h)&&(l=!0)}),l?a:n):f.isDate?u(n,o):f.enumType?r(f.enumType,n,o):f.typeInfo?t(n,f.typeInfo,o,s):n:n}function r(n,t,i){if((!i||typeof t!="number")&&!i&&typeof t=="string"&&isNaN(parseInt(t))){var r=0;return t&&$.each(t.split(","),function(t,i){var f=$.trim(i)||"",u,e;f&&(u=n.enumValues[f],u||(e=f.toLowerCase(),e!==f&&$.each(n.enumValues,function(n,t){if(n.toLowerCase()===e)return u=t,!1})),u&&(r|=u))}),r}return t}function u(n,t){if(t&&n instanceof Date&&Date.prototype.toISOString)return n.toISOString();if(!t&&typeof n=="string"){var i=new Date(n);return isNaN(i)&&navigator.userAgent&&/msie/i.test(navigator.userAgent)&&(i=h(n)),i}return n}function h(n){var t;return f||(f=new RegExp("(\\d+)-(\\d+)-(\\d+)T(\\d+):(\\d+):(\\d+).(\\d+)Z")),t=f.exec(n),t?new Date(Date.UTC(parseInt(t[1]),parseInt(t[2])-1,parseInt(t[3]),parseInt(t[4]),parseInt(t[5]),parseInt(t[6]),parseInt(t[7]))):null}var f;n.serialize=o;n.deserialize=s})(i=t.ContractSerializer||(t.ContractSerializer={}));t.deserializeJsonIsland=r});
define("VSS/Context",["require","exports","VSS/Common/Contracts/Platform","q","VSS/Serialization"],function(n,t,i,r,u){function et(n){var t=n.find("script.tfs-context").eq(0).html(),r;return t?(r=JSON.parse(t),u.ContractSerializer.deserialize(r,i.TypeInfo.WebContext,!1)):null}function b(){return p||(w=window.__vssPageContext,p=!0),w}function ot(){var n=f();return n?n.webContext:null}function f(){if(!a){var n=b();n&&(a=u.ContractSerializer.deserialize(n,i.TypeInfo.PageContext,!0))}return a}function st(){return f().hubsContext}function ht(n){var t=(n||"").toLowerCase();return k()[t]}function ct(n,t){var i=k();t&&!i[n]&&(i[n.toLowerCase()]=t)}function k(){if(!s){s={};var n=f();n.serviceInstanceId&&(s[n.serviceInstanceId.toLowerCase()]=n.webAccessConfiguration.paths)}return s}function d(n){l||(l={});var t=l[n];return t||(t=[],l[n]=t),t}function y(n,t){var i=ut();i[n]||(i[n]=t)}function lt(n,t,i){var r,u=f(),o;return n&&(r=ut()[n],!r&&u.webAccessConfiguration.isHosted&&window.console&&console.warn('No css url was mapped for css module prefix "'+n+'". Requested module: "'+n+":"+t+'".')),r||(window.top!==window.self?(o=u.webContext.host,r=o.scheme+"://"+o.authority):r="",r=e(r,u.webAccessConfiguration.paths.staticRootTfs)),i||(rt()?i="HighContrast":(u.globalization&&(i=u.globalization.theme),i||(i="Default"))),e(r,"App_Themes/"+i+"/"+t+".css")}function at(n){var t=(n||"").toLowerCase();return g()[t]}function g(){var n,t;return c||(c={},n=f(),n.serviceInstanceId&&(t=n.webContext.account?n.webContext.account.uri:n.webContext.host.uri,c[n.serviceInstanceId.toLowerCase()]=t)),c}function nt(){return window.top!==window.self&&!!(window.VSS&&window.VSS.VssSDKVersion)}function vt(n){for(var t,r=tt(),i=n.split("/");i.length>0;){if(t=r[i.join("/")],typeof t!="undefined")break;i.pop()}return typeof t=="undefined"&&!nt()?f().serviceInstanceId||"":t}function tt(){if(!h){h={};var n=f();n.moduleLoaderConfig&&it(h,n.moduleLoaderConfig,n.serviceInstanceId||"")}return h}function it(n,t,i){t.contributionPaths&&$.each(t&&t.contributionPaths,function(t){n[t]||(n[t]=i)});t.paths&&$.each(t&&t.paths,function(t){n[t]||(n[t]=i)})}function rt(){if(o===null){o=!1;var n=$("<span class='high-contrast-test' style='width:0;height:0' />").appendTo(document.body);n.css("background-image")==="none"&&(o=!0);n.remove()}return o}function ut(){if(!v){v={};var n=f();n.cssModulePrefixes&&$.each(n.cssModulePrefixes,function(t,i){y(i,n.webAccessConfiguration.paths.staticRootTfs)})}return v}function yt(t){var i=f(),o=t.serviceRootUrl,u,s;return i.webAccessConfiguration.isHosted?t.serviceTypeId&&(g()[t.serviceTypeId.toLowerCase()]=o):o="",t.moduleLoaderConfig&&(it(tt(),t.moduleLoaderConfig,t.serviceTypeId||""),wt(i,t.moduleLoaderConfig,o,t.serviceTypeId)),t.featureAvailability&&t.featureAvailability.featureStates&&(i.featureAvailability&&i.featureAvailability.featureStates?i.featureAvailability.featureStates=$.extend(t.featureAvailability.featureStates,i.featureAvailability.featureStates):i.featureAvailability=t.featureAvailability),t.serviceLocations&&(u=i.serviceLocations,i.serviceLocations||(u={},i.serviceLocations=u),$.each(t.serviceLocations.locations||[],function(n,t){u.locations[n]?$.each(t,function(t,i){u.locations[n][t]||(u.locations[n][t]=i)}):u.locations[n]=t})),t.cssModulePrefixes&&t.paths&&pt(t.cssModulePrefixes,e(o,t.paths.staticRootTfs)),t.paths&&t.serviceTypeId&&ct(t.serviceTypeId,t.paths),s=r.defer(),t.bundles?n(["VSS/Bundling"],function(n){n.injectBundles(t.bundles,o).then(s.resolve)}):s.resolve(null),s.promise}function pt(n,t){$.each(n,function(n,i){y(i,t)})}function wt(n,t,i,r){var s=!1,h=n.moduleLoaderConfig.baseUrl,c=n.webContext.account?n.webContext.account.uri:n.webContext.host.uri,o={paths:{}},u,f;u=window.self===window.top?n.moduleLoaderConfig||{}:window.__vssModuleLoaderConfig||{};u.paths||(u.paths={});u.contributionPaths||(u.contributionPaths={});u.shim||(u.shim={});f=t.baseUrl||"/";f=f===h&&c===i&&window.top===window.self?null:e(i,f);t.paths&&$.each(t.paths,function(n,t){bt(u,n,t,o,f,i)&&(s=!0)});t.contributionPaths&&$.each(t.contributionPaths,function(n,t){kt(u,n,t.value,o,f,i)&&(r&&d(r).push(n),s=!0)});t.shim&&(o.shim={},$.each(t.shim,function(n,t){u.shim[n]||(o.shim[n]=t,u.shim[n]=t,s=!0)}));s&&window.require.config(o)}function e(n,t){var i=n||"";if(i[i.length-1]!=="/"&&(i+="/"),t){if(t.match("^https?://"))return t;i+=t[0]==="/"?t.substr(1):t}return i}function ft(n,t,i){return t&&!n.match("^https?://")?n[0]==="/"?e(i,n):e(t,n):n}function bt(n,t,i,r,u,f){if(!n.paths[t]&&!n.contributionPaths[t]){var e=ft(i,u,f);return r.paths[t]=e,n.paths[t]=e,!0}return!1}function kt(n,t,i,r,u,f){if(!n.contributionPaths[t]){var e=ft(i,u,f);if(n.contributionPaths[t]={pathType:null,value:e},!n.paths[t])return r.paths[t]=e,n.paths[t]=e,!0}return!1}var p=!1,w,a,v,s,h,c,l,o;t.parseWebContext=et;t._getDefaultRawPageContext=b;t.getDefaultWebContext=ot;t.getPageContext=f;t.getHubsContext=st;t.getPathsForService=ht;t.getContributionPathsForService=d;t.addCssModulePrefixMapping=y;t.getCssModuleUrl=lt;t.getContributedServiceRootUrl=at;t.isExtensionFrame=nt;t.getScriptModuleOwner=vt;o=null;t.isHighContrastMode=rt;t.processContributedServiceContext=yt});
define("VSS/Resources/VSS.Resources.TFSSeedFileResources",["require","exports"],function(require,exports){var e=exports;e.ErrorPaneCloseLink="Close [x]";e.ModuleScriptErrorFormat="Module \u0027{0}\u0027 cannot be loaded. This may be due to lost connectivity or an incomplete or corrupted download of the file.  Try refreshing your browser or clearing your browser cache to retrieve the file again.";e.CircularDependencyErrorFormat="There is a circular dependency between TFS script modules {0} and {1}.";e.SessionInfoMessage="Session Id: {0}";e.UnknownServerErrorMessage="Unknown server error occured.";e.UnknownErrorMessage="Unknown error.";e.ErrorPaneHeader="Error(s):";});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("VSS/VSS",["require","exports","VSS/Context","q","VSS/Resources/VSS.Resources.TFSSeedFileResources"],function(n,t,i,r,u){function d(n,t,i,r){function a(n,t,i){var r;return(n||t)&&(r=v++,o++,f[r]=[n,t,i]),r}function s(){var t,i,u=c?0:l?1:-1,r,s,h=!1;if(u>=0){for(t in f)f.hasOwnProperty(t)&&(i=f[t],r=i[u],r&&(s=i[2],r.apply(n,(e||[]).concat([s])),h=!0));f={};o=0}return h}var f={},h,o=0,v=0,e,c=!1,l=!1;return h=a(t,i,r),{cookie:h,count:function(){return o},finish:function(){c=!0;e=Array.prototype.slice.call(arguments,0);s()},error:function(){l=!0;e=Array.prototype.slice.call(arguments,0);e.length===0&&(e=[new Error(u.UnknownServerErrorMessage)]);s()||tt(e[0],null,n)},register:function(n,t,i){var r=a(n,t,i);return r&&s(),r},unregister:function(n){o--;delete f[n]}}}function ht(n,t,i,r,u,f){function s(n){t[i]=n;o.finish(n)}function h(n){t[i]=null;o.error(n)}var e=t[i],o;f&&e===null||typeof e=="undefined"?(o=d(n,r,u),t[i]=o.register,f.call(n,s,h)):$.isFunction(e)?e(r,u):$.isFunction(r)&&r.call(n,e)}function ct(n){return n!==null&&n!==undefined&&!$.isFunction(n)}function g(n){return n?typeof n=="string"?n:$.isFunction(n)?g(n()):n.message?n.message:n.toString():u.UnknownErrorMessage}function tt(n,i,r){$.isFunction(i)?i.call(r,n):t.errorHandler.show(n)}function lt(){return b}function ut(n,t,i,r){return function(){var u=this.base,f=this.baseConstructor,e=this._base;this.base=i;this.baseConstructor=r;this._base=function(){return t.apply(this,Array.prototype.slice.call(arguments,0))};try{return n.apply(this,Array.prototype.slice.call(arguments,0))}finally{this.base=u;this.baseConstructor=f;this._base=e}}}function o(n,t,i,r){var u,f;for(u in t)u!=="__name"&&t.hasOwnProperty(u)&&(f=t[u],n[u]=i&&typeof f=="function"&&typeof i[u]=="function"?ut(f,i[u],i,r):f);return n}function at(n,t){o(n,t,null,null)}function vt(n){var t,i;return n.__name||(n.__name="_type_"+st++,w&&(t=n.name,t||(i=n.toString(),t=i.substring(9,i.indexOf("("))),t&&(n.__name+="_"+t))),n.__name}function yt(n,t){var i,r;for(i in t)i!=="__name"&&t.hasOwnProperty(i)&&(r=t[i],n.prototype[i]=r)}function v(n){var t,i;return e&&(t=e[n],!t&&(i=n.lastIndexOf("."),i>0))?v(n.substring(0,i)):t||""}function ft(n){return v(n)+n}function et(n,t){var i=s[n],r;pt[t]=n;i||(i=[],s[n]=i);t.indexOf("/")<0?(r=ft(t),i.push(r)):i.push(t)}function ot(t,i){h?n(["VSS/Bundling"],function(n){n.requireModules(t,i)}):n(t,i)}function bt(t){return r.Promise(function(i){h?n(["VSS/Bundling"],function(n){n.requireModules(t,function(){i(arguments)})}):n(t,function(){i(arguments)})})}function kt(n,t){for(var f=n.split("."),e=window,i,u,r=0;r<f.length;r++)i=e[f[r]],i||(i={},e[f[r]]=i),e=i;if(i&&t)for(u in t)t.hasOwnProperty(u)&&(i[u]=t[u]);return i}function p(n,t){var i=s[n];wt[n]=!0;kt(n,t);i&&(ot(i,function(){}),delete s[n])}var w=!1,h=!1,b=!1,st=0,f=i.getPageContext(),k,nt,c,it,rt,l,a,e;f&&(f.globalization&&(t.uiCulture=f.globalization.culture),f.diagnostics&&(w=f.diagnostics.debugMode,h=f.diagnostics.bundlingEnabled)),function(n){n.ServerException="TFS.ServerException"}(k||(k={}));t.queueCallbacks=d;t.queueRequest=ht;t.queuedRequestHasResult=ct;t.getErrorMessage=g;nt=5e3;c=function(){function n(){this.$error=null;this.visible=!1;this._errorPublishers=[]}return n.prototype.initialize=function(){var n=this;this.attachWindowErrorHandler();this.attachQPromiseErrorHandler();this.$error=$(".error-section").bind("keydown",function(t){if(t.keyCode===27)return n.hideError(),!1})},n.prototype.attachWindowErrorHandler=function(){var t=this,n,i=function(i,r,u,f,e){if(f){var o={name:e&&e.name||i,message:e&&e.message||i,source:r,lineNumber:u,columnNumber:f,stack:e&&e.stack||"",errorType:"UnhandledException"};t.publishError(o)}return n?n.apply(t,[i,r,u,f,e]):!1};n=window.onerror;window.onerror=i},Object.defineProperty(n,"ignoreRejectedPromiseTag",{get:function(){return"__ignoreRejectionOk__"},enumerable:!0,configurable:!0}),n.prototype.attachQPromiseErrorHandler=function(){var i=this,t=function(){var u=r.getUnhandledReasons();u&&u.length&&(r.resetUnhandledRejections(),u.forEach(function(t){if(t=t||"",!t.indexOf||!(t.indexOf(n.ignoreRejectedPromiseTag)>=0)){var r={name:"UnhandledQRejection",message:t.message||t,stack:t.stack||t,errorType:"UnhandledQRejection"};window.console&&console.warn(t);i.publishError(r)}}));window.setTimeout(t,nt)};t()},n.prototype.publishError=function(n){$.each(this._errorPublishers,function(t,i){i.publishError(n)})},n.prototype.exists=function(){return this.$error.length>0},n.prototype.showError=function(n,t,i){function h(r){var f="";t&&(f=t+": ");n&&(f=f+n);e=$("<li>").text(f).appendTo(r);i&&$("<pre>").text(i).appendTo(e);s&&$("<pre>").text(u.SessionInfoMessage.replace("{0}",s)).appendTo(e)}var o=this,r,e,s=f&&f.diagnostics&&f.diagnostics.sessionId||"";this.visible||(this.visible=!0,this.$error.empty(),$("<div tabIndex=0 />").addClass("close").text(u.ErrorPaneCloseLink).appendTo(this.$error).click(function(){o.hideError()}).keydown(function(n){if(n.which===13)return o.hideError(),!1}),r=$("<div>").addClass("message").appendTo(this.$error),$("<h4>").text(u.ErrorPaneHeader).appendTo(r),$("<ul>").addClass("error-list").appendTo(r));h($("ul.error-list",this.$error));this.$error.show().focus()},n.prototype.hideError=function(){$("p",this.$error).remove();this.$error.hide();this.visible=!1},n.prototype.show=function(n){n.errorType="ExceptionFromErrorHandler";this.publishError(n);this.exists()?this.showError(n.message,n.status,n.stack):alert(n.message)},n.prototype.attachErrorPublisher=function(n){$.inArray(n,this._errorPublishers)===-1&&this._errorPublishers.push(n)},n.prototype.detachErrorPublisher=function(n){var t=$.inArray(n,this._errorPublishers);t!==-1&&this._errorPublishers.splice(t,1)},n}();t.ErrorHandler=c;t.errorHandler=new c;t.handleError=tt;it=function(){function n(){}return n}();t.ClientActivtyStatistic=it;rt=function(){function n(){}return n}();t.ActivtyStatistic=rt;l=function(){function n(){}return n.prototype.addActivtyStatsCollectionAllowedCallback=function(){},n.prototype.actionStarted=function(){return 0},n.prototype.actionCompleted=function(){},n.prototype.logActivity=function(){},n.prototype.getClientStatistics=function(){return{}},n.prototype.getActivtyStatistics=function(){return[]},n.prototype.clearStats=function(){},n.prototype.collectStats=function(){},n.prototype.getCurrentPage=function(){return null},n.prototype.setCurrentPage=function(){},n.prototype.isCollectingStats=function(){return!1},n.ACTIVITY_COLLECTION_STATUS="TFS.ActivityCollectionStatus",n.ACTIVITY_ID_STORAGE_ITEM="TFS.ActivityIdStats",n.ACTIVITY_CLIENT_STATE_STORAGE_ITEM="TFS.ClientActivityIdStats",n.CURRENT_PAGE="TFS.CurrentPageActivity",n}();t.ActivtyStatsCollector=l;t.activtyStatsCollector=new l;a=function(){function n(){this._progressPendingActions=null;this._progressPendingActionsCount=0;this._progressPendingActionsNewId=0;this._pageProgressElements=null;this._pageProgressDelayShowTimeout=null;this._pageProgressMinShowTimeout=null;this._showingProgress=!1;var n=this;this._progressPendingActions={};this._pageProgressElements=[];$(function(){var t=$(".pageProgressIndicator");t.length>0&&n._addProgressElement(t)})}return n.prototype.getProgressElements=function(){return this._pageProgressElements},n.prototype.registerProgressElement=function(n){this._addProgressElement(n);this._showingProgress?n.show():n.hide()},n.prototype.unRegisterProgressElement=function(n){if(this._pageProgressElements)for(var t=0,t=0;t<this._pageProgressElements.length;t++)if(this._pageProgressElements[t]===n){this._pageProgressElements.splice(t,1);break}},n.prototype._addProgressElement=function(n){this._pageProgressElements.push(n)},n.prototype._showProgressElements=function(){var n=this,t=this._pageProgressElements;this._progressPendingActionsCount!==0&&(this._showingProgress=!0,t.length!==0)&&($.each(t,function(n,t){t.show()}),this._pageProgressMinShowTimeout||(this._pageProgressMinShowTimeout=window.setTimeout(function(){n._pageProgressMinShowTimeout=null;n._progressPendingActionsCount===0&&n._hideProgressElements()},250)))},n.prototype._hideProgressElements=function(){this._showingProgress=!1;$.each(this._pageProgressElements,function(n,t){t.hide()})},n.prototype.actionStarted=function(n,t){var i=this,r=++this._progressPendingActionsNewId;return this._progressPendingActions[r]=n,this._progressPendingActionsCount++==0&&(t===!0?(this._pageProgressDelayShowTimeout&&(window.clearTimeout(this._pageProgressDelayShowTimeout),this._pageProgressDelayShowTimeout=null),this._showProgressElements()):this._pageProgressDelayShowTimeout||(this._pageProgressDelayShowTimeout=window.setTimeout(function(){i._pageProgressDelayShowTimeout=null;i._showProgressElements()},250))),r},n.prototype.actionCompleted=function(n){delete this._progressPendingActions[n];--this._progressPendingActionsCount!=0||this._pageProgressMinShowTimeout||this._hideProgressElements()},n.prototype.getPendingActions=function(){var n=[];return $.each(this._progressPendingActions,function(t,i){n.push(t+": "+i)}),n},n}();t.GlobalProgressIndicator=a;t.globalProgressIndicator=new a;$(window).bind("beforeunload",function(){b=!0});$(function(){var n=t.globalProgressIndicator.actionStarted("Initial page load",!0);t.errorHandler.initialize();t.globalProgressIndicator.actionCompleted(n)});t.hasUnloadRequest=lt;Function.prototype.inherit=function(n,t){function f(){}var i,u,r;o(this,$.extend({},n,this),n,n);this.base=n;this._super=n.prototype;t=$.extend({},this.prototype,t);i=n.prototype;i.constructor=n;r=i.baseConstructor;f.prototype=i;u=new f;o(u,t,i,r);this.prototype=u;this.prototype.constructor=this;this.prototype.baseConstructor=r?ut(n,r,i,r):n};Function.prototype.extend=function(n){return o(this,n,this.base,this.baseConstructor)};t.classExtend=at;t.getTypeName=vt;t.initClassPrototype=yt;e={};typeof _bases!="undefined"&&_bases.length>0&&$.each(_bases,function(n,t){e[t.namespace]=t.base});typeof _builtInBases!="undefined"&&_builtInBases.length>0&&$.each(_builtInBases,function(n,t){e[t.namespace]=t.base});t.getModuleBase=v;var s={},y={},pt={},wt={};typeof _disabledPlugins!="undefined"&&$.each(_disabledPlugins,function(n,t){y[t]=!0});typeof _plugins!="undefined"&&_plugins.length>0&&$.each(_plugins,function(n,t){t.namespace in y||et(t.loadAfter,t.namespace)});typeof _builtinPlugins!="undefined"&&_builtinPlugins.length>0&&$.each(_builtinPlugins,function(n,t){t.namespace in y||et(t.loadAfter,t.namespace)});t.using=ot;t.requireModules=bt;t.module=function(n,t,i){for(var f,u=[],r=0;r<t.length;r++)u.push(ft(t[r]));f=define;f(u,function(){var t=i();p(n,t)})};t.tfsModuleLoaded=p;p("TFS",t)});
define("VSS/Diag",["require","exports","VSS/Context","VSS/VSS"],function(n,t,i,r){function rt(){return u}function ut(n){u=n}function w(n,t){if(u){var i,r=console;switch(t){case y.Enter:i="Enter";console.time&&console.time(n);break;case y.Leave:i="Leave";console.timeEnd&&console.timeEnd(n);window.performance&&window.performance.measure&&window.performance.measure(n,n+" Enter");break;default:i="SinglePoint";console.log("%s: [%s]",n,Date.now())}n=n+" "+i;window.performance&&performance.mark&&window.performance.mark(n);r.timeStamp&&r.timeStamp(n)}}function e(n,t){return n+" is required and needs to be a "+t}function ft(n){var t=function(n,t){for(var i=""+n;i.length<t;)i="0"+i;return i};return t(n.getHours(),2)+":"+t(n.getMinutes(),2)+":"+t(n.getSeconds(),2)+"."+t(n.getMilliseconds(),3)}function s(n,i){var r,e;if(n<=t.logLevel&&(u&&window.console&&window.console.log&&(n===f.Error&&window.console.error?window.console.error(i):n===f.Warning&&window.console.warn?window.console.warn(i):window.console.log(i)),o))for(r=0,e=o.length;r<e;r++)o[r](i,n)}function d(n){s(f.Error,n)}function et(n){s(f.Warning,n)}function ot(n){s(f.Info,n)}function st(n){s(f.Verbose,n)}function ht(n){o||(o=[]);o.push(n)}function ct(n){var t,i;if(o)for(t=0,i=o.length;t<i;t++)o[t]===n&&o.splice(t--,1)}function lt(n,t){if(v){s(f.Error,"There is a profile already in progress: "+p+": "+l+"->"+a);return}l=n;a=t;document.cookie="TFS-TRACEPOINT-START="+n+";";document.cookie="TFS-TRACEPOINT-END="+t+";"}function at(){v&&(v=!1,console.profileEnd())}function vt(n,i){l!=null&&a!==null&&(l===n?(console.profile(p+": "+l+"->"+a),p++,v=!0):a===n&&(console.profileEnd(),v=!1));for(var r=0;r<h.length;r++)h[r].call(this,n,i),f.Verbose<=t.logLevel&&s(f.Verbose,"TRACEPOINT ["+ft(new Date)+"]: "+n)}function g(n){for(var t=0;t<h.length;t++)if(n===h[t])return;h.push(n)}function yt(n){for(var t=0;t<h.length;t++)n===h[t]&&h.splice(t,1)}function pt(n){t.logLevel=n}function wt(){c&&c.diagnostics&&c.diagnostics.tracePointCollectionEnabled&&(t.perfCollector=new b,t.perfCollector.register())}function bt(n,t,i){var r,u;i===void 0&&(i=f.Verbose);r=new Date;n();u=new Date;s(i,t+": "+(u.getTime()-r.getTime())+"ms")}var o,h=[],tt=!1,u=!1,it=typeof _globalThrowOnAssertFailures=="undefined"?!1:window._globalThrowOnAssertFailures,l,a,p=0,v=!1,c=i.getPageContext(),y,k,f,b,nt;c&&c.diagnostics&&(u=!!c.diagnostics.debugMode,l=c.diagnostics.tracePointProfileStart,a=c.diagnostics.tracePointProfileEnd);t.getDebugMode=rt;t.setDebugMode=ut,function(n){n[n.SinglePoint=0]="SinglePoint";n[n.Enter=1]="Enter";n[n.Leave=2]="Leave"}(t.StampEvent||(t.StampEvent={}));y=t.StampEvent;t.timeStamp=w;k=function(){function n(n){this.label=n;w(n,y.Enter)}return n.start=function(t,i){var r=new n(t);i(r)},n.prototype.finish=function(){w(this.label,y.Leave)},n}();t.Measurement=k,function(n){n[n.Off=0]="Off";n[n.Error=1]="Error";n[n.Warning=2]="Warning";n[n.Info=3]="Info";n[n.Verbose=4]="Verbose"}(t.LogVerbosity||(t.LogVerbosity={}));f=t.LogVerbosity;t.logLevel=f.Warning;t.log=s;t.logError=d;t.logWarning=et;t.logInfo=ot;t.logVerbose=st;t.listen=ht;t.unlisten=ct;t.profile=lt;t.profileEnd=at;t.logTracePoint=vt;t.addTracePointCollector=g;t.removeTracePointCollector=yt;t.setLogLevel=pt;b=function(){function n(){this._moduleInitTime=(new Date).getTime();this._tracePoints=[];this._overallCounts={};this._activeCounts={};this._lastResetTime=0;this._lastResetIndex=0}return n.prototype.register=function(){var n=this;g(function(t,i){n._handleTracePoint(t,i)})},n.prototype.getOverallCount=function(n){var t=this._overallCounts[n];return t?t:0},n.prototype.getActiveCount=function(n){var t=this._activeCounts[n];return t?t:0},n.prototype.getLastTracePoint=function(n){for(var t=this._tracePoints.length-1;t>=0;t--)if(this._tracePoints[t].name===n)return this._tracePoints[t];return null},n.prototype.getLastTracePointTime=function(n){var t=this.getLastTracePoint(n);return t?t.time:0},n.prototype.resetActiveCount=function(n){this._activeCounts[n]=0},n.prototype.resetActiveCounts=function(){this._activeCounts={};this._lastResetTime=(new Date).getTime();this._lastResetIndex=this._tracePoints.length},n.prototype.getModuleInitTime=function(){return this._moduleInitTime},n.prototype.getTracePoints=function(n){return n===!0?this._tracePoints.slice(this._lastResetIndex):this._tracePoints},n.prototype.getTracePointCountData=function(n){for(var i,u="",t=0,r=n.length;t<r;t++)i=n[t],u+=this.getActiveCount(i)+";"+this.getOverallCount(i)+"\t";return u},n.prototype.dumpTracePoints=function(n){var i,f,r,u,e,t;for(i="ModuleInitTime\t"+this._moduleInitTime+"\nLastReset\t"+Math.max(0,this._lastResetTime-this._moduleInitTime),f=this.getTracePoints(n),e=f.length,u=0;u<e;u++)r=f[u],i+="\n"+(r.time-this._moduleInitTime)+"\t"+r.name,t=r.data,t&&(t instanceof Error&&(t=t.message,t.stackTrace&&(t+=" @"+t.stackTrace)),$.isArray(t)&&(t=t.join(";")),i+=("\t"+t).replace(/[\n\r]/g," "));return i},n.prototype._updateCount=function(n,t){var i=n[t];n[t]=i?i+1:1},n.prototype._handleTracePoint=function(n,t){var i={time:(new Date).getTime(),name:n,data:t};this._tracePoints.push(i);this._updateCount(this._overallCounts,n);this._updateCount(this._activeCounts,n)},n}();t.PerfTracePointCollector=b;wt();t.measurePerformance=bt;nt=function(){function n(){}return n.setDisplayCallers=function(n){tt=n},n.fail=function(t){if(u){if(it)throw new Error("Assertion failure: "+t);d("Assertion failure: '"+t+"'.");n._noDebugPrompts||confirm("Assertion failure: '"+t+"'. Would you like to break into the debugger?")||(n._noDebugPrompts=!0)}},n.assert=function(t,i){u&&!t&&n.fail(i)},n.assertIsObject=function(t,i){u&&(t===null||typeof t!="object")&&n.fail(i)},n.assertParamIsObject=function(t,i,r){if(u){var f=r&&(t===null||t===undefined)||t!==null&&typeof t=="object";f||n.fail(e(i,"object"))}},n.assertIsArray=function(t,i,r){u&&(!$.isArray(t)||r&&t.length===0)&&n.fail(i)},n.assertParamIsArray=function(t,i,r){u&&(!$.isArray(t)||r&&t.length===0)&&n.fail(e(i,"array"+r?" (non-empty)":""))},n.assertIsBool=function(t,i){u&&typeof t!="boolean"&&n.fail(i)},n.assertParamIsBool=function(t,i){u&&typeof t!="boolean"&&n.fail(e(i,"boolean"))},n.assertIsNumber=function(n,t){u&&(typeof n!="number"||isNaN(n))&&this.fail(t)},n.assertParamIsNumber=function(t,i){u&&(typeof t!="number"||isNaN(t))&&n.fail(e(i,"number"))},n.assertIsInteger=function(t,i){u&&(typeof t!="number"||isNaN(t)||Math.round(t)!==t)&&n.fail(i)},n.assertParamIsInteger=function(t,i){u&&(typeof t!="number"||isNaN(t)||Math.round(t)!==t)&&n.fail(e(i,"integer"))},n.assertIsString=function(t,i){u&&typeof t!="string"&&n.fail(i)},n.assertParamIsString=function(t,i){u&&typeof t!="string"&&n.fail(e(i,"string"))},n.assertIsStringNotEmpty=function(t,i){u&&(typeof t!="string"||t==="")&&n.fail(i)},n.assertParamIsStringNotEmpty=function(t,i){u&&(typeof t!="string"||t==="")&&n.fail(e(i,"non-empty string"))},n.assertIsFunction=function(t,i){u&&typeof t!="function"&&n.fail(i)},n.assertParamIsFunction=function(t,i){u&&typeof t!="function"&&n.fail(e(i,"function"))},n.assertIsDate=function(t,i){!u||t instanceof Date||n.fail(i)},n.assertParamIsDate=function(t,i){!u||t instanceof Date||n.fail(e(i,"date"))},n.assertIsNotNull=function(t,i){u&&(t===null||t===undefined)&&n.fail(i)},n.assertParamIsNotNull=function(t,i){u&&t===null&&n.fail(e(i,"not null and not undefined"))},n.assertIsNotUndefined=function(t,i){u&&t===undefined&&n.fail(i)},n.assertParamIsNotUndefined=function(t,i){u&&t===undefined&&n.fail(e(i,"not undefined"))},n.assertIsJQueryObject=function(t,i){u&&(t===null||typeof t!="object"||typeof t.jquery!="string")&&n.fail(i)},n.assertParamIsJQueryObject=function(t,i){u&&(t===null||typeof t!="object"||typeof t.jquery!="string")&&n.fail(e(i,"jQuery object"))},n.assertIsType=function(t,i,r,f){var e;u&&(e=t===null||t===undefined&&i!=="undefined"?f:typeof i=="string"?typeof t===i:t instanceof i,e||n.fail(r))},n.getTypeName=function(t){return(t||n.fail("An assert to check a value's type was handed an invalid type to check for."),typeof t=="string")?t:(n.assertIsFunction(t,"Expected to have a constructor function passed when checking a type"),t.toString().match(/^\s*function\s*([\w]*)\(/)[1]||"Unnamed type: ("+t.toString()+")")},n.assertParamIsType=function(t,i,r,f){u&&n.assertIsType(t,i,e(r,n.getTypeName(i)),f)},n.logInfo=function(n){s(f.Info,n)},n.logVerbose=function(n){s(f.Verbose,n)},n._noDebugPrompts=!1,n}();t.Debug=nt;r.tfsModuleLoaded("VSS.Diag",t)});
define("VSS/Utils/Array",["require","exports"],function(n,t){function c(n,t){if(!n||n.length===0)return null;if(t===undefined)return n[0];for(var r,u=n.length,i=0;i<u;i++)if(r=n[i],t(r)===!0)return r;return null}function u(n,t,i){if(!t)return!1;for(var r=0,u=t.length;r<u;r++)if(i&&i(n,t[r]))return!0;return!1}function l(n,t,i,r){if(r===void 0&&(r=!1),!n||!t)return r;if(n.length!==t.length)return!1;for(var f=0,e=n.length;f<e;f++)if(!u(n[f],t,i))return!1;return!0}function f(n,t){var u={},i,r;if(t)for(i=0,r=n.length;i<r;i++)u[n[i].toLocaleUpperCase()]=i;else for(i=0,r=n.length;i<r;i++)u[n[i]]=i;return u}function a(n,t,i,r){var u={};return $.each(n||[],function(n,f){var e=t(f,n),o;if(e){if(o=i?i(f,n):f,r&&u[e])throw new Error("toDictionary: Duplicate entries for key: "+e);u[e]=o}}),u}function i(n,t,i){if(typeof t=="undefined")return!1;i=i||h;for(var r=0,u=n.length;r<u;r++)if(typeof n[r]!="undefined"&&i(n[r],t)===0)return!0;return!1}function v(n,t){for(var i=0,r=n.length;i<r;i++)if(t(n[i]))return i;return-1}function y(n,t,r){var u,e,f,o;if(!t)return n;if(t.length===0)return[];for(u=[],f=0,o=n.length;f<o;f++)e=n[f],i(t,e,r)&&(u[u.length]=e);return u}function p(n,t,i){var o,u,r,s,e;if(!t)return n;if(!n)return t;if(t.length===0||n.length===0)return[];if(n.length<t.length?o=f(n,i):(o=f(t,i),t=n),u=[],i)for(r=0,s=t.length;r<s;r++)e=t[r],o.hasOwnProperty(e.toLocaleUpperCase())&&(u[u.length]=e);else for(r=0,s=t.length;r<s;r++)e=t[r],o.hasOwnProperty(e)&&(u[u.length]=e);return u}function w(n,t,i){var u;return!t||t.length===0?n:(u=n.concat(t),r(u,i),u)}function r(n,t){t=t||h;n.sort(t);for(var i=1,r=n.length;i<r;i++)t(n[i],n[i-1])===0&&(n.splice(i--,1),r--);return n}function b(n,t){var i=n.slice(0);return r(i,t),i}function k(n,t,r){var e,u,f,o;if(!t||t.length===0)return n;for(u=[],f=0,o=n.length;f<o;f++)e=n[f],i(t,e,r)||(u[u.length]=e);return u}function d(n,t,i,r){var u;if(i>t){if(i-t<r)throw new Error("Array cannot be reordered if newIndex is within the items being moved");i-=r}return u=n.splice(t,r),Array.prototype.splice.apply(n,[i,0].concat(u)),n}function e(n,t){var i=n;i.sorted=!0;i.comparer=t}function g(n,t){var i=n,r=t;i.sorted=r.sorted;i.comparer=r.comparer}function o(n,t){var i=n;return i.sorted&&i.comparer===t}function nt(n,t){return o(n,t)?!1:(n.sort(t),e(n,t),!0)}function tt(n){return n.length===1?[n[0]]:Array.apply(null,n)}function s(n,t){if(typeof t=="undefined")return-1;for(var i=0,r=n.length;i<r;i++)if(typeof n[i]!="undefined"&&n[i]===t)return i;return-1}function it(n,t){n[n.length]=t}function rt(n,t){n.push.apply(n,t)}function ut(n,t){var i=s(n,t);return i>=0&&n.splice(i,1),i>=0}function ft(n){n.length=0}function h(n,t){return n==t?0:n>t?1:-1}function et(n,t,i){var o,u,f,s;if(!n||!t||n.length===0||t.length===0)return[];n.length<t.length?(o=n,u=t):(o=t,u=n);i||(i=function(n,t){return n<t?-1:n>t?1:0});var l=0,y=u.length,a=[];for(f=0,s=o;f<s.length;f++){for(var v=s[f],e=void 0,r=void 0,h=l,c=y-1;c>=h;)if(r=h+c>>1,e=i(v,u[r]),e<0)c=r-1;else if(e>0)h=r+1;else break;e===0&&(a.push(v),l=r+1)}return a}t.first=c;t.arrayContains=u;t.arrayEquals=l;t.toDictionary=a;t.contains=i;t.findIndex=v;t.intersect=y;t.intersectPrimitives=p;t.union=w;t.uniqueSort=r;t.unique=b;t.subtract=k;t.reorder=d;t.flagSorted=e;t.copySortFlag=g;t.isSorted=o;t.sortIfNotSorted=nt;t.clone=tt;t.indexOf=s;t.add=it;t.addRange=rt;t.remove=ut;t.clear=ft;t.intersectUniqueSorted=et});
define("VSS/Utils/Culture",["require","exports","VSS/Context"],function(n,t,i){function e(){return f||(f={name:"en-US",numberFormat:{CurrencyDecimalDigits:2,CurrencyDecimalSeparator:".",CurrencyGroupSizes:[3],NumberGroupSizes:[3],PercentGroupSizes:[3],CurrencyGroupSeparator:",",CurrencySymbol:"$",NaNSymbol:"NaN",CurrencyNegativePattern:0,NumberNegativePattern:1,PercentPositivePattern:0,PercentNegativePattern:0,NegativeInfinitySymbol:"-Infinity",NegativeSign:"-",NumberDecimalDigits:2,NumberDecimalSeparator:".",NumberGroupSeparator:",",CurrencyPositivePattern:0,PositiveInfinitySymbol:"Infinity",PositiveSign:"+",PercentDecimalDigits:2,PercentDecimalSeparator:".",PercentGroupSeparator:",",PercentSymbol:"%",PerMilleSymbol:"‰",NativeDigits:["0","1","2","3","4","5","6","7","8","9"],DigitSubstitution:1},dateTimeFormat:{AMDesignator:"AM",Calendar:{MinSupportedDateTime:"@-62135568000000@",MaxSupportedDateTime:"@253402300799999@",AlgorithmType:1,CalendarType:1,Eras:[1],TwoDigitYearMax:2029},DateSeparator:"/",FirstDayOfWeek:0,CalendarWeekRule:0,FullDateTimePattern:"dddd, MMMM dd, yyyy h:mm:ss tt",LongDatePattern:"dddd, MMMM dd, yyyy",LongTimePattern:"h:mm:ss tt",MonthDayPattern:"MMMM dd",PMDesignator:"PM",RFC1123Pattern:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",ShortDatePattern:"M/d/yyyy",ShortTimePattern:"h:mm tt",SortableDateTimePattern:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",TimeSeparator:":",UniversalSortableDateTimePattern:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",YearMonthPattern:"MMMM, yyyy",AbbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ShortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],DayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],AbbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],MonthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],NativeCalendarName:"Gregorian Calendar",AbbreviatedMonthGenitiveNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],MonthGenitiveNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],eras:[1,"A.D.",null,0]}}),f}function u(){if(!r){var n=i.getPageContext().microsoftAjaxConfig;n&&n.cultureInfo?(r=n.cultureInfo,n.cultureInfo.eras&&(r.dateTimeFormat.eras=n.cultureInfo.eras)):r=e()}return r}function o(){return u().name}function s(){return u().numberFormat}function h(){return u().dateTimeFormat}var r,f;t.getInvariantCulture=e;t.getCurrentCulture=u;t.getCurrentCultureName=o;t.getNumberFormat=s;t.getDateTimeFormat=h});
define("VSS/Resources/VSS.Resources.Platform",["require","exports"],function(require,exports){var e=exports;e.InvalidArtifactUri="TF400897: Invalid artifact uri: {0}";e.AgoAMonth="a month ago";e.FilterControlUngroupClauses="Ungroup clauses";e.EditorBold="Bold";e.IdentityPicker_ButtonUnresolvedItemDescription="Button displaying the invalid item {0}";e.IdentityPicker_IdCardImsGroupSource="{0} account";e.AddSearchFilterType="Work item type:";e.MruIdentityPickerWatermark="Type or select a name";e.ErrorMessage_UnauthorizedNoUser="The request requires authentication";e.ModalDialogNoButton="No";e.Tips_NotFound="Verify the URL you are trying to access is correct";e.CtrlClickToOpen="CTRL+Click to follow link";e.ErrorPage_DateAndTime="Date and Time";e.StartTrialFail="Oops our code decided to throw a fit. Could not start trial for account. Please try again.";e.IdentityPicker_PlaceholderTextUserGroup="Search users and groups";e.CollapseSplitterTooltip="Collapse";e.ErrorMessage_NotFound="We could not find the requested page";e.EditorRemoveLink="Remove link";e.MruIdentityPickerRemoveItemTitle="Remove from list";e.StringTooLong="The string of length {0} exceeds the maximum allowed length of {1}";e.ExtensionDisplayNameFormat="{0} by {1}";e.StringDoesNotMatchPattern="Value does not match the required pattern \u0027{0}\u0027. Check to ensure there are no missing or invalid characters.";e.Searching="Searching ...";e.MenuItemsLoading="Loading...";e.StringTooShort="The string of length {0} does not meet the minimum required length of {1}";e.IdentityPicker_IdCardErrorLoadingMembers="Encountered an error while loading group members. Please try reopening the contact card";e.FilterGroupClauses="Group selected clauses";e.HostedMessageFooter="See you back soon!";e.ErrorPage_CorrelationId="Activity ID";e.RichEditorControlNotReadyWarning="Control is not ready yet. Use ready function to add your callback to the ready list which will be executed whenever the control is ready.";e.IdentityPicker_LoadingIdentities="Loading identities....";e.ErrorMoreInfo="More information about this error";e.KeyboardShortcutHelpLinkText="Full list of keyboard shortcuts";e.Tips_Forbidden="Check that the URL you are trying to access is correct and make sure that your account {0} has access. You can get a list of your accounts \u003ca href=\"https://go.microsoft.com/fwlink/?LinkId=309329\" target=\"_blank\"\u003ehere\u003c/a\u003e.\r\nIf the account you are trying to access requires you to be on the Azure Active Directory, ask a directory administrator to \u003ca href=\"https://go.microsoft.com/fwlink/?LinkID=393724\"\u003ecreate a user\u003c/a\u003e for you\r\nIf you need to sign in with another user, but do not want to sign out because you are using this identity in other sites then we recommend that you start a new browser session in Private Browsing mode to access this page.";e.InternalContentHostLoadTimedOut="Timed out waiting for the contributed content to be loaded.";e.FileInputRemoveAll="remove all";e.ServiceStatusLink="Service Status and Support";e.FileSizeKBFormat="{0} KB";e.FilterGroupingCannotIntersect="Groups can not intersect each other.";e.ErrorMessage_Forbidden="Sorry, but {0} is not authorized to make this request";e.TrialStartToday="Test Manager trial begins today and expires on \u003cb\u003e{0}.\u003c/b\u003e";e.AdditionalTipsHeader="Here are some additional tips";e.AgoAMinute="a minute ago";e.StartTrial="Begin trial";e.ErrorCopyrightInfo="© Microsoft Corporation. All rights reserved.";e.ActionLink_GoBackHome="Go back home";e.NumberValueIsRequired="A value is required.";e.EditorCreateLink="Create link";e.ErrorMessage_UnauthorizedLicense="Sorry, but {0} does not have a valid license to access this account";e.GuidValueIsRequired="A GUID/UUID is required.";e.HostedErrorOptions="You can \u003ca id=\"pageRefresh\" href=\"#\"\u003erefresh\u003c/a\u003e the current page, \u003ca href=\"javascript:history.back();\"\u003ego back\u003c/a\u003e to the previous page, or \u003ca href=\"https://go.microsoft.com/fwlink/?LinkID=242555\" target=\"_blank\"\u003esubmit feedback\u003c/a\u003e about this error to Microsoft.";e.IdentityPicker_IdCardDescription="Description";e.Gallery="Available extensions";e.CopyContentDialogTitle="Copy to clipboard";e.AgoHours="{0} hours ago";e.AgoAYear="a year ago";e.AgoAWeek="a week ago";e.AgoYears="{0} years ago";e.AgoWeeks="{0} weeks ago";e.MruIdentityPickerNoResult="No results found";e.EditorEnterAddress="Enter address";e.ExtensionSlowLoadWarningHeader="A TFS extension is loading slowly. Expand details to view options.";e.DeleteRowText="Delete row";e.ErrorName_InternalServerError="Internal Server Error";e.ErrorProductName="Microsoft Visual Studio Team Foundation Server";e.DialogUnsavedChanges="You have unsaved changes made to the settings which will be lost. Are you sure you want to discard these changes?";e.ActionLink_TellUsAboutThis="Tell us about this";e.Tips_ForbiddenAadUserState="If the account you are trying to access requires you to be on the Azure Active Directory, ask a directory administrator to \u003ca href=\"https://go.microsoft.com/fwlink/?LinkID=393724\"\u003ecreate a user\u003c/a\u003e for you\r\nIf you need to sign in with another user, but do not want to sign out because you are using this identity in other sites then we recommend that you start a new browser session in Private Browsing mode to access this page.";e.FileInputDragDropLabel="Drag and drop files here or click browse to select a file";e.IdentityPicker_DeleteBackspaceMessage="Press the DELETE or BACKSPACE keys to remove the item";e.HideDetails="Hide details";e.MruIdentityPickerRemoveSelection="Remove";e.SignOut="sign out";e.ExternalContentSlowLoadFormat="{0} is taking longer than expected to load.";e.FilterControlField="Field";e.FilterControlAndOr="And/Or";e.FilterControlValue="Value";e.CopyContentMacintoshHelpText="Below is a clipboard-friendly view of your selection. To copy to the clipboard, either right-click and choose \u0027Copy\u0027 from the browser\u0027s context menu or enter Command-C.";e.IdentityPicker_NeedAnotherCharacter="Type 1 more character";e.ExtensionErrorHeader="Failed to load extension";e.AllFeaturesEnableDuringTrial="During the trial, Test Manager will be enabled for all users. \u003ca href=\u0027{0}\u0027 target=\u0027_blank\u0027\u003eLearn more\u003c/a\u003e about these features.";e.Saving="Saving...";e.IdentityPicker_PlaceholderTextGroup="Search groups";e.InsertRowText="Insert row (Alt + P)";e.RequiredInput="required";e.EnterFullScreenModeTooltip="Enter full screen mode";e.ErrorMessage_ForbiddenNoUser="Sorry, but the user is not authorized to make this request";e.IdentityPicker_PlaceholderTextPrefix="Search";e.IdentityPicker_ErrorAuthorizationException="Sign-in required";e.ErrorMessage_InvalidTab="You have errors in your tab settings. Please correct the errors and try again.";e.HostedNotFoundNotAuthDetailMessage="We recommend that you double check the URL you are trying to access.";e.FilterControlAddNewClause="Add new clause";e.EditorUnderline="Underline";e.FieldIsValid="Field is valid";e.FilterGroupingGroupAlreadyExist="A group already exists for selected clauses.";e.NoTenantExceptionMessage="You don\u0027t belong to any work or school.";e.Confirm="Confirm";e.ErrorName_ServiceUnavailable="Service Unavailable";e.ErrorMessage_MsaTenantName="Microsoft Account";e.IdentityPicker_IdCardNoMembers="No group members found";e.CopiedContentDialogTitle="Copied!";e.FileInputErrorDuplicateFileName="Duplicate file: \"{0}\". Cannot upload two files with the same file name.";e.UnsavedChanges="You have unsaved changes.";e.TextInputFilterTitle="Filter by Text";e.HostedServiceUnavailable="We were unable to access your account. We apologize for the inconvenience this is causing your team. Please check the status message below for additional information.";e.ExtensionsNotAvailableOnpremOldIE="Extensions are not supported on your browser.";e.ActionLink_SignIn="Sign in";e.ErrorName_NotFound="Not Found";e.MruIdentityPickerError="Error loading identities. Please try again.";e.FileInputErrorSingleFileOnly="Only a single file can be uploaded at a time.";e.ErrorName_GeneralException="General Exception";e.SearchWorkItems="Search work items";e.FilterControlRemoveClause="Remove this filter line";e.MruIdentityPickerTfsSearchTitle="Search";e.ModalDialogCancelButton="Cancel";e.Validation_IntegerRange="Input value must be a valid integer between {0} and {1}";e.AgoMinutes="{0} minutes ago";e.NavigateTo="Navigate to:";e.IdentityPicker_GuestUserException="AAD Guest users are not allowed to search in AAD.";e.KeyboardShortcutDialogTitle="Keyboard shortcuts";e.NamedSessionTokenProviderNotFoundFormat="NamedWebSessionToken provider \u0027{0}\u0027 not found.";e.ModalDialogYesButton="Yes";e.Tip_UnauthorizedLicenseAdmin="Ask the account administrator to check the status of your license";e.ExitFullScreenModeTooltip="Exit full screen mode";e.AddSearchFilterCreatedBy="Created by:";e.ErrorName_Gone="Gone";e.ExpandSplitterTooltip="Expand";e.IdentityPicker_NeedMoreCharacters="Type {0} more characters";e.IdentityPicker_IdCardLoadingMembers="Loading group members...";e.FileInputOverallStatusFormat="{0} files selcted, {1}";e.NumberTooSmall="The value {0} is less than the minimum allowed value of {1}";e.PageTitle="Microsoft Team Foundation Server";e.CdnFallbackErrorMessage="There was an error loading a required file. Would you like to reload the page to try to load again?";e.StringValueIsRequired="A value is required.";e.FileInputErrorNotAllowedExtensionType="File extention {0} is not supported. Allowed Extensions : {1}";e.NumberTooLarge="The value {0} exceeds the maximum allowed value of {1}";e.UnknownArtifactType="Unknow artifact type: {0}";e.IdentityPicker_IdCardInfo="Info";e.IdentityPicker_IdCardMail="Send email";e.AddSearchFilterAssignedTo="Assigned to:";e.IdentityPicker_SingleResultStatus="Showing 1 result";e.ErrorName_Unauthorized="Not Authorized";e.ExtensionSlowLoadWarningBody="It is taking a long time to load the TFS extension content from the following url: \u003cbr /\u003e\u003ca /\u003e";e.UnsavedChangesWithNames="You have unsaved changes:";e.IdentityPicker_FocusChangeValue="Focus on the selected item to change the value via a combo box";e.UriValueIsRequired="A URI is required.";e.ActionLink_SignOut="Sign out and connect with another login";e.EditorBulletedList="Bulleted list";e.CancelWaitAdvice="Press {0} to cancel";e.FilterControlInsertClause="Insert new filter line";e.EditorItalic="Italic";e.AgoDays="{0} days ago";e.AgoADay="a day ago";e.IdentityPicker_IdCardOffice="Office";e.ErrorName_BadRequest="Bad Request";e.MruIdentityPickerStatus="Showing {0} results";e.TextFilterInputBoxWaterMark="Filter";e.IdentityPicker_MultipleResultStatus="Showing {0} results";e.IdentityPicker_IdCardJobTitle="Job Title";e.CancelButtonLabelText="Cancel";e.ErrorMessage_GenericServerError="An error has prevented us from saving your changes.";e.Tip_UnauthorizedLicenseMsdn="If you are an MSDN subscriber, check for any recent changes in your MSDN subscription rights \u003ca href=\"https://msdn.microsoft.com/subscriptions/manage\"\u003ehere\u003c/a\u003e";e.FilterControlOperator="Operator";e.VisualStudio="Visual Studio";e.SupportLink="Support";e.IdentityPicker_IdCardGroupSource="Group source";e.ErrorMessage_Gone="We have permanently removed the requested page or resource";e.ErrorName_Forbidden="Forbidden";e.CloseButtonLabelText="Close";e.NoScriptMessage="Some content on this page cannot be displayed because you have JavaScript disabled.  To proceed, please enable active scripting for this site in your browser settings.  For more information, see";e.IdentityPicker_IdCardAadGroupSource="{0} directory";e.TabPageApplyChanges="Apply Changes";e.IdentityPicker_IdCardMembersTabDescription="This is the members list. Press the arrow keys and PAGE UP, PAGE DOWN keys to move up and down the list. Press the ENTER or SPACE keys to open the contact card for the selected member. Only a single contact card can be visible at any time.";e.PageUnavailable="The page you are looking for is currently unavailable.";e.ErrorMessage_BadRequest="We didn\u0027t understand the syntax of the request";e.IdentityPicker_RemoveFromMru="Remove from Most Recently Used list";e.PageTitleWithContent="{0} - Microsoft Team Foundation Server";e.IdentityPicker_IdCardAlias="Alias";e.ErrorMessage_ServiceUnavailable="We are currently unavailable due to {reason}";e.FileSizeMBFormat="{0} MB";e.EditorRemoveFormatting="Remove Formatting";e.MruIdentityPickerTooltip="Select an identity";e.IdentityPicker_IdCardMembers="Members";e.PageTitleWithContent_Hosted="{0} - Visual Studio Team Services";e.ActionLink_ViewServiceStatus="View our service status updates";e.PageNotFound="Page not found.";e.AddASearchFilter="Add a search filter";e.CtrlEnterToOpen="CTRL+Click or CTRL+Enter to follow link";e.WebApiUndefinedRequestError="An undefined error occurred while attempting to connect to the server. Status code {0}: {1}.";e.IdentityPicker_IdCardManager="Manager";e.AddSearchFilterState="State:";e.TrialHeader="START TEST MANAGER TRIAL";e.NavigationViewUnknownTabErrorFormat="Could not find navigation tab with id: {0}.";e.ExternalContentErrorFormat="{0} failed to load.";e.NoSearchResults="No search results.";e.HostedNotFoundMessage="TF400908: The account page you are trying to view does not exist or you do not have access to it.";e.EditorIncreaseIndent="Increase indent";e.NoItemsInThisFolder="No items in this folder.";e.UnsavedChangesMore="more...";e.ClearRowText="Clear row";e.DataProviderFailureMessageFormat="Data provider \"{0}\" failed to execute: {1}";e.NoScriptHeader="JavaScript is Disabled";e.FileInputRemoveFile="remove";e.FilterGroupingCannotGroup="Cannot group these clauses.";e.AADServiceUnavailable="We could not authorize your access with AAD. Please try signing in again.";e.IdentityPicker_IdCardDepartment="Department";e.IdentityPicker_NoResult="No identities found";e.CopyProgressPleaseWait="Copying selected item(s) to the clipboard...";e.ExternalControlLoading="Loading...";e.ModalDialogOkButton="OK";e.CdnFallbackErrorTitle="Network Error";e.FileInputErrorMaxFileSize="File {0} is {1} which exceeds the maximum size allowed for upload of a single file ({2}).";e.FileInputErrorTotalFileSize="The files being added total {0} which exceeds the maximum total size allowed to be uploaded ({1}).";e.PutAccountTrialOnce="You can only start a trial once for this account.";e.Loading="Loading ...";e.AgoLessThanAMinute="just now";e.FileInputReadErrorFormat="Failed to read file {0}: {1}";e.ExternalContentErrorLearnMoreContent="\u003ca\u003eLearn More\u003c/a\u003e about this extension, including available support options.";e.Tips_Unauthorized="Check that the URL you are trying to access is correct and make sure that your account {0} has access. You can get a list of your accounts \u003ca href=\"https://go.microsoft.com/fwlink/?LinkId=309329\" target=\"_blank\"\u003ehere\u003c/a\u003e.\r\nIf the account you are trying to access requires you to be on the Azure Active Directory, ask a directory administrator to \u003ca href=\"https://go.microsoft.com/fwlink/?LinkID=393724\" target=\"_blank\"\u003ecreate a user\u003c/a\u003e for you.\r\nIf you suspect authorization is the problem ask the account/resource administrator to grant you access.\r\nIf you need to sign in with another user, but do not want to sign out because you are using this identity in other sites then we recommend that you start a new browser session in Private Browsing mode to access this page";e.HostedServerError="Sorry, some part of our code decided to throw a fit. We are onto it and will make sure this will not happen again in the future.";e.IdentityPicker_SearchButton="Search";e.ShowDetails="Show details";e.ErrorMessage_InternalServerError="We encountered an error and cannot fulfill the request. The error has been traced and we will work hard to get a fix out as soon as possible. See the status message below for additional information";e.FileInputBrowseButtonLabel="Browse...";e.IdentityPicker_ErrorLoadingIdentities="Error loading identities. Please try again.";e.MruIdentityPickerAadSearchTitle="Search directory";e.EditorDecreaseIndent="Decrease indent";e.OptionalInput="optional";e.FileInputErrorMaxNumFiles="Only {0} files are allowed to be uploaded at one time.";e.ErrorPage_AdditionalTechnicalDetails="Additional technical details:";e.ViewServiceStatus="View service status";e.IdentityPicker_EnterSpaceMessage="Press the ENTER or SPACE keys to open the Contact Card";e.IdentityPicker_PlaceholderTextUser="Search users";e.AgoMonths="{0} months ago";e.SaveButtonLabelText="Save";e.ErrorMessage_GeneralException="We encountered an unknown exception. The error has been traced and we will work hard to get a fix out as soon as possible. See the status message below for additional information";e.TeamFoundationServiceName="Visual Studio Team Services";e.ExtensionErrorBody="We were unable to load a TFS extension. To load this component, please ensure that you are able to access the following url: \u003cbr /\u003e\u003ca /\u003e";e.NoTfsRequestcontext="TF400918: TfsRequestContext could not be found. Team Foundation Application could not be started";e.Ellipsis="...";e.IdentityPicker_ErrorMoreDetails="More details";e.IdentityPicker_ButtonResolvedItemDescription="Button displaying the selected item {0}";e.FileInputErrorLabel="Error";e.ErrorMessage_Unauthorized="Sorry, but {0} is not authorized to access this page";e.DisallowedProtocol="Opening this protocol is not permitted";e.EditorNumberedList="Numbered list";e.CopyContentPcHelpText="Below is a clipboard-friendly view of your selection. To copy to the clipboard, either right-click and choose \u0027Copy\u0027 from the browser\u0027s context menu or enter CTRL-C.";e.HostedNotFoundDetailMessage="We recommend that you double check the URL you are trying to access and verify that your identity ({0}) has the correct permissions.";e.IdentityPicker_ShowContactCardTitle="Show contact card";e.SessionTokenNotReady="Session token is not issued yet.";e.TodayTitle="Today: {0}";e.FileSizeBytesFormat="{0} bytes";e.DefaultWaitMessage="Please wait...";e.AgoAnHour="an hour ago";e.ExtensionErrorAdditionalSteps="You can try checking your network connection and refreshing this page.";});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("VSS/Utils/String",["require","exports","VSS/Utils/Culture"],function(n,t,i){function r(n,t,i){var r;return n===null||n===undefined?"":(r=i?n.toLocaleString():n.toString(),t&&(r=i?r.toLocaleUpperCase():r.toUpperCase()),r)}function h(n){var t=document.createElement("div");return t.appendChild(document.createTextNode(n)),t.innerHTML.replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function d(n){var t=document.createElement("div");return t.appendChild(document.createTextNode(n)),t.innerHTML.replace(/"/g,"&quot;")}function g(n){return $("<div/>").html(n).html()}function nt(n){return $("<div/>").html(n).text()}function tt(n){return h(n).replace(/(\r\n|\n|\r)/gm,"<br/>")}function it(n){return n?n.charAt(0).toUpperCase()+n.slice(1).toLowerCase():n}function o(n,t){if(n===t)return 0;var i=r(n,!1,!1),u=r(t,!1,!1);return i===u?0:i>u?1:-1}function c(n,t){if(n===t)return 0;var i=r(n,!0,!1),u=r(t,!0,!1);return i===u?0:i>u?1:-1}function l(n,t){if(n===t)return 0;var i=r(n,!1,!0),u=r(t,!1,!0);return i.localeCompare(u)}function a(n,t){if(n===t)return 0;var i=r(n,!0,!0),u=r(t,!0,!0);return i.localeCompare(u)}function rt(n,t,i){return i===void 0&&(i=!1),i?a(n,t)===0:l(n,t)===0}function v(n,t,i){return i=i||o,i(t,n.substr(0,t.length))===0}function ut(n,t,i){return i=i||o,i(t,n.substr(n.length-t.length,t.length))===0}function ft(n,t){return n.toLowerCase().indexOf(t.toLowerCase())!==-1}function et(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];return y(!1,n,i)}function ot(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];return y(!0,n,i)}function y(n,t,i){for(var o,f,s,r,e="",u=0;;){if(o=t.indexOf("{",u),f=t.indexOf("}",u),o<0&&f<0){e+=t.slice(u);break}if(f>0&&(f<o||o<0)){if(t.charAt(f+1)!=="}")throw new Error("The format string contains an unmatched opening or closing brace.");e+=t.slice(u,f+1);u=f+2;continue}if(e+=t.slice(u,o),u=o+1,t.charAt(u)==="{"){e+="{";u++;continue}if(f<0)throw new Error("The format string contains an unmatched opening or closing brace.");var h=t.substring(u,f),c=h.indexOf(":"),l=parseInt(c<0?h:h.substring(0,c),10);if(isNaN(l))throw new Error("The format string is invalid.");s=c<0?"":h.substring(c+1);r=i[l];(typeof r=="undefined"||r===null)&&(r="");e+=r.toFormattedString?r.toFormattedString(s):typeof r=="number"?w(r,n,s):r instanceof Date?p(r,n,s):r.format?r.format(s):r.toString();u=f+1}return e}function p(n,t,i){return f.dateToString(n,t,i)}function w(n,t,i){return s.numberToString(n,t,i)}function st(n,t,i){return f.parseDateString(n,t,i)}function ht(n){return b.test(n)}function ct(n){return k.test(n)}function lt(n){return typeof btoa=="function"?window.btoa(n):at(n)}function at(n){for(var e,r,f,t=0,o=n.length,i=[];t<o;)e=n.charCodeAt(t),r=n.charCodeAt(t+1),f=n.charCodeAt(t+2),i.push(u.charAt(e>>2)),i.push(u.charAt((e&3)<<4|r>>4)),i.push(u.charAt(isNaN(r)?64:(r&15)<<2|f>>6)),i.push(u.charAt(isNaN(f)?64:f&63)),t+=3;return i.join("")}function vt(n){return/^\{?([\dA-F]{8})-?([\dA-F]{4})-?([\dA-F]{4})-?([\dA-F]{4})-?([\dA-F]{12})\}?$/i.test(n)}function yt(n){return c(n,t.EmptyGuidString)===0}function pt(){var n,t,i,r;return window.crypto&&window.crypto.getRandomValues?(t=new Uint8Array(32),window.crypto.getRandomValues(t),i=0,n=function(){return t[i++]%16}):n=function(){return Math.random()*16|0},r="nnnnnnnn-nnnn-4nnn-snnn-nnnnnnnnnnnn",r.replace(/[ns]/g,function(t){var i=n()|0,r=t=="n"?i:i&3|8;return r.toString(16)})}function wt(n,t,i,r){var u={part1:n,part2:null,match:!1},e,o,f;return n&&t&&(e=i?n.toLowerCase():n,o=i?t.toLowerCase():t,f=r?e.lastIndexOf(o):e.indexOf(o),f>=0&&(u.part1=n.substr(0,f),u.part2=n.substr(f+t.length),u.match=!0)),u}var bt=Array.prototype.slice,b=/[\u0000-\u0008\u000B\u000C\u000E-\u001F\u007F-\u009F]/,k=/(^[\uD800-\uDFFF]$)|[^\uD800-\uDBFF](?=[\uDC00-\uDFFF])|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/,f,s,u,e;t.EmptyGuidString="00000000-0000-0000-0000-000000000000";t.empty="";t.newLine="\r\n";t.tab="\t";t.lineFeed="\n";t.htmlEncode=h;t.htmlEncodeJavascriptAttribute=d;t.htmlDecode=g;t.decodeHtmlSpecialChars=nt;t.nl2br=tt;t.toSentenceCase=it;t.defaultComparer=o;t.ignoreCaseComparer=c;t.localeComparer=l;t.localeIgnoreCaseComparer=a;t.equals=rt;t.startsWith=v;t.endsWith=ut;t.caseInsensitiveContains=ft;t.format=et;t.localeFormat=ot;t.dateToString=p;t.numberToString=w;t.parseDateString=st,function(n){function t(n,t){var r,u,i,f;if(!t)return 0;for(u=n.getTime(),i=0,f=t.length;i<f;i+=4)if(r=t[i+2],r===null||u>=r)return i;return 0}function u(n,t,i,r){var u=n.getFullYear(),f=t.Calendar.convert;return f&&(u=f.fromGregorian(n)[0]),!r&&t.eras&&(u-=t.eras[i+3]),u}function s(n,t){t||(t="F");var i=t.length;if(i===1)switch(t){case"d":return n.ShortDatePattern;case"D":return n.LongDatePattern;case"g":return n.ShortDatePattern+" "+n.ShortTimePattern;case"G":return n.ShortDatePattern+" "+n.LongTimePattern;case"t":return n.ShortTimePattern;case"T":return n.LongTimePattern;case"f":return n.LongDatePattern+" "+n.ShortTimePattern;case"F":return n.FullDateTimePattern;case"M":case"m":return n.MonthDayPattern;case"s":return n.SortableDateTimePattern;case"Y":case"y":return n.YearMonthPattern;case"R":case"r":return n.RFC1123Pattern;case"u":return n.UniversalSortableDateTimePattern;default:throw new Error("Input string was not in a correct format.");}else i===2&&t.charAt(0)==="%"&&(t=t.charAt(1));return t}function a(n,r,f){function l(n){return n<10?"0"+n:n.toString()}function g(n){return n<10?"00"+n:n<100?"0"+n:n.toString()}function et(n){return n<10?"000"+n:n<100?"00"+n:n<1e3?"0"+n:n.toString()}function ot(n,t){for(var u,f=0,i=!1,r=0,e=n.length;r<e;r++){u=n.charAt(r);switch(u){case"'":i?t.append("'"):f++;i=!1;break;case"\\":i&&t.append("\\");i=!i;break;default:t.append(u);i=!1}}return f}function ft(){return y||rt?y:(y=ut.test(f),rt=!0,y)}function v(n,t){if(a)return a[t];switch(t){case 0:return n.getFullYear();case 1:return n.getMonth();case 2:return n.getDate()}}var h=r?i.getCurrentCulture().dateTimeFormat:i.getInvariantCulture().dateTimeFormat,k=h.Calendar.convert,d,it,p,w,o,c,y,rt,ut,nt,tt,a;if(!f||!f.length||f==="i")if(r)if(k)f=h.FullDateTimePattern;else return d=new Date(n.getTime()),it=t(n,h.eras),d.setFullYear(u(n,h,it)),d.toLocaleString();else return n.toString();for(p=h.eras,w=f==="s",f=s(h,f),o=new e,ut=/([^d]|^)(d|dd)([^d]|$)/g,nt=0,tt=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g,!w&&k&&(a=k.fromGregorian(n));;){var st=tt.lastIndex,b=tt.exec(f),ht=f.slice(st,b?b.index:f.length);if(nt+=ot(ht,o),!b)break;if(nt%2==1){o.append(b[0]);continue}switch(b[0]){case"dddd":o.append(h.DayNames[n.getDay()]);break;case"ddd":o.append(h.AbbreviatedDayNames[n.getDay()]);break;case"dd":y=!0;o.append(l(v(n,2)));break;case"d":y=!0;o.append(v(n,2));break;case"MMMM":o.append(h.MonthGenitiveNames&&ft()?h.MonthGenitiveNames[v(n,1)]:h.MonthNames[v(n,1)]);break;case"MMM":o.append(h.AbbreviatedMonthGenitiveNames&&ft()?h.AbbreviatedMonthGenitiveNames[v(n,1)]:h.AbbreviatedMonthNames[v(n,1)]);break;case"MM":o.append(l(v(n,1)+1));break;case"M":o.append(v(n,1)+1);break;case"yyyy":o.append(et(a?a[0]:u(n,h,t(n,p),w)));break;case"yy":o.append(l((a?a[0]:u(n,h,t(n,p),w))%100));break;case"y":o.append((a?a[0]:u(n,h,t(n,p),w))%100);break;case"hh":c=n.getHours()%12;c===0&&(c=12);o.append(l(c));break;case"h":c=n.getHours()%12;c===0&&(c=12);o.append(c);break;case"HH":o.append(l(n.getHours()));break;case"H":o.append(n.getHours());break;case"mm":o.append(l(n.getMinutes()));break;case"m":o.append(n.getMinutes());break;case"ss":o.append(l(n.getSeconds()));break;case"s":o.append(n.getSeconds());break;case"tt":o.append(n.getHours()<12?h.AMDesignator:h.PMDesignator);break;case"t":o.append((n.getHours()<12?h.AMDesignator:h.PMDesignator).charAt(0));break;case"f":o.append(g(n.getMilliseconds()).charAt(0));break;case"ff":o.append(g(n.getMilliseconds()).substr(0,2));break;case"fff":o.append(g(n.getMilliseconds()));break;case"z":c=n.getTimezoneOffset()/60;o.append((c<=0?"+":"-")+Math.floor(Math.abs(c)));break;case"zz":c=n.getTimezoneOffset()/60;o.append((c<=0?"+":"-")+l(Math.floor(Math.abs(c))));break;case"zzz":c=n.getTimezoneOffset()/60;o.append((c<=0?"+":"-")+l(Math.floor(Math.abs(c)))+":"+l(Math.abs(n.getTimezoneOffset()%60)));break;case"g":case"gg":h.eras&&o.append(h.eras[t(n,p)+1]);break;case"/":o.append(h.DateSeparator);break;default:new Error("Invalid date format pattern")}}return o.toString()}function y(n,t,i){for(var e,o,u,s=!1,r=0,f=i.length;r<f;r++)if(e=i[r],e&&(s=!0,u=l(n,e,t),u))return u;if(!s)for(o=p(t.dateTimeFormat),r=0,f=o.length;r<f;r++)if(u=l(n,o[r],t),u)return u;return null}function p(n){return[n.MonthDayPattern,n.YearMonthPattern,n.ShortDatePattern,n.ShortTimePattern,n.LongDatePattern,n.LongTimePattern,n.FullDateTimePattern,n.RFC1123Pattern,n.SortableDateTimePattern,n.UniversalSortableDateTimePattern,n.ShortDatePattern+" "+n.LongTimePattern,n.LongDatePattern+" "+n.ShortTimePattern,n.ShortDatePattern+" "+n.ShortTimePattern]}function h(n,t){for(var u,f=0,i=!1,r=0,e=n.length;r<e;r++){u=n.charAt(r);switch(u){case"'":i?t.append("'"):f++;i=!1;break;case"\\":i&&t.append("\\");i=!i;break;default:t.append(u);i=!1}}return f}function w(n,i){var f=new Date,e=t(f,n.eras),r;return i<100&&(r=u(f,n,e),i+=r-r%100,i>n.Calendar.TwoDigitYearMax&&(i-=100)),i}function b(n,t){var r,v,y,o;if(n._parseRegExp){if(n._parseRegExp[t])return n._parseRegExp[t]}else n._parseRegExp={};r=s(n,t);r=r.replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1");for(var i=new e("^"),c=[],f=0,l=0,a=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g,u;(u=a.exec(r))!==null;){if(v=r.slice(f,u.index),f=a.lastIndex,l+=h(v,i),l%2==1){i.append(u[0]);continue}switch(u[0]){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":i.append("(\\D+)");break;case"tt":case"t":i.append("(\\D*)");break;case"yyyy":i.append("(\\d{4})");break;case"fff":i.append("(\\d{3})");break;case"ff":i.append("(\\d{2})");break;case"f":i.append("(\\d)");break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":i.append("(\\d\\d?)");break;case"zzz":i.append("([+-]?\\d\\d?:\\d{2})");break;case"zz":case"z":i.append("([+-]?\\d\\d?)");break;case"/":i.append("(\\"+n.DateSeparator+")");break;default:throw new Error("Invalid date format pattern.");}c.push(u[0])}return h(r.slice(f),i),i.append("$"),y=i.toString().replace(/\s+/g,"\\s+"),o={regExp:y,groups:c},n._parseRegExp[t]=o,o}function f(n,t){if(typeof t=="undefined")return-1;for(var i=0,r=n.length;i<r;i++)if(typeof n[i]!="undefined"&&n[i]===t)return i;return-1}function c(n,t,i){var u=o(n),r=f(t,u);return r===-1&&(r=f(i,u)),r}function k(n,t){return n._upperMonths||(n._upperMonths=r(n.dateTimeFormat.MonthNames),n._upperMonthsGenitive=r(n.dateTimeFormat.MonthGenitiveNames)),c(t,n._upperMonths,n._upperMonthsGenitive)}function d(n,t){return n._upperAbbrMonths||(n._upperAbbrMonths=r(n.dateTimeFormat.AbbreviatedMonthNames),n._upperAbbrMonthsGenitive=r(n.dateTimeFormat.AbbreviatedMonthGenitiveNames)),c(t,n._upperAbbrMonths,n._upperAbbrMonthsGenitive)}function g(n,t){return n._upperDays||(n._upperDays=r(n.dateTimeFormat.DayNames)),f(n._upperDays,o(t))}function nt(n,t){return n._upperAbbrDays||(n._upperAbbrDays=r(n.dateTimeFormat.AbbreviatedDayNames)),f(n._upperAbbrDays,o(t))}function r(n){for(var i=[],t=0,r=n.length;t<r;t++)i[t]=o(n[t]);return i}function o(n){return n.split(" ").join(" ").toUpperCase()}function l(n,t,i){var y,pt,r,ct,ot,p,tt,it,wt,u,bt,rt,lt;n=n.trim();var s=i.dateTimeFormat,at=b(s,t),vt=new RegExp(at.regExp).exec(n);if(vt===null)return null;var yt=at.groups,st=null,e=null,f=null,c=null,l=null,o=0,a,ut=0,ft=0,h=0,et=null,ht=!1;for(y=0,pt=yt.length;y<pt;y++)if(r=vt[y+1],r)switch(yt[y]){case"dd":case"d":if(c=parseInt(r,10),c<1||c>31)return null;break;case"MMMM":if(f=k(i,r),f<0||f>11)return null;break;case"MMM":if(f=d(i,r),f<0||f>11)return null;break;case"M":case"MM":if(f=parseInt(r,10)-1,f<0||f>11)return null;break;case"y":case"yy":if(e=w(s,parseInt(r,10)),e<0||e>9999)return null;break;case"yyyy":if(e=parseInt(r,10),e<0||e>9999)return null;break;case"h":case"hh":if(o=parseInt(r,10),o===12&&(o=0),o<0||o>11)return null;break;case"H":case"HH":if(o=parseInt(r,10),o<0||o>23)return null;break;case"m":case"mm":if(ut=parseInt(r,10),ut<0||ut>59)return null;break;case"s":case"ss":if(ft=parseInt(r,10),ft<0||ft>59)return null;break;case"tt":case"t":if(ct=r.toUpperCase(),ht=ct===s.PMDesignator.toUpperCase(),!ht&&ct!==s.AMDesignator.toUpperCase())return null;break;case"f":if(h=parseInt(r,10)*100,h<0||h>999)return null;break;case"ff":if(h=parseInt(r,10)*10,h<0||h>999)return null;break;case"fff":if(h=parseInt(r,10),h<0||h>999)return null;break;case"dddd":if(l=g(i,r),l<0||l>6)return null;break;case"ddd":if(l=nt(i,r),l<0||l>6)return null;break;case"zzz":if((ot=r.split(/:/),ot.length!==2)||(a=parseInt(ot[0],10),a<-12||a>13)||(p=parseInt(ot[1],10),p<0||p>59))return null;et=a*60+(v(r,"-")?-p:p);break;case"z":case"zz":if(a=parseInt(r,10),a<-12||a>13)return null;et=a*60;break;case"g":case"gg":if(tt=r,!tt||!s.eras)return null;for(tt=tt.toLowerCase().trim(),it=0,wt=s.eras.length;it<wt;it+=4)if(tt===s.eras[it+1].toLowerCase()){st=it;break}if(st===null)return null}if(u=new Date,rt=s.Calendar.convert,bt=rt?rt.fromGregorian(u)[0]:u.getFullYear(),e===null?e=bt:s.eras&&(e+=s.eras[(st||0)+3]),f===null&&(f=0),c===null&&(c=1),rt){if(u=rt.toGregorian(e,f,c),u===null)return null}else if((u.setFullYear(e,f,c),u.getDate()!==c)||l!==null&&u.getDay()!==l)return null;return ht&&o<12&&(o+=12),u.setHours(o,ut,ft,h),et!==null&&(lt=u.getMinutes()-(et+u.getTimezoneOffset()),u.setHours(u.getHours()+parseInt(lt/60,10),lt%60)),u}n.dateToString=a;n.parseDateString=y}(f||(f={})),function(n){function t(n,t,r){function c(n,t,i){for(var r=n.length;r<t;r++)n=i?"0"+n:n+"0";return n}function l(n,t,i,r,u){var a=i[0],v=1,p=Math.pow(10,t),y=Math.round(n*p)/p,s,l;isFinite(y)||(y=n);n=y;var e=n.toString(),f="",o,h=e.split(/e/i);for(e=h[0],o=h.length>1?parseInt(h[1]):0,h=e.split("."),e=h[0],f=h.length>1?h[1]:"",o>0?(f=c(f,o,!1),e+=f.slice(0,o),f=f.substr(o)):o<0&&(o=-o,e=c(e,o+1,!0),f=e.slice(-o,e.length)+f,e=e.slice(0,-o)),t>0?(f=f.length>t?f.slice(0,t):c(f,t,!1),f=u+f):f="",s=e.length-1,l="";s>=0;){if(a===0||a>s)return l.length>0?e.slice(0,s+1)+r+l+f:e.slice(0,s+1)+f;l=l.length>0?e.slice(s-a+1,s+1)+r+l:e.slice(s-a+1,s+1);s-=a;v<i.length&&(a=i[v],v++)}return e.slice(0,s+1)+r+l+f}var u,e,f,o,a,s,v,h;if(!r||r.length===0||r==="i")return t?n.toLocaleString():n.toString();u=t?i.getCurrentCulture().numberFormat:i.getInvariantCulture().numberFormat;r||(r="D");f=-1;r.length>1&&(f=parseInt(r.slice(1),10));switch(r.charAt(0)){case"d":case"D":o="n";f!==-1?(e=c(""+Math.abs(n),f,!0),n<0&&(e="-"+e)):e=""+n;break;case"c":case"C":o=n<0?["($n)","-$n","$-n","$n-","(n$)","-n$","n-$","n$-","-n $","-$ n","n $-","$ n-","$ -n","n- $","($ n)","(n $)"][u.CurrencyNegativePattern]:["$n","n$","$ n","n $"][u.CurrencyPositivePattern];f===-1&&(f=u.CurrencyDecimalDigits);e=l(Math.abs(n),f,u.CurrencyGroupSizes,u.CurrencyGroupSeparator,u.CurrencyDecimalSeparator);break;case"n":case"N":o=n<0?["(n)","-n","- n","n-","n -"][u.NumberNegativePattern]:"n";f===-1&&(f=u.NumberDecimalDigits);e=l(Math.abs(n),f,u.NumberGroupSizes,u.NumberGroupSeparator,u.NumberDecimalSeparator);break;case"p":case"P":o=n<0?["-n %","-n%","-%n"][u.PercentNegativePattern]:["n %","n%","%n"][u.PercentPositivePattern];f===-1&&(f=u.PercentDecimalDigits);e=l(Math.abs(n)*100,f,u.PercentGroupSizes,u.PercentGroupSeparator,u.PercentDecimalSeparator);break;default:throw new Error("Format specifier was invalid.");}for(a=/n|\$|-|%/g,s="";;){if(v=a.lastIndex,h=a.exec(o),s+=o.slice(v,h?h.index:o.length),!h)break;switch(h[0]){case"n":s+=e;break;case"$":s+=u.CurrencySymbol;break;case"-":/[1-9]/.test(e)&&(s+=u.NegativeSign);break;case"%":s+=u.PercentSymbol;break;default:throw new Error("Invalid number format pattern");}}return s}n.numberToString=t}(s||(s={}));t.containsControlChars=ht;t.containsMismatchedSurrogateChars=ct;t.base64Encode=lt;u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.isGuid=vt;t.isEmptyGuid=yt;t.generateUID=pt;t.singleSplit=wt;e=function(){function n(n){this._textBuilder=[];n&&this._textBuilder.push(n)}return n.prototype.append=function(n){this._textBuilder[this._textBuilder.length]=n},n.prototype.appendNewLine=function(){this.append(t.newLine)},n.prototype.toString=function(){return this._textBuilder.join("")},n}();t.StringBuilder=e});
define("VSS/Utils/Date",["require","exports","VSS/Context","VSS/Utils/Culture","VSS/Diag","VSS/Resources/VSS.Resources.Platform","VSS/Utils/String"],function(n,t,i,r,u,f,e){function b(n){return w.test(n)}function st(n){var i=n.getTime()-n.getTimezoneOffset()*6e4;return i===t.DATETIME_MINDATE_UTC_MS}function k(n,t){return n instanceof Date&&t instanceof Date?n.getTime()-t.getTime():n instanceof Date?1:t instanceof Date?-1:0}function ht(n,t){return n===null||n===undefined?n===t:n instanceof Date&&k(n,t)===0}function d(n){return new Date(n.getTime()+n.getTimezoneOffset()*s)}function ct(n){return new Date(n.getTime()-n.getTimezoneOffset()*s)}function lt(n,t,i){var r,f;return r=nt(n,t?[t]:null,i),!r&&b(n)&&(r=new Date(n)),r instanceof Date&&!isNaN(r)?(f=r.getFullYear(),f>=1900&&f<2e3&&n.indexOf(f)<0&&r.setFullYear(f%100+Math.floor((new Date).getFullYear()/100)*100)):r=null,r}function g(n,t,i){return n=new Date(n.getTime()),n.setHours(0,0,0,0),t=new Date(t.getTime()),t.setHours(0,0,0,0),Math.round(Math.abs(t.getTime()-n.getTime())/a)+(i===!0?0:1)}function nt(n,t,i){var f,u;return f=typeof t=="string"?[t]:[].concat(t),u=e.parseDateString(n,r.getCurrentCulture(),f),i||!u?u:tt(u,!0)}function v(n,t,i){return i||(n=y(n,!0)),e.dateToString(n,!0,t)}function y(n,t){return t===void 0&&(t=!0),it(n,t,!0)}function tt(n,t){return t===void 0&&(t=!0),it(n,t,!1)}function it(n,i,r){var e,o,s,f,u;return e=n.getTime(),o=n.getTimezoneOffset()*6e4,f=t.utcOffset,i&&(f=l(n)),s=r?e+o+f:e-o-f,u=new Date(s),i&&l(u)===l(n)&&(u=c(n,u)),u}function rt(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate())}function ut(){return y(new Date,!1)}function h(){return rt(ut())}function at(n,t){return e.dateToString(n,!1,t)}function ft(n,t){var u,p,o,s=60,h=s*60,i=h*24,l=i*7,a=i*365/12,v=i*365,c,r,y;for(y=[{limit:s,format:f.AgoLessThanAMinute},{limit:s*1.5,format:f.AgoAMinute},{limit:h,format:f.AgoMinutes,arg:s},{limit:h*1.5,format:f.AgoAnHour},{limit:i,format:f.AgoHours,arg:h},{limit:i*1.5,format:f.AgoADay},{limit:l,format:f.AgoDays,arg:i},{limit:l*1.5,format:f.AgoAWeek},{limit:a,format:f.AgoWeeks,arg:l},{limit:a*1.5,format:f.AgoAMonth},{limit:v,format:f.AgoMonths,arg:a},{limit:v*1.5,format:f.AgoAYear},{limit:Number.POSITIVE_INFINITY,format:f.AgoYears,arg:v}],(t===null||typeof t=="undefined")&&(t=new Date),c=t.getTime()-n.getTime(),c/=1e3,u=0,p=y.length;u<p;u++)if(r=y[u],c<r.limit){o=r.arg?e.format(r.format,Math.round(c/r.arg)):r.format;break}return o||(o=this.toString()),o}function et(n,t,i){i===void 0&&(i=!1);var r=new Date;return r.setTime(n.getTime()+t*864e5),i&&(r=c(n,r)),r}function vt(n,t,i){i===void 0&&(i=!1);var r=new Date;return r.setTime(n.getTime()+t*36e5),i&&(r=c(n,r)),r}function c(n,t,i){var r,u,f;return i===void 0&&(i=null),r=t,i!==null&&(r=i),u=n.getTimezoneOffset(),f=t.getTimezoneOffset(),u!=f&&(r=et(r,(f-u)/1440)),r}function l(n){var r,i;if(!t.timeZoneMap)return t.utcOffset;for(r=d(n),i=0;i<t.timeZoneMap.length;i++){if(i===t.timeZoneMap.length-1&&r===t.timeZoneMap[i].start)return t.timeZoneMap[i].offset;if(i===t.timeZoneMap.length-1)break;if(r>=t.timeZoneMap[i].start&&r<t.timeZoneMap[i+1].start)return t.timeZoneMap[i].offset}return t.utcOffset}function yt(n){return g(h(),n,!0)===0}function pt(n){var t=h(),i=n.getTime()-t.getTime();return i<0}function wt(n){var t=h(),i=n.getTime()-t.getTime();return i>0}function bt(n,t){var i,o,u,s,f,e,h;for((t===null||typeof t=="undefined")&&(t=new Date),h=new Date(t.getFullYear(),t.getMonth(),t.getDate()-t.getDay()+r.getDateTimeFormat().FirstDayOfWeek),e=[{limit:86400,format:function(n){return ft(n,t)}},{limit:(t-h)/1e3,format:function(n){return v(n,"dddd")}},{limit:Number.POSITIVE_INFINITY,format:function(n){return v(n,"d")}}],s=(t.getTime()-n.getTime())/1e3,i=0,o=e.length;i<o;i++)if(f=e[i],s<f.limit&&f.limit>0){u=f.format(n);break}return u||(u=n.toString()),u}var o,w;t.utcOffset=0;o=i.getPageContext();o&&o.globalization&&(t.utcOffset=o.globalization.timezoneOffset||0);o&&o.timeZonesConfiguration&&(t.timeZoneMap=o.timeZonesConfiguration.daylightSavingsAdjustments);var kt=Array.prototype.slice,s=6e4,p=s*60,a=p*24,ot=a*7;t.MILLISECONDS_IN_MINUTE=s;t.MILLISECONDS_IN_HOUR=p;t.MILLISECONDS_IN_DAY=a;t.MILLISECONDS_IN_WEEK=ot;t.DATETIME_MINDATE_UTC_MS=-621355968e5;w=/^(\d{4}|\+{1}\d{6})-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d{1,7})?(Z|[+-]\d{2}:\d{2})?$/;t.isIsoDate=b;t.isMinDate=st;t.compare=function(n,t){return t instanceof Date?t.getTime()-n.getTime():-1};t.defaultComparer=k;t.equals=ht;t.shiftToUTC=d;t.shiftToLocal=ct;t.parseDateString=lt;t.daysBetweenDates=g;t.parseLocale=nt;t.localeFormat=v;t.convertClientTimeToUserTimeZone=y;t.convertUserTimeToClientTimeZone=tt;t.stripTimeFromDate=rt;t.getNowInUserTimeZone=ut;t.getTodayInUserTimeZone=h;t.format=at;t.ago=ft;t.addDays=et;t.addHours=vt;t.adjustOffsetForTimes=c;t.getOffsetForDate=l;t.isGivenDayToday=yt;t.isGivenDayInPast=pt;t.isGivenDayInFuture=wt;t.friendly=bt});
define("VSS/Utils/Number",["require","exports","VSS/Utils/Culture","VSS/Utils/String"],function(n,t,i,r){function f(n,t,i){for(var r=n.length;r<t;r++)n=i?"0"+n:n+"0";return n}function o(n,t){return n-t}function s(n,t,r){var o,a,h,u=n.toString(),e="",v,y,c,p,s,l;if(a=r?r.numberFormat:i.getNumberFormat(),h=u.split(/e/i),u=h[0],o=h.length>1?parseInt(h[1],10):0,h=u.split("."),u=h[0],e=h.length>1?h[1]:"",o>0?(e=f(e,o,!1),u+=e.slice(0,o),e=e.substr(o)):o<0&&(o=-o,u=f(u,o+1,!0),e=u.slice(-o,u.length)+e,u=u.slice(0,-o)),e.length>0&&(e=a.NumberDecimalSeparator+e),t===!0){for(v=a.NumberGroupSizes,y=a.NumberGroupSeparator,c=v[0],p=1,s=u.length-1,l="";s>=0;){if(c===0||c>s)return l.length>0?u.slice(0,s+1)+y+l+e:u.slice(0,s+1)+e;l=l.length>0?u.slice(s-c+1,s+1)+y+l:u.slice(s-c+1,s+1);s-=c;p<v.length&&(c=v[p],p++)}return u.slice(0,s+1)+y+l+e}return u+e}function h(n){return n>0&&parseInt(n)==n}function c(n){return e(n,i.getCurrentCulture().numberFormat)}function l(n){return e(n,i.getInvariantCulture().numberFormat)}function a(n,t){return r.numberToString(n,!0,t)}function e(n,t){var l,f,e,i,a,v,y,h,c;if(n=n.trim(),n.match(/^[+-]?infinity$/i))return parseFloat(n);if(n.match(/^0x[a-f0-9]+$/i))return parseInt(n);var o=u(n,t,t.NumberNegativePattern),s=o[0],r=o[1];return(s===""&&t.NumberNegativePattern!==1&&(o=u(n,t,1),s=o[0],r=o[1]),s===""&&(s="+"),e=r.indexOf("e"),e<0&&(e=r.indexOf("E")),e<0?(f=r,l=null):(f=r.substr(0,e),l=r.substr(e+1)),v=f.indexOf(t.NumberDecimalSeparator),v<0?(i=f,a=null):(i=f.substr(0,v),a=f.substr(v+t.NumberDecimalSeparator.length)),i=i.split(t.NumberGroupSeparator).join(""),y=t.NumberGroupSeparator.replace(/\u00A0/g," "),t.NumberGroupSeparator!==y&&(i=i.split(y).join("")),h=s+i,a!==null&&(h+="."+a),l!==null&&(c=u(l,t,1),c[0]===""&&(c[0]="+"),h+="e"+c[0]+c[1]),h.match(/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/))?parseFloat(h):Number.NaN}function u(n,t,i){var u=t.NegativeSign,f=t.PositiveSign;switch(i){case 4:u=" "+u;f=" "+f;case 3:if(r.endsWith(n,u))return["-",n.substr(0,n.length-u.length)];if(r.endsWith(n,f))return["+",n.substr(0,n.length-f.length)];break;case 2:u+=" ";f+=" ";case 1:if(r.startsWith(n,u))return["-",n.substr(u.length)];if(r.startsWith(n,f))return["+",n.substr(f.length)];break;case 0:if(r.startsWith(n,"(")&&r.endsWith(n,")"))return["-",n.substr(1,n.length-2)];break;default:throw new Error("Invalid negative number pattern.");}return["",n]}t.defaultComparer=o;t.toDecimalLocaleString=s;t.isPositiveNumber=h;t.parseLocale=c;t.parseInvariant=l;t.localeFormat=a});
define("VSS/Utils/Core",["require","exports","VSS/Diag","VSS/Utils/Date","VSS/Utils/Number","VSS/Utils/String","VSS/VSS"],function(n,t,i,r,u,f,e){function o(n,t,i){return function(){if(typeof i=="undefined")return t.apply(n,arguments);var r=Array.prototype.slice.call(arguments,0);return i instanceof Array?r=r.concat(i):r.push(i),t.apply(n,r)}}function p(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];return i=Array.prototype.slice.call(arguments,1),function(){return n.apply(this,i.concat(Array.prototype.slice.call(arguments,0)))}}function w(n,t,i,r){var u=new s(n,t,null,i,r);return u.start(),u}function b(n,t,i,r){var u=new s(n,t,"throttledDelegate",i,r);return o(u,u.reset)}function k(n){var t,r;var e=n.replace(/[^\d,\.-]/g,""),u=e.split(","),f=[];for(t=0;t<u.length;++t)r=parseInt(u[t],10),isNaN(r)||f.push(r);return f}function d(n,t){try{return l(n,t)}catch(i){return null}}function l(n){return h.deserialize(n)}function g(n){return h.serialize(n)}function nt(n,t,r){t!==undefined&&t!==null;r!==undefined;var u,f,e=null;return u=n.find('script[type="application/json"]'),t&&(u=u.filter(t)),u.length>0&&(f=u.eq(0).html(),f&&(e=l(f,!1)),r&&u.eq(0).remove()),e}function tt(n,t){return n!==null&&typeof n!="undefined"?typeof n=="string"?n:n instanceof Date?r.localeFormat(n,t||"G"):typeof n=="number"?t?r.localeFormat(new Date(n),t):u.toDecimalLocaleString(n):typeof n=="boolean"?n?"True":"False":n.toString():""}function it(n){try{var t=new window.XMLSerializer;return t.serializeToString(n)}catch(i){return null}}function rt(n){try{var t=new window.DOMParser;return t.parseFromString(n,"text/xml")}catch(i){return null}}function a(n,t){var i,u,f,e,r;if(c(n)&&c(t))return n===t;if(c(n)||c(t))return!1;if(n instanceof Array&&t instanceof Array){if(n.length!==t.length)return!1;for(i=0,u=n.length;i<u;i++)if(!a(n[i],t[i]))return!1;return!0}if(f=Object.keys(n),e=Object.keys(t),f.length!==e.length)return!1;for(r in n)if(t.hasOwnProperty(r)){if(!a(n[r],t[r]))return!1}else return!1;return!0}function c(n){return n==null||typeof n=="number"||typeof n=="boolean"||typeof n=="string"}var s,v,y,h;t.delegate=o;t.curry=p;s=function(){function n(n,t,i,r,u){this._interval=t;this._name=i;this._func=o(n,r,u)}return n.prototype.start=function(){var n=this;this._timeoutHandle||(i.logTracePoint("Core.DelayedFunction.pending",this._name),this._timeoutHandle=window.setTimeout(function(){delete n._timeoutHandle;try{n._func.call(n)}finally{i.logTracePoint("Core.DelayedFunction.complete",[n._name,"complete"])}},this._interval))},n.prototype.reset=function(){this.cancel();i.logTracePoint("Core.DelayedFunction.reset",[this._name,"reset"]);this.start()},n.prototype.cancel=function(){this._timeoutHandle&&(window.clearTimeout(this._timeoutHandle),delete this._timeoutHandle,i.logTracePoint("Core.DelayedFunction.complete",[this._name,"canceled"]))},n.prototype.invokeNow=function(){this.cancel();this._func()},n.prototype.setDelay=function(n){this._interval=n},n.prototype.setMethod=function(n,t,i){this._func=o(n,t,i)},n.prototype.isPending=function(){return this._timeoutHandle?!0:!1},n}();t.DelayedFunction=s;t.delay=w;t.throttledDelegate=b;t.parseIntArray=k;v=function(){function n(n){this.context=n;this._callbacks=[]}return n.prototype.perform=function(n){!this.canceled&&$.isFunction(n)&&n.call(this.context)},n.prototype.wrap=function(n){var t=this;return function(){if(!t.canceled&&$.isFunction(n))return n.apply(this,Array.prototype.slice.call(arguments,0))}},n.prototype.cancel=function(){var n=this;this.canceled=!0;$.each(this._callbacks,function(t,i){i.call(n.context)})},n.prototype.register=function(n){$.isFunction(n)&&(this._callbacks.push(n),this.canceled&&n.call(this.context))},n}();t.Cancelable=v;y=function(){function n(){this._disposables=[]}return n.prototype.addDisposable=function(n){return this._disposables.push(n),n},n.prototype.dispose=function(){if(this._disposables)while(this._disposables.length>0)this._disposables.splice(0,1)[0].dispose()},n}();t.DisposalManager=y;t.tryParseMSJSON=d;t.parseMSJSON=l;t.stringifyMSJSON=g,function(n){function y(){var f,n,u;if(!e)for(e=!0,f=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000b","\\f","\\r","\\u000e","\\u000f","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001a","\\u001b","\\u001c","\\u001d","\\u001e","\\u001f"],r[0]="\\",i["\\"]=new RegExp("\\\\","g"),t["\\"]="\\\\",r[1]='"',i['"']=new RegExp('"',"g"),t['"']='\\"',n=0;n<32;n++)u=String.fromCharCode(n),r[n+2]=u,i[u]=new RegExp(u,"g"),t[u]=f[n]}function o(n,t){t.append(n.toString())}function s(n,t){if(isFinite(n))t.append(String(n));else throw new Error("Cannot serialize non finite numbers.");}function h(n,u){var f,e;if(u.append('"'),a.test(n))if(n.length<128)n=n.replace(v,function(n){return t[n]});else for(f=0;f<34;f++)e=r[f],n.indexOf(e)!==-1&&(n=n.replace(i[e],t[e]));u.append(n);u.append('"')}function u(n,t,i){var r,e,c,l,v,y,p,a;switch(typeof n){case"object":if(n){if(i){for(e=0;e<i.length;e++)if(i[e]===n)throw new Error("Cannot serialize object with cyclic reference within child properties.");}else i=[];try{if(i.push(n),c=typeof n,c==="number")s(n,t);else if(c==="boolean")o(n,t);else if(c==="string")h(n,t);else if(n instanceof Array){for(t.append("["),r=0;r<n.length;++r)r>0&&t.append(","),u(n[r],t,i);t.append("]")}else{if(n instanceof Date){t.append('"\\/Date(');t.append(n.getTime());t.append(')\\/"');break}l=[];v=0;for(y in n)f.startsWith(y,"$")||(l[v++]=y);for(t.append("{"),p=!1,r=0;r<v;r++)a=n[l[r]],typeof a!="undefined"&&typeof a!="function"&&(p?t.append(","):p=!0,u(l[r],t,i),t.append(":"),u(a,t,i));t.append("}")}}finally{i.pop()}}else t.append("null");break;case"number":s(n,t);break;case"string":h(n,t);break;case"boolean":o(n,t);break;default:t.append("null")}}function p(n){y();var t=new f.StringBuilder;return u(n,t),t.toString()}function w(n){var t=n.replace(l,'$1{"__msjson_date__":$2 }'),i=JSON.parse(t);return t!==n&&c(i),i}function c(n,t,i){var r,u;if(typeof n.__msjson_date__=="number"&&t){t[i]=new Date(n.__msjson_date__);return}for(r in n)u=n[r],u!==null&&typeof u=="object"&&c(n[r],n,r)}var i=[],r=[],l=new RegExp('(^|[^\\\\])\\"\\\\/Date\\((-?[0-9]+)(?:[a-zA-Z]|(?:\\+|-)[0-9]{4})?\\)\\\\/\\"',"g"),t={},a=new RegExp('["\\\\\\x00-\\x1F]',"i"),v=new RegExp('["\\\\\\x00-\\x1F]',"g"),b=new RegExp("[^,:{}\\[\\]0-9.\\-+Eaeflnr-u \\n\\r\\t]","g"),k=new RegExp('"(\\\\.|[^"\\\\])*"',"g"),e=!1;n.serialize=p;n.deserialize=w}(h||(h={}));t.parseJsonIsland=nt;t.convertValueToDisplayString=tt;t.domToXml=it;t.parseXml=rt;t.equals=a;t.documentSelection=document.selection;e.tfsModuleLoaded("VSS.Core",t)});
/*!
 * jQuery UI Widget 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
(function(n){typeof define=="function"&&define.amd?define("jQueryUI/widget",["jquery"],n):n(jQuery)})(function(n){var i=0,t=Array.prototype.slice;return n.cleanData=function(t){return function(i){for(var r,u,f=0;(u=i[f])!=null;f++)try{r=n._data(u,"events");r&&r.remove&&n(u).triggerHandler("remove")}catch(e){}t(i)}}(n.cleanData),n.widget=function(t,i,r){var s,f,u,o,h={},e=t.split(".")[0];return t=t.split(".")[1],s=e+"-"+t,r||(r=i,i=n.Widget),n.expr[":"][s.toLowerCase()]=function(t){return!!n.data(t,s)},n[e]=n[e]||{},f=n[e][t],u=n[e][t]=function(n,t){if(!this._createWidget)return new u(n,t);arguments.length&&this._createWidget(n,t)},n.extend(u,f,{version:r.version,_proto:n.extend({},r),_childConstructors:[]}),o=new i,o.options=n.widget.extend({},o.options),n.each(r,function(t,r){if(!n.isFunction(r)){h[t]=r;return}h[t]=function(){var n=function(){return i.prototype[t].apply(this,arguments)},u=function(n){return i.prototype[t].apply(this,n)};return function(){var i=this._super,f=this._superApply,t;return this._super=n,this._superApply=u,t=r.apply(this,arguments),this._super=i,this._superApply=f,t}}()}),u.prototype=n.widget.extend(o,{widgetEventPrefix:f?o.widgetEventPrefix||t:t},h,{constructor:u,namespace:e,widgetName:t,widgetFullName:s}),f?(n.each(f._childConstructors,function(t,i){var r=i.prototype;n.widget(r.namespace+"."+r.widgetName,u,i._proto)}),delete f._childConstructors):i._childConstructors.push(u),n.widget.bridge(t,u),u},n.widget.extend=function(i){for(var e=t.call(arguments,1),f=0,o=e.length,r,u;f<o;f++)for(r in e[f])u=e[f][r],e[f].hasOwnProperty(r)&&u!==undefined&&(i[r]=n.isPlainObject(u)?n.isPlainObject(i[r])?n.widget.extend({},i[r],u):n.widget.extend({},u):u);return i},n.widget.bridge=function(i,r){var u=r.prototype.widgetFullName||i;n.fn[i]=function(f){var s=typeof f=="string",o=t.call(arguments,1),e=this;return s?this.each(function(){var t,r=n.data(this,u);return f==="instance"?(e=r,!1):r?!n.isFunction(r[f])||f.charAt(0)==="_"?n.error("no such method '"+f+"' for "+i+" widget instance"):(t=r[f].apply(r,o),t!==r&&t!==undefined?(e=t&&t.jquery?e.pushStack(t.get()):t,!1):void 0):n.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+f+"'")}):(o.length&&(f=n.widget.extend.apply(null,[f].concat(o))),this.each(function(){var t=n.data(this,u);t?(t.option(f||{}),t._init&&t._init()):n.data(this,u,new r(f,this))})),e}},n.Widget=function(){},n.Widget._childConstructors=[],n.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,r){r=n(r||this.defaultElement||this)[0];this.element=n(r);this.uuid=i++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=n();this.hoverable=n();this.focusable=n();r!==this&&(n.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(n){n.target===r&&this.destroy()}}),this.document=n(r.style?r.ownerDocument:r.document||r),this.window=n(this.document[0].defaultView||this.document[0].parentWindow));this.options=n.widget.extend({},this.options,this._getCreateOptions(),t);this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:n.noop,_getCreateEventData:n.noop,_create:n.noop,_init:n.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(n.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:n.noop,widget:function(){return this.element},option:function(t,i){var e=t,r,u,f;if(arguments.length===0)return n.widget.extend({},this.options);if(typeof t=="string")if(e={},r=t.split("."),t=r.shift(),r.length){for(u=e[t]=n.widget.extend({},this.options[t]),f=0;f<r.length-1;f++)u[r[f]]=u[r[f]]||{},u=u[r[f]];if(t=r.pop(),arguments.length===1)return u[t]===undefined?null:u[t];u[t]=i}else{if(arguments.length===1)return this.options[t]===undefined?null:this.options[t];e[t]=i}return this._setOptions(e),this},_setOptions:function(n){for(var t in n)this._setOption(t,n[t]);return this},_setOption:function(n,t){return this.options[n]=t,n==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,r){var f,u=this;typeof t!="boolean"&&(r=i,i=t,t=!1);r?(i=f=n(i),this.bindings=this.bindings.add(i)):(r=i,i=this.element,f=this.widget());n.each(r,function(r,e){function o(){if(t||u.options.disabled!==!0&&!n(this).hasClass("ui-state-disabled"))return(typeof e=="string"?u[e]:e).apply(u,arguments)}typeof e!="string"&&(o.guid=e.guid=e.guid||o.guid||n.guid++);var s=r.match(/^([\w:-]*)\s*(.*)$/),h=s[1]+u.eventNamespace,c=s[2];c?f.delegate(c,h,o):i.bind(h,o)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;t.unbind(i).undelegate(i);this.bindings=n(this.bindings.not(t).get());this.focusable=n(this.focusable.not(t).get());this.hoverable=n(this.hoverable.not(t).get())},_delay:function(n,t){function r(){return(typeof n=="string"?i[n]:n).apply(i,arguments)}var i=this;return setTimeout(r,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t);this._on(t,{mouseenter:function(t){n(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){n(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t);this._on(t,{focusin:function(t){n(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){n(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,r){var u,f,e=this.options[t];if(r=r||{},i=n.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],f=i.originalEvent,f)for(u in f)u in i||(i[u]=f[u]);return this.element.trigger(i,r),!(n.isFunction(e)&&e.apply(this.element[0],[i].concat(r))===!1||i.isDefaultPrevented())}},n.each({show:"fadeIn",hide:"fadeOut"},function(t,i){n.Widget.prototype["_"+t]=function(r,u,f){typeof u=="string"&&(u={effect:u});var o,e=u?u===!0||typeof u=="number"?i:u.effect||i:t;u=u||{};typeof u=="number"&&(u={duration:u});o=!n.isEmptyObject(u);u.complete=f;u.delay&&r.delay(u.delay);o&&n.effects&&n.effects.effect[e]?r[t](u):e!==t&&r[e]?r[e](u.duration,u.easing,f):r.queue(function(i){n(this)[t]();f&&f.call(r[0]);i()})}}),n.widget});
/*!
 * jQuery UI Core 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
(function(n){typeof define=="function"&&define.amd?define("jQueryUI/core",["jquery"],n):n(jQuery)})(function(n){function t(t,r){var u,f,e,o=t.nodeName.toLowerCase();return"area"===o?(u=t.parentNode,f=u.name,!t.href||!f||u.nodeName.toLowerCase()!=="map")?!1:(e=n("img[usemap='#"+f+"']")[0],!!e&&i(e)):(/^(input|select|textarea|button|object)$/.test(o)?!t.disabled:"a"===o?t.href||r:r)&&i(t)}function i(t){return n.expr.filters.visible(t)&&!n(t).parents().addBack().filter(function(){return n.css(this,"visibility")==="hidden"}).length}n.ui=n.ui||{};n.extend(n.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});n.fn.extend({scrollParent:function(t){var i=this.css("position"),u=i==="absolute",f=t?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var t=n(this);return u&&t.css("position")==="static"?!1:f.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return i==="fixed"||!r.length?n(this[0].ownerDocument||document):r},uniqueId:function(){var n=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&n(this).removeAttr("id")})}});n.extend(n.expr[":"],{data:n.expr.createPseudo?n.expr.createPseudo(function(t){return function(i){return!!n.data(i,t)}}):function(t,i,r){return!!n.data(t,r[3])},focusable:function(i){return t(i,!isNaN(n.attr(i,"tabindex")))},tabbable:function(i){var r=n.attr(i,"tabindex"),u=isNaN(r);return(u||r>=0)&&t(i,!u)}});n("<a>").outerWidth(1).jquery||n.each(["Width","Height"],function(t,i){function f(t,i,r,u){return n.each(e,function(){i-=parseFloat(n.css(t,"padding"+this))||0;r&&(i-=parseFloat(n.css(t,"border"+this+"Width"))||0);u&&(i-=parseFloat(n.css(t,"margin"+this))||0)}),i}var e=i==="Width"?["Left","Right"]:["Top","Bottom"],r=i.toLowerCase(),u={innerWidth:n.fn.innerWidth,innerHeight:n.fn.innerHeight,outerWidth:n.fn.outerWidth,outerHeight:n.fn.outerHeight};n.fn["inner"+i]=function(t){return t===undefined?u["inner"+i].call(this):this.each(function(){n(this).css(r,f(this,t)+"px")})};n.fn["outer"+i]=function(t,e){return typeof t!="number"?u["outer"+i].call(this,t):this.each(function(){n(this).css(r,f(this,t,!0,e)+"px")})}});n.fn.addBack||(n.fn.addBack=function(n){return this.add(n==null?this.prevObject:this.prevObject.filter(n))});n("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(n.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,n.camelCase(i)):t.call(this)}}(n.fn.removeData));n.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());n.fn.extend({focus:function(t){return function(i,r){return typeof i=="number"?this.each(function(){var t=this;setTimeout(function(){n(t).focus();r&&r.call(t)},i)}):t.apply(this,arguments)}}(n.fn.focus),disableSelection:function(){var n="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(n+".ui-disableSelection",function(n){n.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(t!==undefined)return this.css("zIndex",t);if(this.length)for(var i=n(this[0]),r,u;i.length&&i[0]!==document;){if(r=i.css("position"),(r==="absolute"||r==="relative"||r==="fixed")&&(u=parseInt(i.css("zIndex"),10),!isNaN(u)&&u!==0))return u;i=i.parent()}return 0}});n.ui.plugin={add:function(t,i,r){var u,f=n.ui[t].prototype;for(u in r)f.plugins[u]=f.plugins[u]||[],f.plugins[u].push([i,r[u]])},call:function(n,t,i,r){var u,f=n.plugins[t];if(f&&(r||n.element[0].parentNode&&n.element[0].parentNode.nodeType!==11))for(u=0;u<f.length;u++)n.options[f[u][0]]&&f[u][1].apply(n.element,i)}}});
// Copyright (C) Microsoft Corporation. All rights reserved.
define("VSS/Utils/UI",["require","exports","VSS/Diag","VSS/Utils/Core","VSS/Utils/String","VSS/VSS","VSS/Context","jQueryUI/widget","jQueryUI/core"],function(n,t,i,r,u,f,e){function it(n){var t=0;return n.wheelDelta?t=n.wheelDelta/120:n.detail?t=-n.detail/3:n.originalEvent&&n.originalEvent.wheelDelta?t=n.originalEvent.wheelDelta/120:n.originalEvent&&n.originalEvent.detail&&(t=-n.originalEvent.detail/3),t}function rt(n,t){t===!0?$(n).removeAttr("disabled"):$(n).attr("disabled","disabled")}function ut(n){if(h.isMozilla())n.style.MozUserFocus="ignore";else if(h.isMsie()){n.unselectable="on";for(var i=0,t=n.all&&n.all[i++];t;){switch(t.tagName){case"IFRAME":case"TEXTAREA":case"INPUT":case"SELECT":break;default:t.unselectable="on"}t=n.all[i++]}}}function l(n,t){function u(){try{f.focus()}catch(n){tt(i.LogVerbosity.Warning,"Failed to set focus to element: "+n)}}var f=n instanceof jQuery?n:$(n);typeof t=="undefined"?u():r.delay(this,t,function(){u()})}function ft(n,t){var i=$(n),r=i.outerWidth()-t;r!==0&&i.width(t-r)}function et(n){return $.contains(document.documentElement,n)}function ot(n,t){return n.dataset?n.dataset[t]:n.getAttribute("data-"+t)}function lt(n,t){var i=document.createElement(n);return t&&(i.className=t),i}function v(n){return n.jquery?n:$(n)}function at(n){if(!n)return"";var t=n;return typeof n!="string"&&(t=""+n),t.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;")}function wt(n,t){o||(o=new pt);o.attach($(n),t)}function bt(n){o&&o.detach($(n))}function kt(){o&&(o.dispose(),o=null)}function ni(n,t,i){var r,u;if(n&&n.length)if(i)$.each(n,function(n,i){i.end>=t&&(i.start>=t&&i.start++,i.end++)});else return r=[],u={},$.each(n,function(n,i){var f;i.end>=t&&(i.start>t&&(i.start=Math.max(1,i.start-1)),i.end=Math.max(1,i.end-1));i.start!==i.end&&(f=i.start+"_"+i.end,f in u||(u[f]=!0,r.push(i)))}),r;return n}function ti(n){function i(n,r){$.each(n,function(u,f){r?f!==r&&r.start<=f.start&&r.end>=f.end&&(i(n,f),r.level=Math.max(r.level,f.level+1),t=Math.max(t,r.level)):i(n,f)})}var t=0;return n&&n.length&&($.each(n,function(n,t){t.level=0}),i(n,null)),t}function w(n,t,i,r){var o,e,s,f=null,c,h,l;if(n&&(s=this.children,s&&(l=s.length)>0)){t=t||"/";do o=n.indexOf(t),o>=0?(e=n.substring(0,o),n=n.substring(o+t.length)):(e=n,n=null);while(n&&e===t);if(e){for(r=r||"text",i=i||u.localeIgnoreCaseComparer,h=0;h<l;h++)if(c=s[h],i(c[r],e)===0){f=c;break}if(f&&n){if(f.children)return w.call(f,n,t,i,r);f=null}}}return f}function b(n,t,i,r){var u=this.parent;return r=r||"root",u&&!n&&u[r]&&(u=null),i=i||"text",u?(t=t||"/",b.call(u,n,t,i,r)+t+this[i]):this[i]}function k(n){var t,r,i,u;if(n&&(n.call(this,this),i=this.children,i&&(r=i.length)))for(t=0;t<r;t++)u=i[t],k.call(u,n)}function ii(n,t){t===void 0&&(t=null);var r=$("head > link[rel=stylesheet]"),i={};$.each(r,function(n,t){var r=$(t).attr("href");r&&(i[r]=!0)});$.each(n,function(n,r){if(!i[r]){var u=(t||"")+r;i[u]||$("<link />").attr("rel","stylesheet").attr("href",u).appendTo($(document.head))}})}function d(n,t){var u=$(":tabbable"),r=$(n.target),f=u.index(r);for(t?t.call(r,n):r.click();!r.is(":visible:tabbable");)if(r=u.eq(f++),r)if(r.is(":visible:tabbable")){r.focus();break}else continue;else break;return!1}function ri(n,t){return n.addClass("propagate-keydown-event").attr("tabindex","0").keypress(function(n){if(n.keyCode===c.ENTER)return d(n,t)}).keyup(function(n){if(n.keyCode===c.SPACE)return d(n,t)})}function ui(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];return g.instance().watermark(n,i)}var tt=i.log,c,st,a,ht,ct,vt,h,dt,gt,s,y,p,g,nt;t.getWheelDelta=it;t.enableElement=rt;t.makeElementUnselectable=ut;t.tryFocus=l;t.alignWidth=ft;t.isInDomTree=et;t.getCustomData=ot,function(n){n[n.ALT=18]="ALT";n[n.BACKSPACE=8]="BACKSPACE";n[n.CAPS_LOCK=20]="CAPS_LOCK";n[n.COMMA=188]="COMMA";n[n.CONTROL=17]="CONTROL";n[n.DELETE=46]="DELETE";n[n.DOWN=40]="DOWN";n[n.END=35]="END";n[n.ENTER=13]="ENTER";n[n.ESCAPE=27]="ESCAPE";n[n.HOME=36]="HOME";n[n.INSERT=45]="INSERT";n[n.LEFT=37]="LEFT";n[n.PAGE_DOWN=34]="PAGE_DOWN";n[n.PAGE_UP=33]="PAGE_UP";n[n.PERIOD=190]="PERIOD";n[n.RIGHT=39]="RIGHT";n[n.SEMI_COLON=186]="SEMI_COLON";n[n.FIREFOX_SEMI_COLON=59]="FIREFOX_SEMI_COLON";n[n.SHIFT=16]="SHIFT";n[n.SPACE=32]="SPACE";n[n.TAB=9]="TAB";n[n.UP=38]="UP";n[n.F1=112]="F1";n[n.F2=113]="F2";n[n.F10=121]="F10";n[n.IME_INPUT=229]="IME_INPUT";n[n.N=78]="N";n[n.P=80]="P";n[n.Q=81]="Q";n[n.S=83]="S";n[n.A=65]="A";n[n.C=67]="C";n[n.H=72]="H";n[n.T=84]="T";n[n.QUESTION_MARK=191]="QUESTION_MARK";n[n.CONTEXT_MENU=93]="CONTEXT_MENU"}(t.KeyCode||(t.KeyCode={}));c=t.KeyCode,function(n){function t(n){return n.ctrlKey&&!n.altKey&&!n.shiftKey}function i(n){return n.ctrlKey||n.altKey||n.shiftKey}n.isExclusivelyCtrl=t;n.isModifierKey=i}(st=t.KeyUtils||(t.KeyUtils={}));a=250,function(n){n.HtmlNewLine="<BR>";n.BlurTimeout=a}(ht=t.Constants||(t.Constants={})),function(n){function t(t){var i=$("<div/>").attr("id",n._PROBE_ID).css("position","absolute").css("left","-50000px").css("top","-50000px").css("width","9em").css("height","18ex").css("overflow","auto").appendTo(t);return $("<div><\/div>").css("width","3in").css("height","36ex").appendTo(i),i}function i(t){t=t||$(document.body);var i=t.children("#"+n._PROBE_ID);return i.length===0&&(i=n._createProbe(t)),i}function r(){return n._getProbe().width()/9}function u(){return n._getProbe().height()/18}function f(){return $("div",n._getProbe()).width()/3}function e(t){var i=n._getProbe(t);return i.width()-i[0].clientWidth}function o(t){var i=n._getProbe(t);return i.height()-i[0].clientHeight}function s(t){t=t.toLowerCase();var i=parseInt(t,10);return t.indexOf("px")>0?i=Math.round(parseFloat(t)):t.indexOf("em")>0?i=Math.round(parseFloat(t)*n.getUnitEm()):t.indexOf("ex")>0?i=Math.round(parseFloat(t)*n.getUnitEx()):t.indexOf("in")>0?i=Math.round(parseFloat(t)*n.getUnitIn()):t.indexOf("mm")>0?i=Math.round(parseFloat(t)*n.getUnitIn()/25.4):t.indexOf("cm")>0&&(i=Math.round(parseFloat(t)*n.getUnitIn()/2.54)),i}n._PROBE_ID="tfs-measurement-probe";n._createProbe=t;n._getProbe=i;n.getUnitEm=r;n.getUnitEx=u;n.getUnitIn=f;n.getScrollbarWidth=e;n.getScrollbarHeight=o;n.getUnitAsPixel=s}(ct=t.Measurement||(t.Measurement={}));t.domElem=lt;t.htmlEncode=at,function(n){function u(n){return 0-n}function f(n){var t=$(window),i=t.height()+t.scrollTop();return n-i}function e(n,t){var i=$(window),f=t.leftOffsetPixels||0,r=n.left+t.elementMeasure-(i.width()+i.scrollLeft())+f,u=n.left-r;n.left=r>0?Math.max(0,u):Math.max(0,n.left);r>0&&u<0&&(t.adjustedWidth=Math.min(t.elementMeasure,i.width()+i.scrollLeft()))}function o(n,t){var r=$(window),u=n.left+t.elementMeasure-(r.width()+r.scrollLeft()),i;i=t.elementAlign==="left"?-t.elementMeasure:t.elementMeasure;n.left+=n.left<0?i+t.baseMeasure:u>0?i-t.baseMeasure:0}function s(t,i){var r,e=0,f,u;return r=t.top,f=n._topOverflow(r),f>0?(r=0,u=n._bottomOverflow(r+i.elementMeasure),u>0&&(e=u)):(u=n._bottomOverflow(r+i.elementMeasure),u>0&&(r-=u,f=n._topOverflow(r),f>0&&(r=0,e=f))),{top:r,shrink:e}}function h(t,i){var r,e,o,s,u,f;return r=t.top,o=i.elementAlign==="top"?-i.elementMeasure:i.elementMeasure,u=n._topOverflow(r),u>0?(r+=o+i.baseMeasure,f=n._bottomOverflow(r+i.elementMeasure),f>0&&(f>=u?(r=t.top,e=u):e=f)):(f=n._bottomOverflow(r+i.elementMeasure),f>0&&(s=i.baseAlign==="top"?i.baseMeasure:-i.baseMeasure,r+=o+s,u=n._topOverflow(r),u>0&&(u>=f?(r=t.top,e=f):(r=0,e=u)))),{top:r,shrink:e}}function i(n){var t,r;return!n||!n.length||n[0]===document?0:(t=n.css("position"),(t==="absolute"||t==="relative"||t==="fixed"||t==="-ms-device-fixed")&&(r=parseInt(n.css("zIndex"),10),r!==0&&!isNaN(r)))?r:i(n.parent())}function c(t,r,u){var st;u=$.extend({},u);var l=0,a=1,f,y,w,c,b,k,o,s,h,e,ht,ct,p,nt,tt,it,d,rt,ut,ft,et,g,ot=2e4;t=v(t);r=v(r);u.elementAlignmentMarker&&u.elementAlignmentMarker.length&&(h=u.elementAlignmentMarker);u.baseAlignmentMarker&&u.baseAlignmentMarker.length&&(e=u.baseAlignmentMarker);nt=u.supportScroll===!0;u.skipZIndexSetting||(st=r?i(r):0,st!==0&&(ot=ot+st),t.css("z-index",ot));nt&&(u.scrollByMarker===!0&&e?t.outerHeight(e.outerHeight()):t[0].style.height="");y=t.outerWidth();w=t.outerHeight();c=r.offset();b=r.outerWidth();k=r.outerHeight();o=u.elementAlign||"left-top";s=u.baseAlign||"left-bottom";p=u.overflow||"fit-flip";u.alignToMarkerHorizontal&&e&&(c.left=e.offset().left,b=e.outerWidth());u.alignToMarkerVertical&&e&&(c.top=e.offset().top,k=e.outerHeight());s=s.split("-");s[l]==="right"&&(c.left+=b);s[a]==="bottom"&&(c.top+=k);f=$.extend({},c);u.alignToMarkerHorizontal&&h&&(ht=t.offset().left-h.offset().left,f.left+=ht,y=h.outerWidth());u.alignToMarkerVertical&&h&&(ct=t.offset().top-h.offset().top,f.top+=ct,w=h.outerHeight());o=o.split("-");o[l]==="right"&&(f.left-=y);o[a]==="bottom"&&(f.top-=w);f.left=Math.round(f.left);f.top=Math.round(f.top);p=p.split("-");it=n["_"+p[a].toLowerCase()+"Vertical"];it&&(d=it(f,{baseMeasure:k,baseAlign:s[a],elementMeasure:w,elementAlign:o[a]}),f.top=d.top,nt&&d.shrink>0&&(t.height(t.height()-d.shrink),y=t.outerWidth()));tt=n["_"+p[l].toLowerCase()+"Horizontal"];g={baseMeasure:b,baseAlign:s[l],elementMeasure:y,elementAlign:o[l],adjustedWidth:0,leftOffsetPixels:u.leftOffsetPixels};$.isFunction(tt)&&tt(f,g);rt=t.offset();ut=parseInt(jQuery.css(t[0],"top",!0),10)||0;ft=parseInt(jQuery.css(t[0],"left",!0),10)||0;u.leftOffsetPixels&&(ft+=u.leftOffsetPixels);u.topOffsetPixels&&(ut+=u.topOffsetPixels);et={top:f.top-rt.top+ut,left:f.left-rt.left+ft};g.adjustedWidth>0&&(et.width=g.adjustedWidth);t.css(et)}function l(n){for(var t=n.parent();t.length&&!(t.css("overflow-y")==="auto"||t.css("overflow-y")==="scroll");)t=t.parent();return t.length||(t=$(document)),t}function t(t,i,r,u,f){var e;switch(u){case n.VerticalScrollBehavior.Top:e=t;break;case n.VerticalScrollBehavior.Middle:e=t+(i-r.height())/2;break;case n.VerticalScrollBehavior.Bottom:e=t+i-r.height()}typeof e!="undefined"&&(f>0?r.animate({scrollTop:e},f):r.scrollTop(e))}function r(n,t){for(var i=n[0],f=!1,u=0;i;){if(t&&i===t[0]){f=!0;break}u+=i.offsetTop;i=i.offsetParent}return t&&!f&&(u-=r(t,null)),u}function a(i,u,f,e){var o=n.getVerticalScrollContainer(i),s=r(i,o),c,h,l;h=o.scrollTop();s<h?t(s,i.outerHeight(),o,u?u:n.VerticalScrollBehavior.Top,e):(c=s+i.outerHeight(),l=h+o.height(),c>l?t(s,i.outerHeight(),o,u?u:n.VerticalScrollBehavior.Bottom,e):f&&t(s,i.outerHeight(),o,u?u:n.VerticalScrollBehavior.Middle,e))}(function(n){n[n.Default=0]="Default";n[n.Top=1]="Top";n[n.Middle=2]="Middle";n[n.Bottom=3]="Bottom"})(n.VerticalScrollBehavior||(n.VerticalScrollBehavior={}));var y=n.VerticalScrollBehavior;n._topOverflow=u;n._bottomOverflow=f;n._fitHorizontal=e;n._flipHorizontal=o;n._fitVertical=s;n._flipVertical=h;n.position=c;n.getVerticalScrollContainer=l;n.scrollIntoViewVertical=a}(vt=t.Positioning||(t.Positioning={}));var yt=function(){function n(n,t){this.$element=n;this.handler=t}return n.prototype.execute=function(n,t){this.handler&&this.handler(n,t)},n.prototype.isMyParent=function(n){var t=!1,i=n.get(0);return i===window?!0:(this.$element.parents().each(function(){if(i===this)return t=!0,!1}),t)},n.prototype.owns=function(n){return this.$element.get(0)===n.get(0)},n}(),pt=function(){function n(){this.handlers=[];$(window).bind("resize.containerResizeManager",r.delegate(this,this.onResize))}return n.prototype.onResize=function(n,t){for(var r,f=$(n.target),i=0,u=this.handlers.length;i<u;i++)r=this.handlers[i],r.isMyParent(f)&&r.execute(n,t)},n.prototype.attach=function(n,t){this.handlers.push(new yt(n,t))},n.prototype.detach=function(n){for(var i=this.handlers||[],r,t=i.length-1;t>=0;t--)r=i[t],r.owns(n)&&i.splice(t,1)},n.prototype.dispose=function(){this.handlers=null;$(window).unbind("resize.containerResizeManager")},n}(),o=null;t.attachResize=wt;t.detachResize=bt;t.clearResizeHandlers=kt,function(n){function i(){var n=window.navigator.userAgent.toLowerCase();return t.getInstance().getBrowserInformation().mozilla&&n.indexOf("trident")===-1}function r(){return t.getInstance().getBrowserInformation().chrome}function u(){return t.getInstance().getBrowserInformation().mozilla}function f(){return t.getInstance().getBrowserInformation().msie}function e(){var n=window.navigator.userAgent.toLowerCase();return t.getInstance().getBrowserInformation().msie?!0:n.indexOf("trident")!==-1?!0:!1}function o(){return t.getInstance().getBrowserInformation().edge}function s(){return t.getInstance().getBrowserInformation().version}function h(i){if(n.isIE()){var r=0,u=window.navigator.userAgent.toLowerCase();return t.getInstance().getBrowserInformation().msie?r=Number(t.getInstance().getBrowserInformation().version):u.indexOf("trident")!==-1&&(r=11),i===r}return!1}function c(){if(n.isIE()){var i=Number(t.getInstance().getBrowserInformation().version);return i>0&&i<=9}return!1}function l(){if(n.isIE()){var i=Number(t.getInstance().getBrowserInformation().version);return i>0&&i<=8}return!1}function a(){return t.getInstance().getBrowserInformation().isMacintosh}function v(){return t.getInstance().getBrowserInformation().isWindows}var t=function(){function n(){}return n.getInstance=function(){return n._instance||(n._instance=new n,this._instance._initialize()),n._instance},n.prototype.getBrowserInformation=function(){return this._browserInformation},n.prototype._initialize=function(){var n,t,i,r,u;if(!this._browserInformation){if(this._browserInformation={},this._browserInformation.isWindows=navigator.platform.indexOf("Win")>-1,this._browserInformation.isMacintosh=navigator.userAgent.indexOf("Mac OS X")>-1,n=/edge\/([\d+.]+)/i.exec(navigator.userAgent),n){this._browserInformation.edge=!0;this._browserInformation.version=n[1];return}if(t=/msie ([\d+.]+)/i.exec(navigator.userAgent),t){this._browserInformation.msie=!0;this._browserInformation.version=t[1];return}if(i=/chrome\/([\d.]+)/i.exec(navigator.userAgent),i){this._browserInformation.chrome=!0;this._browserInformation.webkit=!0;this._browserInformation.version=i[1];return}if(r=/safari\/([\d.]+)/i.exec(navigator.userAgent),r){this._browserInformation.safari=!0;this._browserInformation.webkit=!0;this._browserInformation.version=r[1];return}if(u=/mozilla.*rv:([\d+.]+)/i.exec(navigator.userAgent),u){this._browserInformation.mozilla=!0;this._browserInformation.version=u[1];return}}},n}();n.isFirefox=i;n.isChrome=r;n.isMozilla=u;n.isMsie=f;n.isIE=e;n.isEdge=o;n.getVersion=s;n.isIEVersion=h;n.isLessThanOrEqualToIE9=c;n.isLessThanOrEqualToIE8=l;n.isMacintosh=a;n.isWindows=v}(h=t.BrowserCheckUtils||(t.BrowserCheckUtils={})),function(n){function t(){var t=null,n;return window.getSelection&&(n=window.getSelection(),n&&n.anchorNode&&n.focusNode&&(n.anchorNode!==n.focusNode||n.anchorOffset!==n.focusOffset)&&(t={$startNode:$(n.anchorNode),$endNode:$(n.focusNode),startNodeOffset:n.anchorOffset,endNodeOffset:n.focusOffset})),t}function i(n,t,i,u){var f,e;u&&n.focus();f=n[0];typeof f.selectionStart!="undefined"?(f.selectionStart=t,f.selectionEnd=i):r.documentSelection&&r.documentSelection.createRange&&(f.select(),e=r.documentSelection.createRange(),e.collapse(!0),e.moveStart("character",t),e.moveEnd("character",i),e.select())}n.getSelection=t;n.selectInputText=i}(dt=t.SelectionUtils||(t.SelectionUtils={})),function(n){function t(n,t){var r,i,u,f,e,o,c,s,h;if(t?u=t.document:(t=window,u=document),f=u.selection,t.getSelection){if(r=t.getSelection(),r.getRangeAt&&r.rangeCount){for(i=r.getRangeAt(0),i.deleteContents(),e=u.createElement("div"),e.innerHTML=n,o=u.createDocumentFragment(),h=u.createTextNode($("<div>&nbsp;<\/div>").text());c=e.firstChild;)s=o.appendChild(c);i.insertNode(o);s&&(i=i.cloneRange(),i.setStartAfter(s),i.collapse(!0),i.insertNode(h),i.selectNodeContents(h),r.removeAllRanges(),r.addRange(i))}}else f&&f.createRange&&f.createRange().pasteHTML(n)}n.pasteHtmlAtCaret=t}(gt=t.HtmlInsertionUtils||(t.HtmlInsertionUtils={})),function(n){n[n.None=0]="None";n[n.Ctrl=1]="Ctrl";n[n.Alt=2]="Alt";n[n.Shift=3]="Shift";n[n.CtrlShift=4]="CtrlShift";n[n.CtrlAlt=5]="CtrlAlt"}(t.HotKeyCombination||(t.HotKeyCombination={}));s=t.HotKeyCombination;y=function(){function n(){this._hotKeys=[];this._hotKeysMap={};$(document).bind("keyup.VSS_Global_KeyUp_Listener",r.delegate(this,this._onGlobalKeyDown))}return n.prototype.registerHotKey=function(n){var t=n.combination+":"+n.which;this._hotKeysMap[t]!==!0&&(this._hotKeysMap[t]=!0,this._hotKeys.push(n))},n.prototype.registerCtrlAltHotkey=function(n,t,i){this.registerHotKey({combination:s.CtrlAlt,which:n,displayText:t,handler:i})},n.prototype.dispose=function(){$(document).unbind("keyup.VSS_Global_KeyUp_Listener",r.delegate(this,this._onGlobalKeyDown));this._hotKeys=null;this._hotKeysMap=null},n.prototype._onGlobalKeyDown=function(n){var r,t,u,i,f;if(!this._modalDialogExists())for(r=this._hotKeys,t=0,u=r.length;t<u;t++)if(i=r[t],this._combinationSatisfied(n,i)&&n.which===i.which&&(f=i.handler(),f===!0)){n.stopPropagation();break}},n.prototype._combinationSatisfied=function(n,t){switch(t.combination){case s.Alt:return n.altKey&&!n.shiftKey&&!n.ctrlKey;case s.Ctrl:return!n.altKey&&!n.shiftKey&&n.ctrlKey;case s.Shift:return!n.altKey&&n.shiftKey&&!n.ctrlKey;case s.CtrlAlt:return n.altKey&&!n.shiftKey&&n.ctrlKey;case s.CtrlShift:return!n.altKey&&n.shiftKey&&n.ctrlKey;case s.None:return!n.altKey&&!n.shiftKey&&!n.ctrlKey;default:return!1}},n.prototype._modalDialogExists=function(){return $("body").children("div.ui-dialog").length>0},n}();t.globalHotKeyManager=new y;p=function(){function n(){this._index=0}return n.prototype.identifySections=function(){var n=this;$(".splitter").each(function(t,i){n._identify($(i).children(".leftPane"));n._identify($(i).children(".rightPane"))})},n.prototype.nextSection=function(){var n=this._getCurrentSectionIndex();return this._focusElement(n+1)},n.prototype.previousSection=function(){var n=this._getCurrentSectionIndex();return n>=1?this._focusElement(n-1):!1},n.prototype._identify=function(n){if(n.length>0){var t=this._index++;n.addClass("hotkey-section hotkey-section-"+t);n.data("hotkey-section-index",t)}},n.prototype._getCurrentSectionIndex=function(){if(document.activeElement){var n=$(document.activeElement).closest(".hotkey-section");if(n.length>0)return n.data("hotkey-section-index")}return-1},n.prototype._focusElement=function(n){var t=$(".hotkey-section-"+n+" :tabbable:first");return t.length>0?(t.focus(),!0):!1},n}();t.sectionManager=new p;t.updateFilterGroups=ni;t.updateFilterGroupLevels=ti;t.findTreeNode=w;t.calculateTreePath=b;t.walkTree=k;t.injectStylesheets=ii;t.accessible=ri;g=function(){function n(){this._watermarkWidgetSetup=!1;var n=document.createElement("input");this._useNativeWatermarkSupport="placeholder"in n}return n.instance=function(){return this._instance||(this._instance=new n),this._instance},n.prototype.nativeWatermarkSupported=function(){return this._useNativeWatermarkSupport},n.prototype.watermark=function(n,t){return this.nativeWatermarkSupported()?t.length>0&&(typeof t[0].watermarkText=="string"?n.attr("placeholder",t[0].watermarkText):t[0]==="focus"&&l(n)):(this._ensureWatermarkWidgetSetup(),n.Watermark.apply(n,t)),n},n.prototype._ensureWatermarkWidgetSetup=function(){function n(){jQuery.fn.valWatermark=jQuery.fn.val;jQuery.fn.val=function(n){if(this.hasClass("watermark"))if(n)this.removeClass("watermark");else return"";return jQuery.fn.valWatermark.apply(this,arguments)}}this._watermarkWidgetSetup||(n(),$.widget("TFS.Watermark",{options:{watermarkText:null},_create:function(){this.element.bind("blur",this,this.blurHandler);this.element.bind("focus",this,this.focusHandler);$("form").bind("submit",this,function(n){n.data._removeStyle()});this._applyStyle()},blurHandler:function(n){var t=n.data;t._applyStyle();t.element.unbind("keydown mousedown",t.focusHandler)},focusHandler:function(n){var t=n.data;t._removeStyle();t.element.unbind("keydown mousedown",t.focusHandler)},isActive:function(){return this.element.hasClass("watermark")},preventKeyDown:function(){return!1},focus:function(){this.element.unbind("focus",this.focusHandler);this.element.focus();this.element.bind("keydown",this.preventKeyDown);this._resetCaret();r.delay(this,h.isMsie()?50:0,function(){this.element.unbind("keydown",this.preventKeyDown);this.element.bind("focus keydown mousedown",this,this.focusHandler)})},_resetCaret:function(){if(this.element.get(0).setSelectionRange)try{this.element.get(0).setSelectionRange(0,0)}catch(n){}},reset:function(){this.element.addClass("watermark");this.element.valWatermark(this.options.watermarkText)},resetIfEmpty:function(){this.element.val()||this.reset()},_applyStyle:function(){var n=this.element.valWatermark();(n===""||n===this.options.watermarkText)&&this.reset()},_removeStyle:function(){this.isActive()&&(this.element.valWatermark(""),this._resetCaret(),this.element.removeClass("watermark"))}}),this._watermarkWidgetSetup=!0)},n}();t.Watermark=ui;nt=function(){function n(){}return n.execute=function(){e.isHighContrastMode()&&$("head > link[data-highcontrast]").each(function(){this.href=$(this).data("highcontrast")})},n}();$(function(){nt.execute()});f.tfsModuleLoaded("VSS.UI",t)});
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("VSS/Controls",["require","exports","q","VSS/Diag","VSS/Utils/Array","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI","VSS/VSS"],function(n,t,i,r,u,f,e,o,s){function v(){return++b}function k(n,t,i,r){return c.create(n,t,i,r)}var a=s.getErrorMessage,p=f.delegate,w=o.domElem,b=0,h,c,y,l;t.getId=v;h=function(){function n(t,i){if(this._options={},this.getType()===n)throw new Error("You cannot instantiate an abstract type.");this.initializeOptions(t);this.setEnhancementOptions(i);this.getTypeName()}return n.getTypeName=function(n){return typeof n!="function"&&(n=this),n.enhancementTypeName?n.enhancementTypeName:n._typeName||"tfs.controls."+s.getTypeName(n)},n.getOptionPrefix=function(t){for(var i=t;i;){if(i.hasOwnProperty(n.ENHANCEMENT_OPTIONPREFIX_KEY))return i[n.ENHANCEMENT_OPTIONPREFIX_KEY];i=i._base}return""},n.getEnhancementOptions=function(t,i){var r,e,o,s,u,h=[],c;for(typeof t!="function"&&(i=t,t=this),e=n.getOptionPrefix(t)||"",r=i.data(e+"options"),r||(o=i.children("."+e+"options"),o.length>0&&(s=o.html(),s&&(r=f.parseMSJSON(s,!1)))),u=t;u;)u.hasOwnProperty("initializeEnhancementOptions")&&h.push(u.initializeEnhancementOptions),u=u._base;while(h.length>0)c=h.pop(),$.isFunction(c)&&(r=c.call(t,i,r));return r},n.enhance=function(t,i,r,u){var f,e,s,o;return e=typeof i!="string"&&i instanceof n?i.getElement():$(i),s=e.data(n.ENHANCEMENTS_DATA_KEY),s&&$.each(s,function(i,r){if(r instanceof t||r._typeName===n.getTypeName(t))return f=r,!1}),f||(o=typeof r=="function"?r.call(t,e):r,o=$.extend(n.getEnhancementOptions(t,e),o),f=new t(o,u),f.enhance(e)),f},n.getInstance=function(n,t){return this.getInstanceO(n,t)},n.getInstanceO=function(t,i){var u,r;return typeof t!="function"&&(i=t,t=this),r=i.data(n.ENHANCEMENTS_DATA_KEY),r&&$.each(r,function(i,r){if(r instanceof t||r._typeName===n.getTypeName(t))return u=r,!1}),u},n.registerEnhancement=function(t,i,u,f,o){function c(r){var e=[],f;return r&&(f=$(r)),f&&f.is(i)||(f=$(i,f)),f.each(function(){e.push(n.enhance(t,$(this),u,o))}),e}var h=n.getTypeName(t);$(function(){try{c(document);r.logTracePoint("Enhancement.registered-complete",[i,h])}catch(n){if(r.logTracePoint("Enhancement.register-exception",n),f){var t=new Error(e.format("Enhancement failed for '{0}'. Details: {1}",h,a(n)));t.name="EnhancementFailed";s.handleError(t,f)}else throw n;}});r.logTracePoint("Enhancement.registered-pending",[i,h]);n.enhancementList.push({typeName:h,enhancement:c})},n.ensureEnhancements=function(t,i,u){var o,h,l,c=[],f;for(typeof t!="function"&&(u=i,i=t,t=this),h=0,l=n.enhancementList.length;h<l;h++)if(o=n.enhancementList[h],t===n||o.typeName===n.getTypeName(t))try{c=c.concat(o.enhancement(i)||[])}catch(v){if(f=new Error(e.format("Enhancement failed for '{0}'. Details: {1}",o.typeName,a(v))),f.name="EnhancementFailed",r.logTracePoint("Enhancement.ensure-exception",f),u)s.handleError(f,u);else throw f;}return c},n.ensureEnhancement=function(t,i,r){return typeof t!="function"&&(r=i,i=t,t=this),n.ensureEnhancements(t,i,r)[0]},n.registerJQueryWidget=function(t,i,u,f){var e;typeof t=="string"&&(u=i,i=t,t=this);i||(i=t._widgetName,i||(e=n.getTypeName(t),i=e.split("."),i=i[i.length-1]));$.fn[i]=function(i){return this.each(function(){n.enhance(t,$(this),$.extend(u||{},i),f)})}},n.prototype._getUniqueId=function(){return v().toString()},n.prototype.getId=function(){return this._id||this._setId(this._getUniqueId()),this._id},n.prototype._setId=function(n){this._id=n},n.prototype.setEnhancementOptions=function(n){if(this._enhancementOptions)$.extend(this._enhancementOptions,n);else{var t=this._options&&this._options.earlyInitialize;this._enhancementOptions=$.extend({},{earlyInitialize:t!==undefined?t:!0},n)}},n.prototype.getTypeName=function(){return this._typeName||(this._typeName=n.getTypeName(this.getType())),this._typeName},n.prototype._getEventNameSpace=function(){return this._eventNamespace||(this._eventNamespace=this.getTypeName().replace(/\./g,"_")+this.getId()),this._eventNamespace},n.prototype.getType=function(){return this.constructor},n.prototype.initializeOptions=function(n){this._options?$.extend(this._options,n):this._options=$.extend({},n)},n.prototype.initialize=function(){this._initialized=!0},n.prototype._ensureInitialized=function(){return this._initialized?!1:(this.initialize(),!0)},n.prototype._attemptInitialize=function(){this._getEnhancementOption("earlyInitialize")&&this.initialize()},n.prototype.enhance=function(n){this._enhance(n);this._attemptInitialize()},n.prototype._enhance=function(n){this._setElement(n)},n.prototype._setElement=function(t){var r=this.getType(),i;this._element!==t&&(this._cleanup(),this._element=t,this._bind("remove.remove_"+this.getTypeName(),p(this,this._dispose)),i=this._element.data(n.ENHANCEMENTS_DATA_KEY),i||(i=[],this._element.data(n.ENHANCEMENTS_DATA_KEY,i)),u.add(i,this),this._setStyles())},n.prototype._setStyles=function(){this._getEnhancementOption("coreCssClass")&&this._element.addClass(this._getEnhancementOption("coreCssClass"));this._getEnhancementOption("cssClass")&&this._element.addClass(this._getEnhancementOption("cssClass"))},n.prototype.getElement=function(){return this._element},n.prototype._fire=function(n,t,i){return typeof n=="string"&&(i=t,t=n,n=this._element),n.trigger(t,i)},n.prototype._bind=function(n,t,i,r){var u,f=this,e;return typeof n=="string"&&(r=i,i=t,t=n,n=this._element),u=$(n),u.length>0&&(e=this._getEventNameSpace(),u.bind($.map(t.split(" "),function(n){return n+"."+e}).join(" "),i),r&&u.each(function(){this!==f._element[0]&&f._trackElement(this)})),this},n.prototype._unbind=function(n,t,i,r){var u,f=this,e;return typeof n=="string"&&(i=r,r=t,t=n,n=this._element),u=$(n),u.length>0&&(e=this._getEventNameSpace(),u.unbind($.map(t.split(" "),function(n){return n+"."+e}).join(" "),i),r&&u.each(function(){this!==f._element[0]&&f._untrackElement(this)})),this},n.prototype.delayExecute=function(n,t,i,r){var u;if(!n){f.delay(this,t,r);return}this._delayedFunctions||(this._delayedFunctions={});u=this._delayedFunctions[n];u?(u.setDelay(t),u.setMethod(this,r)):(u=new f.DelayedFunction(this,t,n,r),this._delayedFunctions[n]=u);i?u.reset():u.start()},n.prototype.cancelDelayedFunction=function(n){var t;return this._delayedFunctions&&(t=this._delayedFunctions[n],t)?(t.cancel(),!0):!1},n.prototype._cleanup=function(){var i=this.getType(),t;this._element&&(this._unbind("remove.remove_"+this.getTypeName()),this._element.unbind("."+this._getEventNameSpace()),t=this._element.data(n.ENHANCEMENTS_DATA_KEY),t&&(u.remove(t,this),t.length===0&&this._element.data(n.ENHANCEMENTS_DATA_KEY,null)))},n.prototype._dispose=function(){var t=this._trackedElements,n,i;if(t)for(n=0,i=t.length;n<i;n++)$(t[n]).unbind("."+this._getEventNameSpace());this._trackedElements=null;this._disposed=!0},n.prototype.dispose=function(){this._cleanup();this._dispose()},n.prototype.isDisposed=function(){return this._disposed},n.prototype._getEnhancementOption=function(n){return this._enhancementOptions[n]||this._options[n]},n.prototype._trackElement=function(n){var t=this._trackedElements,i,u,r,f;for(t||(this._trackedElements=t=[]),i=0,u=t.length;i<u;i++)if(r=t[i],r.elem===n){r.count++;f=!0;break}f||t.push({elem:n,count:1})},n.prototype._untrackElement=function(n){var i=this._trackedElements,t,f,r,u=-1;if(i){for(t=0,f=i.length;t<f;t++)if(r=i[t],r.elem===n){r.count--;u=t;break}u>=0&&(r.count||i.splice(u))}},n.ENHANCEMENTS_DATA_KEY="tfs-enhancements",n.ENHANCEMENT_OPTIONS_KEY="tfs-enhancement-options",n.ENHANCEMENT_OPTIONPREFIX_KEY="optionsPrefix",n.optionsPrefix="",n.enhancementList=[],n}();t.Enhancement=h;s.initClassPrototype(h,{_id:"",_typeName:"",_eventNamespace:"",_options:null,_initialized:!1,_element:null,_trackedElements:null,_delayedFunctions:null,_disposed:!1});t.create=k;c=function(n){function t(t){n.call(this,t);this._overlay=null}return __extends(t,n),t.create=function(n,i,r,u){return t.createIn(n,i,$.extend({},r,u))},t.createIn=function(n,t,i,r){r===void 0&&(r=!1);var u,f;return r?(n=this,u=new n(t,i)):(typeof n!="function"&&(i=t,t=n,n=this),u=new n(i)),f=t instanceof h?t.getElement():$(t),u.createIn(f),u},t.prototype.initializeOptions=function(n){$.extend(this._options,{tagName:"div"},n)},t.prototype._getUniqueId=function(){var t;return this._element&&(t=this._element.attr("id")),typeof t=="undefined"&&(t=n.prototype._getUniqueId.call(this)),t},t.prototype._setId=function(t){this._element&&this._element.attr("id",t);n.prototype._setId.call(this,t)},t.prototype.dispose=function(){n.prototype.dispose.call(this);this._element&&(this._element.remove(),this._element=null)},t.prototype.showElement=function(){this._element.show()},t.prototype.hideElement=function(){this._element.hide()},t.prototype.enableElement=function(n){n?(this._element.removeAttr("disabled"),this._element.removeClass("disabled")):(this._element.attr("disabled","disabled"),this._element.addClass("disabled"))},t.prototype.showBusyOverlay=function(){return this._overlay||(this._overlay=$("<div />").addClass("control-busy-overlay").appendTo(this._element.parent())),this._overlay.show(),this._overlay},t.prototype.hideBusyOverlay=function(){this._overlay&&this._overlay.hide()},t.prototype._createElement=function(){var n=$(w(this._getEnhancementOption("tagName")));this._setElement(n)},t.prototype._initializeElement=function(){this._element&&this._getEnhancementOption("id")&&this._setId(this._getEnhancementOption("id").toString())},t.prototype._setStyles=function(){var t=this._element,i=this._options;this._getEnhancementOption("width")&&t.width(this._getEnhancementOption("width"));this._getEnhancementOption("height")&&t.height(this._getEnhancementOption("height"));this._getEnhancementOption("title")&&t.attr("title",this._getEnhancementOption("title"));this._getEnhancementOption("role")&&t.attr("role",this._getEnhancementOption("role"));n.prototype._setStyles.call(this)},t.prototype.createIn=function(n){this._createIn(n);this._initializeElement();this._attemptInitialize()},t.prototype._createIn=function(n){this._createElement();this._getEnhancementOption("prepend")?n.prepend(this._element):n.append(this._element)},t.prototype.focus=function(){this._element.focus()},t.prototype._fireChange=function(n){var t;return(n=n||this,typeof this._getEnhancementOption("change")=="function"&&(t=arguments,t[0]=n,t.length=arguments.length||1,this._getEnhancementOption("change").apply(n,t)===!1))?!1:this._fire("change",n)},t.prototype._getInDomPromise=function(){if(!this._elementInDomPromise){var n=i.defer();this._elementInDomPromise=n.promise;this._waitForElementInDom(n)}return this._elementInDomPromise},t.prototype._waitForElementInDom=function(n){var t=this;this._disposed||(o.isInDomTree(this._element[0])?n.resolve(null):window.setTimeout(function(){t._waitForElementInDom(n)},100))},t}(h);t.Control=c;y=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(c);t.BaseControl=y;l=function(){function n(n){this._options=$.extend({sorted:!1,comparer:e.localeIgnoreCaseComparer},n);this.setSource(this._options.source)}return n.prototype.setSource=function(n){this._source=n;this._items=null;this._allItems=null},n.prototype.getSource=function(){return this._source},n.prototype.prepareSource=function(n){var t=n||[];this._options.sorted&&u.sortIfNotSorted(t,this._options.comparer||e.localeIgnoreCaseComparer);this.setItems(t)},n.prototype.getComparer=function(){return this._options.comparer},n.prototype.ensureItems=function(){var n;this._items||(n=this._source,$.isFunction(n)&&(n=n.call(this)),this.prepareSource(n))},n.prototype.getItems=function(n){return this.ensureItems(),n?this._allItems:this._items},n.prototype.setItems=function(n,t){this._items=n||[];this._allItems=t||this._items},n.prototype.getCount=function(n){return this.getItems(n).length},n.prototype.getItem=function(n,t){return this.getItems(t)[n]},n.prototype.getItemText=function(n,t){return this.getItem(n,t)+""},n.prototype.getItemIndex=function(n,t,i){var r=this._getItemIndexesInternal(n,t,i,!0);return r.length>0?r[0]:-1},n.prototype.getItemIndexes=function(n,t,i){return this._getItemIndexesInternal(n,t,i)},n.prototype._getItemIndexesInternal=function(n,t,i,r){var f=[],o,u,s=this._getInputTextToItemComparer(t),h,c,e;if(!n)return f;if(o=this.getItems(i),this._options.sorted){for(c=0,h=o.length-1;h>=c;)if(u=c+h>>1,e=s(u,n,i),e<0)h=u-1;else if(e>0)c=u+1;else break;while(u>0&&s(u-1,n,i)===0)u--;for(u;u<o.length;u++)if(e=s(u,n,i),e===0){if(f.push(u),r)return f}else if(e<0)break;return f}for(u=0;u<o.length;u++)if(s(u,n,i)===0&&(f.push(u),r))return f;return f},n.prototype._getInputTextToItemComparer=function(n){var t=this;return $.isFunction(this._options.compareInputToItem)?function(n,i,r){return t._options.compareInputToItem(t.getItem(n,r),i)}:n?function(n,i,r){return t._options.comparer(i,t.getItemText(n,r).substr(0,i.length))}:function(n,i,r){return t._options.comparer(i,t.getItemText(n,r))}},n.prototype.nextIndex=function(n,t,i){var r=this.getCount(i);return r<1?-1:n<0?0:t>0?n===r-1?-1:Math.min(r-1,n+t):n===0?-1:Math.max(0,n+t)},n}();t.BaseDataSource=l;s.initClassPrototype(l,{_options:null,_source:null,_items:null,_allItems:null});s.tfsModuleLoaded("VSS.UI.Controls",t)});
define("VSS/Adapters/Knockout",["require","exports","knockout","VSS/Controls","VSS/Utils/Core","VSS/Utils/String"],function(n,t,i,r,u,f){var s=function(){function n(){this._disposalManager=new u.DisposalManager}return n.prototype.dispose=function(){this._disposalManager.dispose()},n.prototype.subscribe=function(n,t){return this._disposalManager.addDisposable(n.subscribe(t))},n.prototype.computed=function(n){return this._disposalManager.addDisposable(i.computed(n))},n.prototype._addDisposable=function(n){return this._disposalManager.addDisposable(n)},n}(),e,o;t.TemplateViewModel=s;e={};o=function(n){function t(t,i){n.call(this,i);this._viewModel=t;this._disposalManager=new u.DisposalManager}return __extends(t,n),t.registerBinding=function(n,t,i){if(!n)throw new Error("You must specify templateId to register a control type.");if(!t)throw new Error("You must specify control type to register.");if(!i)throw new Error("You must specify viewmodel generator to register.");e[n]={controlType:t,viewModelGenerator:i}},t.applyRegisteredBinding=function(n,i,r){if(n){var u=e[n];if(u)return t.applyBinding(u.controlType,i,u.viewModelGenerator(r),{templateId:n})}return null},t.applyBinding=function(n,t,i,r){if(!r.templateHtml&&!r.templateId)throw new Error("You must specify templateHtml or templateId to instantiate a template control.");if(!i)throw new Error("You must specify viewModel to instantiate a template control.");var u=new n(i,r);return u.applyBinding(t),u},t.prototype.getViewModel=function(){return this._viewModel},t.prototype.applyBinding=function(n){this._setElement(n);this._initializeElement();this._performBinding(n,this._options);this._attemptInitialize()},t.prototype.subscribe=function(n,t){return this._disposalManager.addDisposable(n.subscribe(t))},t.prototype.computed=function(n){return this._disposalManager.addDisposable(i.computed(n))},t.prototype._cleanup=function(){n.prototype._cleanup.call(this);var t=this.getElement();t&&(this.getElement().removeAttr("data-bind"),i.cleanNode(this.getElement()[0]),this._disposalManager.dispose(),this._viewModel.dispose())},t.prototype._performBinding=function(n,t){t.templateHtml?n.html(t.templateHtml):t.templateId&&n.attr("data-bind",f.format("template: {{ name: '{0}' }}",t.templateId));i.applyBindings(this.getViewModel(),n[0])},t}(r.BaseControl);t.TemplateControl=o});
define("Gallery/Client/Controls/Carousel/Carousel.View",["require","exports","knockout","VSS/Adapters/Knockout"],function(n,t,i,r){var u=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({cssClass:"carousel-control"},t))},t.prototype.initialize=function(){var t,i;n.prototype.initialize.call(this);t=this.getElement();t.is(":hidden")?(i=t.parents(":hidden").last(),i.show(),this._setCarouselWidthAndHeight(),i.hide()):this._setCarouselWidthAndHeight()},t.prototype._setCarouselWidthAndHeight=function(){var u=this.getElement().find(t.CAROUSEL_SELECTOR),f=this.getElement().find(t.CAROUSEL_WRAPPER_SELECTOR),e=u.children().first(),n=e.outerWidth(!0),l=e.outerWidth(),i=this.getViewModel(),r,o;i.itemWidth=n;r=i.items().length;o=r*n;u.width(o);var s=i.numberOfItemsToDisplay,h=s<r?s*n:r*n,c=n-l;i._noShadow?f.width(h-c):f.width(h-c+t.TILE_SHADOW_WIDTH)},t.bindScroll=function(){i.bindingHandlers.scroll={update:function(n,i,r,u){var f=$(n).closest(t.CAROUSEL_SELECTOR),e=i()(),o=u.itemWidth,s=-e*o;f.animate({left:s},300)}}},t.CAROUSEL_TEMPLATE="carousel-template",t.CAROUSEL_SELECTOR=".carousel",t.CAROUSEL_WRAPPER_SELECTOR=".carousel-wrapper",t.TILE_SHADOW_WIDTH=5,t}(r.TemplateControl);t.CarouselView=u;u.bindScroll()});
define("Gallery/Client/Service/VNext/ItemMinified",["require","exports"],function(n,t){var r=function(){function n(){}return n._getItemName=function(n){return n.split("/").pop().replace("items?itemName=","")},n.getItemTypeText=function(n){var t="";return n===i.VSTS?t="VSTS":n===i.VSCode?t="VSCode":n===i.VS?t="VS":n===i.VSOffer&&(t="VSOffer"),t},n}(),i;t.ItemMinifiedHelper=r,function(n){n[n.VSCode=0]="VSCode";n[n.VSTS=1]="VSTS";n[n.VS=2]="VS";n[n.VSOffer=3]="VSOffer"}(t.ItemTypeEnum||(t.ItemTypeEnum={}));i=t.ItemTypeEnum});
define("Gallery/Client/Service/VNext/SearchProviderAbstractionsWrapper",["require","exports","q","VSS/VSS"],function(n,t,i,r){var u=function(){function n(){}return n.GetExtensionsData=function(t){var u=i.defer();return r.using(n.SEARCH_DELAY_LOAD_MODULES,function(n,i,r){r.VSSSearchProviderAbstraction.GetExtensionsData(t).then(function(n){u.resolve(n)},function(n){u.reject(n)})}),u.promise},n.SEARCH_DELAY_LOAD_MODULES=["Gallery/Client/Common/TelemetryInternal","VSS/Error","Gallery/Client/Service/VNext/SearchProviderAbstractions"],n}();t.VSSSearchProviderAbstraction=u});
define("Gallery/Client/Service/Item",["require","exports"],function(n,t){(function(n){n[n.Free=0]="Free";n[n.Trial=1]="Trial";n[n.Paid=2]="Paid";n[n.Preview=3]="Preview"})(t.priceCategory||(t.priceCategory={}));var i=t.priceCategory});
define("Gallery/Client/Service/VSSItem",["require","exports","Gallery/Client/Service/Item","VSS/Utils/String"],function(n,t,i,r){var u,f,s,e,o;(function(n){n[n.VSSExtension=0]="VSSExtension";n[n.VSSHostedExtension=1]="VSSHostedExtension";n[n.VSSIntegration=2]="VSSIntegration";n[n.VSSOffer=3]="VSSOffer";n[n.VSCodeExtension=4]="VSCodeExtension"})(t.VSSItemType||(t.VSSItemType={}));u=t.VSSItemType;f=function(){function n(){}return n.getFullyQualifiedNameForItem=function(n,t){return n+"."+t},n.isitemTypeExtension=function(n){return n===u.VSSExtension||n===u.VSSHostedExtension},n.isThirdPartyPaidExtension=function(t){return n.isitemTypeExtension(t.itemType)&&n.isPaidExtension(t.priceCategory)&&!n.isFirstPartyPublisher(t.publisherDisplayName)},n.isFirstPartyPaidExtension=function(t){return n.isitemTypeExtension(t.itemType)&&n.isPaidExtension(t.priceCategory)&&n.isFirstPartyPublisher(t.publisherDisplayName)},n.isFirstPartyPublisher=function(n){return r.equals(n,"Microsoft",!0)},n.isPaidExtension=function(n){return n===i.priceCategory.Paid},n.isFirstPartyPaidIntegration=function(t){return t.itemType===u.VSSIntegration&&n.isPaidExtension(t.priceCategory)&&n.isFirstPartyPublisher(t.publisherDisplayName)},n.getItemTypeText=function(t){var i="";return n.isitemTypeExtension(t)?i="VSTS":t===u.VSCodeExtension?i="VSCode":t===u.VSSOffer?i="VSOffer":t===u.VSSIntegration&&(i="VSSIntegration"),i},n}();t.ItemModelHelper=f,function(n){n[n.Get=0]="Get";n[n.Install=1]="Install";n[n.Buy=2]="Buy";n[n.Try=3]="Try";n[n.Request=4]="Request";n[n.None=5]="None"}(t.VSSItemAcquisitionOption||(t.VSSItemAcquisitionOption={}));s=t.VSSItemAcquisitionOption;e=function(){function n(){}return n.HIDDEN_TAG_ID="__",n.SYSTEM_TAG_ID="$",n.FEATURED_TAG="$featured",n.FEATURED_TAG1="$featured1",n.FEATURED_TAG2="$featured2",n.OFFER_MONTHLY_TAG="$Monthly",n.OFFER_ANNUAL_TAG="$Annual",n.PREVIEW_TAG="$preview",n.PAID_TAG="$IsPaid",n.OFFERS_TAG_NAME="Offer",n.DO_NOT_DOWNLOAD_TAG="$DoNotDownload",n}();t.ItemTags=e;o=function(){function n(){}return n.ASSET_PATH="_apis/public/gallery/publisher/{0}/extension/{1}/{2}/assetbyname/{4}",n.PRIVATE_ASSET_PATH="_apis/public/gallery/publisher/{0}/extension/{1}/{2}/privateasset/{3}/{4}",n.ASSET_ICON_DEFAULT="Microsoft.VisualStudio.Services.Icons.Default",n.ASSET_ICON_BRANDING="Microsoft.VisualStudio.Services.Icons.Branding",n.ASSET_LICENSE="Microsoft.VisualStudio.Services.Content.License",n.ASSET_ICON_WIDE="Microsoft.VisualStudio.Services.Icons.Wide",n.ASSETS_SCREENSHOTS=["Microsoft.VisualStudio.Services.Screenshots.1","Microsoft.VisualStudio.Services.Screenshots.2","Microsoft.VisualStudio.Services.Screenshots.3"],n.ASSETS_DETAILS="Microsoft.VisualStudio.Services.Content.Details",n.ASSET_PRICING="Microsoft.VisualStudio.Services.Content.Pricing",n.INSTALLATION_TARGET_EXTENSION="Microsoft.VisualStudio.Services",n.INSTALLATION_TARGET_INTEGRATION="Microsoft.VisualStudio.Services.Integration",n.INSTALLATION_TARGET_OFFER="Microsoft.VisualStudio.Offer",n.INSTALLATION_TARGET_CODE="Microsoft.VisualStudio.Code",n.PROPERTY_GET_STARTED_LINK="Microsoft.VisualStudio.Services.Links.Getstarted",n.PROPERTY_LEARN_LINK="Microsoft.VisualStudio.Services.Links.Learn",n.PROPERTY_SUPPORT_LINK="Microsoft.VisualStudio.Services.Links.Support",n.PROPERTY_FEEDBACK_LINK="Microsoft.VisualStudio.Services.Links.Feedback",n.PROPERTY_INSTALL_LINK="Microsoft.VisualStudio.Services.Links.Install",n.PROPERTY_BRANDING_COLOR="Microsoft.VisualStudio.Services.Branding.Color",n.PROPERTY_BRANDING_THEME="Microsoft.VisualStudio.Services.Branding.Theme",n.STATISTIC_INSTALL="install",n.STATISTIC_AVERAGE_RATING="averagerating",n.STATISTIC_RATING_COUNT="ratingcount",n.STATISTIC_TRENDING_WEEKLY="trendingweekly",n.STATISTIC_TRENDING_MONTHLY="trendingmonthly",n.STATISTIC_TRENDING_DAILY="trendingdaily",n}();t.ItemConstants=o});
define("Gallery/Client/Common/Constants",["require","exports"],function(n,t){var i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d;(function(n){n.RequestExtensionURL="_admin/_apps/hub/ms.vss-extmgmt-web.manageExtensions-collection?tab=Requested&status=Active";n.RequestExtensionURLWithDefaultCollection="DefaultCollection/"+n.RequestExtensionURL})(i=t.GalleryRequestUrlsConstants||(t.GalleryRequestUrlsConstants={})),function(n){n.VSGALLERY_SEARCH_URL="https://visualstudiogallery.msdn.microsoft.com/site/search?query="}(r=t.VSGalleryUrlConstants||(t.VSGalleryUrlConstants={})),function(n){n.ItemDetailsInstallContext="installContext";n.ExternalSourceMarket="market"}(u=t.QueryParams||(t.QueryParams={})),function(n){n.PAGE_LOAD="Gallery.Events.PageLoad";n.LAUNCH_INSTALL="Gallery.Events.LaunchInstall"}(f=t.GalleryEvents||(t.GalleryEvents={})),function(n){n.SESSION_STORAGE_NAME="ProductContext";n.VSProductText="VS";n.VSTSProductText="VSTS";n.VSCodeProductText="VSCode"}(e=t.SearchConstants||(t.SearchConstants={})),function(n){n.SortParameter="sortBy";n.IsSearchPage="isSearchPage"}(o=t.SortConstants||(t.SortConstants={})),function(n){n.VS="https://go.microsoft.com/fwlink/?LinkID=703826";n.VSCode="https://go.microsoft.com/fwlink/?LinkID=703825";n.VSTS="https://go.microsoft.com/fwlink/?LinkID=703824"}(s=t.BuildYourOwnLinks||(t.BuildYourOwnLinks={}));t.MarketplaceVstsURL="http://go.microsoft.com/fwlink/?LinkID=746548&clcid=0x409";t.MarketplaceHome="https://marketplace.visualstudio.com/";t.MarketplaceItemDetailsLinkTemplate="items?itemName=",function(n){n.InstallHelpUrl="https://aka.ms/vsmarketplace-install";n.PublishingHelpUrl="https://aka.ms/vsmarketplace-publish";n.SharingHelpUrl="https://aka.ms/vsmarketplace-share";n.UnpublishingHelpUrl="https://aka.ms/vsmarketplace-unpublish";n.LearnMarketplaceHelpUrl="https://aka.ms/vsmarketplace-overview";n.LearnMoreCreatePublisherUrl="https://aka.ms/vsmarketplace-publish";n.ReviewPoliciesUrl="https://aka.ms/vsmarketplace-agreement";n.PublisherVerificationProcessUrl="https://aka.ms/vsmarketplace-verify";n.PublisherVerifiedContactSupport="https://aka.ms/vsmarketplace-verify";n.AzurePublisherUrl="https://go.microsoft.com/fwlink/?LinkID=787520"}(h=t.GalleryPublisherUrlsConstants||(t.GalleryPublisherUrlsConstants={})),function(n){n.PROCEED_TO_ACCOUNT="Proceed_To_Account";n.GET_STARTED="Get_Started";n.LEARN_MORE="Learn_More";n.DISCOVER_MORE_EXTENSIONS="Discover_More_Extensions";n.DISCOVER_MORE_SUBSCRIPTIONS="Discover_More_Subscriptions";n.ASSIGN_TO_USERS="Assign_To_Users";n.BUY_REQUEST="Buy_Request";n.INSTALL_REQUEST="Install_Request";n.INSTALL="Install";n.TRIAL="Trial";n.BUY_EXTENSION="Buy_Extension";n.BUY_OFFER="Buy_Offer";n.VIEW_REQUEST="View_Request"}(c=t.AcquireWorkFlowConstants||(t.AcquireWorkFlowConstants={})),function(n){n.Install="install";n.AverageRating="averagerating";n.RatingCount="ratingcount"}(l=t.StatisticType||(t.StatisticType={})),function(n){n.VsixPackage="Microsoft.VisualStudio.Services.VSIXPackage"}(a=t.AssetType||(t.AssetType={})),function(n){n.PublisherRolesUi="Microsoft.VisualStudio.Services.Gallery.PublisherRolesUI";n.PublisherCategoryDisplay="Microsoft.VisualStudio.Services.Gallery.PublishByUnVerifiedPublisher";n.ShowRatingAndReview="Microsoft.VisualStudio.Services.Gallery.RatingReview";n.ShowUserAvatar="Microsoft.VisualStudio.Services.Gallery.RatingReviewAvatar";n.EnableThirdPartyCommerce="Microsoft.VisualStudio.Services.Gallery.ThirdPartyCommerce";n.EnableFirstPartyCommerce="Microsoft.VisualStudio.Services.Gallery.FirstPartyCommerce";n.TrendingVscode="Microsoft.VisualStudio.Services.Gallery.TrendingVscodeDisplay";n.TrendingVsts="Microsoft.VisualStudio.Services.Gallery.TrendingVstsDisplay";n.InfiniteScroll="Microsoft.VisualStudio.Services.Gallery.InfiniteScrollDisplay";n.PreFetchExtensions="Microsoft.VisualStudio.Services.Gallery.PreFetchExtensions";n.RefactoredJsonIsland="Microsoft.VisualStudio.Services.Gallery.RefactoredJsonIsland";n.ModalInstallDialog="Microsoft.VisualStudio.Services.Gallery.ModalInstallDialog";n.OnPremConnected="Microsoft.VisualStudio.Services.Gallery.OnPremConnected";n.ShowVsCodeTrending="Microsoft.VisualStudio.Services.Gallery.ShowVsCodeTrending";n.PublisherReply="Microsoft.VisualStudio.Services.Gallery.PublisherReply";n.ReleaseDate="Microsoft.VisualStudio.Services.Gallery.SortByReleaseDate";n.ShowOfferPlans="Microsoft.VisualStudio.Services.Gallery.ShowOfferPlans";n.ExternalMetadataForItemDetails="Microsoft.VisualStudio.Services.Gallery.ExternalMetadataForItemDetails";n.ACSDecommission="Microsoft.VisualStudio.Services.Gallery.ACSDecommission";n.EMSAquisitionService="Microsoft.VisualStudio.Services.Gallery.EMSAquisitionService";n.Filtering="Microsoft.VisualStudio.Services.Gallery.Filtering";n.HostedOnFilter="Microsoft.VisualStudio.Services.Gallery.HostedOnFilter"}(v=t.FeatureFlag||(t.FeatureFlag={}));t.TAB_SPINNER_SELECTOR=".tab-collection-bigspinner";t.MOUSE_BUTTON_MIDDLE=1;t.ENTER_KEY_CODE=13;t.SPACE_KEY_CODE=32,function(n){n.showWriteDialogBox="ShowWriteDialogBox"}(y=t.RatingConstants||(t.RatingConstants={})),function(n){n.SubcriptionTab="subscriptions";n.VSTab="vs";n.VSTSTab="vsts";n.VSCodeTab="vscode"}(p=t.tabConstants||(t.tabConstants={})),function(n){n.VSTSTab="vsts-tab-content";n.VSCodeTab="vscode-tab-content"}(w=t.tabSelector||(t.tabSelector={})),function(n){n.serverId="serverId";n.targetServerUrl="galleryTargetServerUrl";n.targetServerName="serverName";n.targetServerVersion="galleryTargetServerVersion";n.targetCollectionName="targetCollectionName";n.targetHiddenAccountId="targetHiddenAccountId";n.targetSubscriptionId="targetSubscriptionId";n.collectionId="collectionId"}(b=t.ConnectedContextConstants||(t.ConnectedContextConstants={})),function(n){n.CostParamValueFree="free";n.CostParamValuePaid="paid";n.CostParamValueTrial="trial";n.InstallationTargetParamValueCloud="cloud";n.InstallationTargetParamValueOnPrem="onpremises"}(k=t.FilterConstants||(t.FilterConstants={})),function(n){n.MicrosoftAccountDirectory="Microsoft Account"}(d=t.IdentityConstants||(t.IdentityConstants={}))});
define("VSS/Utils/File",["require","exports"],function(n,t){function u(n){var f,t,e,u,o,r;if(typeof atob=="undefined")return i.Unknown;for(f=window.atob(n),t=[],u=0;u<4;u++)t.push(f.charCodeAt(u));if(t[0]===254&&t[1]===255)return i.UTF16_BE;if(t[0]===255&&t[1]===254)return t[2]===0&&t[3]===0?i.UTF32_LE:i.UTF16_LE;if(t[0]===239&&t[1]===187&&t[2]===191)return i.UTF8;if(t[0]===0&&t[1]===0&&t[2]===254&&t[3]===255)return i.UTF32_BE;for(e=!0,u=0,o=f.length;u<o;u++){if(r=f.charCodeAt(u),(r<=31||r==127)&&r!=9&&r!=12&&r!=13&&r!=10&&r!=26)return i.Binary;r>127&&(e=!1)}return e?i.ASCII:i.UTF8}function f(n,t,i){i===void 0&&(i="/");var u=n||"";return t&&(u=r(u,i)+(t.substr(0,i.length)===i?t.substr(i.length):t)),u}function r(n,t){return(t===void 0&&(t="/"),!n)?t:n.substr(n.length-t.length)===t?n:n+t}(function(n){n[n.Unknown=0]="Unknown";n[n.Binary=1]="Binary";n[n.ASCII=2]="ASCII";n[n.UTF8=3]="UTF8";n[n.UTF32_BE=4]="UTF32_BE";n[n.UTF32_LE=5]="UTF32_LE";n[n.UTF16_BE=6]="UTF16_BE";n[n.UTF16_LE=7]="UTF16_LE"})(t.FileEncoding||(t.FileEncoding={}));var i=t.FileEncoding;t.tryDetectFileEncoding=u;t.combinePaths=f;t.ensureTrailingSeparator=r});
define("Gallery/Client/Common/Utility.Common",["require","exports"],function(n,t){function i(n){var t,i;return document.cookie.length>0&&(t=document.cookie.indexOf(n+"="),t!==-1)?(t=t+n.length+1,i=document.cookie.indexOf(";",t),i===-1&&(i=document.cookie.length),decodeURIComponent(document.cookie.substring(t,i))):""}function u(n,t){document.cookie=n+"="+t}function f(n){return n==="hockeyapp-business-monthly-small"||n==="hockeyapp-business-monthly-medium"||n==="hockeyapp-business-monthly-large"||n==="hockeyapp-business-monthly-xlarge"||n==="hockeyapp-business-monthly-2xlarge"?!0:!1}function r(n){var t={},i=n.split("?");if(i.length>1){var r=i[1],u=r.split("#"),f=u[0],e=f.split("&");e.forEach(function(n){var r=n.split("="),i,u;r.length===2&&(i=r[0],u=decodeURIComponent(r[1]),i=i.toLowerCase(),t[i]||(t[i]=u))})}return t}function o(n,t){for(var i=0,r=n.length;i<r;i++)if(t(n[i]))return i;return-1}t.getCookie=i;t.setCookie=u;t.isHockeyAppOffer=f;var e=function(){function n(){}return n.isFeatureFlagEnabled=function(n,t){return r(n)[t.toLowerCase()]==="true"||i(t)==="true"?!0:!1},n.setFeatureFlagCookie=function(n){document.cookie=n+"=true"},n.ratingReviewFF="ShowRatingReview",n.enableThirdPartyCommerceFF="EnableThirdPartyCommerce",n.vsCodeTrendingFF="ShowVscodeTrending",n.vstsTrendingFF="ShowVstsTrending",n.showPublisherReply="showpublisherreply",n.showHostedOnFilter="ShowHostedOnFilter",n}();t.FeatureFlagUtils=e;t.getQueryParameters=r;t.findIndex=o});
define("Gallery/Client/URLHelper",["require","exports","Gallery/Client/Common/Constants","VSS/Utils/File","VSS/Utils/String","Gallery/Client/Common/Utility.Common"],function(n,t,i,r,u,f){var e=function(){function n(){}return n.getInstallQueryParams=function(){return[n.FreeInstallQueryParam,n.InstallQueryParam,n.InstallContextQueryParam,n.TestCommerceQueryParam,n.SubscriptionIdQueryParam,n.AccountIdQueryParam]},n.getHomePageURL=function(){var t,i;return this.marketPlaceHomePageURL?this.marketPlaceHomePageURL:(this.generalInfoData==null&&(i=$(".general-info-data"),i.length!=0&&(this.generalInfoData=$.parseJSON(i.html()))),this.generalInfoData!=null&&this.generalInfoData.galleryUrl!=null)?(t=encodeURI(this.generalInfoData.galleryUrl),n.isHostedDeployment()||(t=r.combinePaths(t,"_gallery")),this.marketPlaceHomePageURL=t,this.marketPlaceHomePageURL):null},n.getWebPageURL=function(t){var i=n.getHomePageURL();return t&&(i=r.combinePaths(i,t)),i},n.isHostedDeployment=function(){if(this.isHosted!=null)return this.isHosted;if(this.generalInfoData==null){var n=$(".general-info-data");n.length!=0&&(this.generalInfoData=$.parseJSON(n.html()))}return this.generalInfoData!=null&&this.generalInfoData.isHosted!=null?(this.isHosted=this.generalInfoData.isHosted,this.isHosted):(this.isHosted=!0,this.isHosted)},n.getHomePageVSTSTabURL=function(){return n.isHostedDeployment()?n.getHomePageURL()+"VSTS":n.getHomePageURL()},n.getHomePageVSTabURL=function(){return n.isHostedDeployment()?n.getHomePageURL()+"VS":n.getHomePageURL()+"#VS"},n.getHomePageVSCodeTabURL=function(){return n.isHostedDeployment()?n.getHomePageURL()+"VSCode":n.getHomePageURL()+"#VSCode"},n.getHomePageVSSubscriptionsTabURL=function(){return n.isHostedDeployment()?n.getHomePageURL()+"Subscriptions":n.getHomePageURL()+"#VSSubscriptions"},n.getVssCategoryURL=function(t,i){var r="vsts/"+encodeURIComponent(t);return i&&(r=r+"?sortBy="+encodeURIComponent(i)),n.getWebPageURL(r)},n.getVSCodeCategoryURL=function(t,i){var r="vscode/"+encodeURIComponent(t);return i&&(r=r+"?sortBy="+encodeURIComponent(i)),n.getWebPageURL(r)},n.getItemDetailsURL=function(t){return n.getWebPageURL("items?itemName="+encodeURIComponent(t))},n.getItemDetailsURLFromNames=function(t,i){return n.getItemDetailsURL(t+"."+i)},n.getPackageDownloadURL=function(t,i,r){return n.getWebPageURL(n.getPackageDownloadURLSuffix(t,i,r))},n.getRemotePackageDownloadURL=function(t,i,u,f){return r.combinePaths(t,n.getPackageDownloadURLSuffix(i,u,f))},n.getPackageDownloadURLSuffix=function(n,t,i){return"_apis/gallery/publishers/"+n+"/extensions/"+t+"/"+i+"/package"},n.getInstallItemURL=function(t){return n.getWebPageURL(encodeURI("install/"+t+"?"+n.CampaignWorkflowQueryParam+"&"+n.CampaignWorkflowInstallContextQueryParam))},n.getFreeInstallItemURL=function(t){return n.getWebPageURL(encodeURI("install/"+t+"?"+n.CampaignWorkflowQueryParam+"&"+n.CampaignWorkflowInstallContextQueryParam+"&"+n.FreeInstallQueryParamEnabled))},n.getInstallItemURLForDetailsPage=function(t){return n.getWebPageURL(encodeURI("items?itemName="+t+"&"+n.CampaignWorkflowQueryParam+"&"+n.CampaignWorkflowInstallContextQueryParam+"&"+n.InstallQueryParamEnabled))},n.getConnectedInstallURL=function(t,i,r){i[i.length-1]!=="/"&&(i=i.concat("/"));var u="items?itemName="+t+"&"+n.InstallContextQueryParam+"&"+n.InstallQueryParamEnabled;return r&&(u=u+"&"+n.TargetIdQueryParamName+"="+r),i+encodeURI(u)},n.getFreeInstallItemURLForDetailsPage=function(t){return n.getWebPageURL(encodeURI("items?itemName="+t+"&"+n.CampaignWorkflowQueryParam+"&"+n.CampaignWorkflowInstallContextQueryParam+"&"+n.InstallQueryParamEnabled+"&"+n.FreeInstallQueryParamEnabled))},n.getBuyItemURL=function(t){return n.getWebPageURL(encodeURI("buy/"+t+"?"+n.CampaignWorkflowQueryParam+"&"+n.CampaignWorkflowBuyContextQueryParam))},n.getManageURL=function(){return n.getWebPageURL("manage")},n.getManagePageUploadURL=function(){return n.getWebPageURL("manage")+"?upload=true"},n.getItemEULAURL=function(t){return n.getWebPageURL("items/"+encodeURIComponent(t)+"/license")},n.getPublisherUrl=function(t){return n.getWebPageURL("manage/publishers/"+encodeURIComponent(t.toLowerCase()))},n.getExtensionsPerCategoryQueryUrl=function(){return n.getWebPageURL("getextensionspercategory")},n.getExtensionScopesURL=function(){return n.getWebPageURL("getextensionscopes")},n.getSearchPageUrl=function(){return n.getWebPageURL("search")},n.getSearchPageUrlForTagQuery=function(t){return(t=t.trim(),t.indexOf(" ")!==-1)?n.getSearchPageURLFromQuery('tag:"'+t+'"'):n.getSearchPageURLFromQuery("tag:"+t)},n.getSearchPageUrlForPublisherQuery=function(t){return n.getSearchPageURLFromQuery('publisher:"'+t.trim()+'"')},n.getUserAvatarUrl=function(t){return n.getWebPageURL("avatar?userid="+t)},n.isFreeInstall=function(t){return n.hasQueryParam(t,n.FreeInstallQueryParamEnabled)},n.isAccountIdSet=function(t){return n.hasQueryParam(t,n.AccountIdQueryParam)},n.isExternalInstall=function(t){return n.hasQueryParam(t,n.InstallContextQueryParam)},n.hasQueryParam=function(n,t){return!n||!t?!1:(n=n.toLowerCase(),t=t.toLowerCase(),n.indexOf(t)!==-1)?!0:!1},n.isTestCommerceEnabled=function(t){return u.caseInsensitiveContains(t,n.TestCommerceQueryParamEnabled)},n.getItemNameFromUrl=function(n){var r="",t=n.split("?")[0].split("/"),i=f.findIndex(t,function(n){return!u.ignoreCaseComparer(n,"items")||!u.ignoreCaseComparer(n,"install")||!u.ignoreCaseComparer(n,"buy")||!u.ignoreCaseComparer(n,"download")})+1;return i>0&&i<t.length&&(r=decodeURIComponent(t[i])),r},n.getCategoryNameFromUrl=function(t){var u="",i=t.split("?")[0].split("/"),r=f.findIndex(i,function(t){return n.validProductNames.indexOf(t.toLowerCase())!==-1})+1;return r>0&&r<i.length&&(u=decodeURIComponent(i[r])),u},n.getCategoriesFromUrl=function(t){var i=n.getQueryParameters(t);if(i)return i.categories},n.getInstallationTargetFromUrl=function(t){var i=n.getQueryParameters(t);if(i)return i.hosting},n.getPricingCategoryFromUrl=function(t){var i=n.getQueryParameters(t);if(i)return i.cost},n.getVSVersionFromUrl=function(t){var i=n.getQueryParameters(t);if(i)return i.vsversion},n.getProductNameFromUrl=function(t){var i="",r=t.split("?")[0].split("/"),u=f.findIndex(r,function(t){return n.validProductNames.indexOf(t.toLowerCase())!==-1});return u>0&&(i=decodeURIComponent(r[u])),i},n.getSortOptionFromUrl=function(t){var i=n.getQueryParameters(t);if(i)return i.sortBy},n.getShowHiddenTagsValueFromUrl=function(t){var i=n.getQueryParameters(t);return i?i.showHiddenTags==="true":!1},n.isSearchPage=function(n){return n.indexOf("search")>=0?!0:!1},n.getVSGallerySearchPageURLFromQuery=function(n){return i.VSGalleryUrlConstants.VSGALLERY_SEARCH_URL+encodeURI(n)},n.addSortOptionToURL=function(n){var t=window.sessionStorage?window.sessionStorage[i.SortConstants.SortParameter]:"";return t?n+"&"+i.SortConstants.SortParameter+"="+t:n},n._getReturnSearchUrl=function(n,t,i){return n+"?term="+encodeURIComponent(t)+"&target="+encodeURIComponent(i)},n.getSearchPageURLFromQuery=function(t){var u=n.getSearchPageUrl(),f=!1,r=this._getReturnSearchUrl(u,t,i.SearchConstants.VSTSProductText);return window.sessionStorage&&window.sessionStorage[i.SearchConstants.SESSION_STORAGE_NAME]===i.SearchConstants.VSCodeProductText?r=this._getReturnSearchUrl(u,t,i.SearchConstants.VSCodeProductText):window.sessionStorage&&window.sessionStorage[i.SearchConstants.SESSION_STORAGE_NAME]===i.SearchConstants.VSProductText&&(f=!0,r=this._getReturnSearchUrl(u,t,i.SearchConstants.VSProductText)),f||(r=this.addSortOptionToURL(r)),r},n.getQueryParameters=function(n){var t={},i=n.split("?");if(i.length>1){var r=i[1],u=r.split("#"),f=u[0],e=f.split("&");e.forEach(function(n){var i=n.split("="),r,u;i.length==2&&(r=i[0],u=decodeURIComponent(i[1]),t[r]||(t[r]=u))})}return t},n.getResourcePath=function(){if(this.marketPlaceResourcesPath!==null)return this.marketPlaceResourcesPath;if(this.generalInfoData==null){var n=$(".general-info-data");n.length!=0&&(this.generalInfoData=$.parseJSON(n.html()))}return this.generalInfoData!=null&&this.generalInfoData.resourcesPath!=null?(this.marketPlaceResourcesPath=this.generalInfoData.resourcesPath,this.marketPlaceResourcesPath):location.protocol+"//"+location.host+"/"},n.validProductNames=["vsts","vss","vscode"],n.GALLERY_EXTENSIONS_PATH="_apis/public/gallery/extensions/",n.CampaignWorkflowQueryParam="workflowId=marketplace",n.CampaignWorkflowInstallContextQueryParam="wt.mc_id=o~msft~marketplace~install",n.CampaignWorkflowBuyContextQueryParam="wt.mc_id=o~msft~marketplace~buy",n.CampaignWorkflowCreateContextQueryParam="wt.mc_id=o~msft~marketplace~create",n.FreeInstallQueryParam="freeInstall",n.FreeInstallQueryParamEnabled="freeInstall=true",n.ExternalSourceQueryParam="src=market",n.InstallContextQueryParam="installContext",n.InstallQueryParam="install",n.InstallQueryParamEnabled="install=true",n.TestCommerceQueryParam="testCommerce",n.TestCommerceQueryParamEnabled="testCommerce=true",n.TargetIdQueryParamName="targetId",n.ItemNameQueryParam="itemName",n.SubscriptionIdQueryParam="subscriptionId",n.AccountIdQueryParam="accountId",n.AuthRedirectQueryParam="auth_redirect",n.marketPlaceHomePageURL=null,n.marketPlaceResourcesPath=null,n.isHosted=null,n.generalInfoData=null,n}();t.GalleryURLs=e});
define("Gallery/Scripts/Gallery/Resources/VSS.Resources.GalleryCommon",["require","exports"],function(require,exports){var e=exports;e.Pricing_Trial="TRIAL";e.SearchButtonTitle="search";e.HomePageSearchHeader="Extensions for the Visual Studio family of products";e.NoExtensionsActionMsg="Please upload extensions from Visual Studio Marketplace or create your own!";e.RatingSingularText="rating";e.ErrorContactUsHere="here";e.BuildYourOwnText="Build your own";e.TipsText="Tips";e.OnPremValuePropTitle="Do more here";e.TeamFoundationServerExtensions="Team Foundation Server Extensions";e.ManageExtensionsText="Manage extensions";e.SearchExtensions="Search {0} extensions";e.SeeMore="See more";e.AccessMarketPlaceHelpText="Most extensions for Visual Studio Team Services also work with TFS. Visit the Visual Studio Marketplace.";e.ValuePropTileCreateYourOwn="Create your own extensions";e.AverageRatingHoverText="Average rating: {0} ({1} {2})";e.NoExtensionsMsgOnPrem="I am lonely here.";e.ErrorContactUsEmailBody="Unable to access: {0}%0D%0A\r\n\u003cPlease enter a brief description of the issue you are facing while accessing {1}\u003e";e.VSTS_Header="Visual Studio Team Services";e.ValuePropTileFindOnMarketPlace="Find Extensions";e.VSCode_Header="Visual Studio Code";e.TrendingWeekly="TrendingWeekly";e.ScrollLeftTitle="scroll left";e.OnPremManageExtensions="Manage Extensions";e.Subs_Header="Subscriptions";e.Marketplace="Marketplace";e.ErrorContactUs="If you would like to contact us regarding this, click {0}.";e.ScrollRightTitle="scroll right";e.AccessNow="Access Now";e.VS_Header="Visual Studio";e.RatingPluralText="ratings";e.InstallCountFormat="{0}{1}";e.SortOption_Downloads="Downloads";e.Trending="Trending";e.ValuePropCreateYourOwnHelpText="You can create extensions that are just for you, or that you share or sell through the Visual Studio Marketplace.";e.SortOption_PublishedDate="Published Date";e.noDataAvailableMsg=" No data available for the selected time period";e.ClearSearchQueryTitle="clear search query";e.ManageExtensionsHelpText="Manage extensions that you’ve created or that you’ve downloaded from the Marketplace.";e.Pricing_Preview="PREVIEW";e.Featured="Featured";e.ErrorContactUsEmailSubject="Error Opening Marketplace";e.KnowMore="Know more";e.LearnMore="Learn more";e.MillionPrefix="M";e.TrendingMonthly="TrendingMonthly";e.MostPopular_Items_Header="Most Popular";e.TrendingDaily="TrendingDaily";e.CategorySeeMore="See more";e.AllCategoriesText="All categories";e.DefaultErrorDiagnosisText="Try refreshing the page or visit the {0} after few minutes.";e.FilterByCategoryCollection="Filter by category / collection";e.ItemAttributeNotAvailable="Not Available";e.ThousandPrefix="K";e.RecentlyAdded="Recently Added";e.Pricing_Paid="PAID";e.Pricing_Free="FREE";e.SortByDate="PublishedDate";});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("Gallery/Client/Service/VNext/Utility",["require","exports","VSS/Utils/String","Gallery/Scripts/Gallery/Resources/VSS.Resources.GalleryCommon"],function(n,t,i,r){function u(n){var f,u,t;if(n<1e3||n>=1e9)return n.toString();for(f=[r.ThousandPrefix,r.MillionPrefix],u=-1;n>=1e3;)n/=1e3,u++;return t="",n>=100?t=n.toFixed(0):(t=n.toFixed(1),t[t.length-1]==="0"&&(t=t.substr(0,t.indexOf(".")))),i.localeFormat(r.InstallCountFormat,t,f[u])}t.getInstallCountString=u});
define("Gallery/Client/Service/ItemsConverter",["require","exports","Gallery/Client/Service/VSSItem","Gallery/Client/Service/Item","VSS/Utils/String","Gallery/Client/Service/VNext/ItemMinified","Gallery/Client/URLHelper","Gallery/Client/Service/VNext/Utility","Gallery/Client/Common/Utility.Common","Gallery/Scripts/Gallery/Resources/VSS.Resources.GalleryCommon"],function(n,t,i,r,u,f,e,o,s,h){var l=function(){function n(){}return n.fillBaseTabTileData=function(n,t,i){var r,o,c,u,l,v,a;for(i===void 0&&(i=!0),r=n.extensionsPerCategory,o=!1,i?(c=e.GalleryURLs.getVssCategoryURL,t===f.ItemTypeEnum.VSCode?(c=e.GalleryURLs.getVSCodeCategoryURL,o=this.getFeatureFlag("ShowVsCodeTrendingFlag"),o===!1&&s.FeatureFlagUtils.isFeatureFlagEnabled(location.href,s.FeatureFlagUtils.vsCodeTrendingFF)&&(o=!0,s.FeatureFlagUtils.setFeatureFlagCookie(s.FeatureFlagUtils.vsCodeTrendingFF))):(o=this.getFeatureFlag("ShowVstsTrendingFlag"),o===!1&&s.FeatureFlagUtils.isFeatureFlagEnabled(location.href,s.FeatureFlagUtils.vstsTrendingFF)&&(o=!0,s.FeatureFlagUtils.setFeatureFlagCookie(s.FeatureFlagUtils.vstsTrendingFF)))):c=e.GalleryURLs.getVssCategoryURL,u=0;u<r.length;u++)l=!0,v=!0,r[u].categoryName.indexOf(h.Trending)>=0&&(l=o?!0:!1),t===f.ItemTypeEnum.VS||(a=this._getSeeMoreLink(c,r[u].categoryName),r[u].seeMoreLink=a,r[u].isDisabled=!l),r[u].extensions=this.setItemTypeForAll(r[u].extensions,t);return n.extensionsPerCategory=r,n},n.convertToBaseTabTileData=function(n,t,i,r,u,o,c){var y,l,p,b,v,w,k,a;for(c===void 0&&(c=!0),y={extensionsPerCategory:[]},l=!1,t&&t.vssItems&&t.vssItems.length>0&&y.extensionsPerCategory.push({categoryName:h.Featured,extensions:this.GetItemMinifiedArray(t.vssItems,i),hasMoreExtensions:!1,seeMoreLink:"",isDisabled:!1}),c?(p=e.GalleryURLs.getVssCategoryURL,i===f.ItemTypeEnum.VSCode?(p=e.GalleryURLs.getVSCodeCategoryURL,l=this.getFeatureFlag("ShowVsCodeTrendingFlag"),l===!1&&s.FeatureFlagUtils.isFeatureFlagEnabled(location.href,s.FeatureFlagUtils.vsCodeTrendingFF)&&(l=!0,s.FeatureFlagUtils.setFeatureFlagCookie(s.FeatureFlagUtils.vsCodeTrendingFF))):(l=this.getFeatureFlag("ShowVstsTrendingFlag"),l===!1&&s.FeatureFlagUtils.isFeatureFlagEnabled(location.href,s.FeatureFlagUtils.vstsTrendingFF)&&(l=!0,s.FeatureFlagUtils.setFeatureFlagCookie(s.FeatureFlagUtils.vstsTrendingFF)))):p=e.GalleryURLs.getVssCategoryURL,u&&u.vssItems&&u.vssItems.length>0&&(a=this._getSeeMoreLink(p,h.MostPopular_Items_Header),y.extensionsPerCategory.push({categoryName:h.MostPopular_Items_Header,extensions:this.GetItemMinifiedArray(u.vssItems,i),hasMoreExtensions:u.hasMoreExtensions,seeMoreLink:a,isDisabled:!1})),r&&r.vssItems&&r.vssItems.length>0&&(a=this._getSeeMoreLink(p,h.RecentlyAdded),y.extensionsPerCategory.push({categoryName:h.RecentlyAdded,extensions:this.GetItemMinifiedArray(r.vssItems,i),hasMoreExtensions:r.hasMoreExtensions,seeMoreLink:a,isDisabled:!1})),c&&!this._isSpecialCategoriesPresentInList(n)&&o&&o.vssItems.length>=0&&(b=!1,a=this._getSeeMoreLink(p,h.TrendingWeekly),y.extensionsPerCategory.push({categoryName:h.TrendingWeekly,extensions:this.GetItemMinifiedArray(o.vssItems,i),hasMoreExtensions:o.hasMoreExtensions,seeMoreLink:a,isDisabled:!l})),v=0;v<n.length;v++)w=!0,k=!0,n[v].categoryName.indexOf(h.Trending)>=0&&(w=l?!0:!1),a=this._getSeeMoreLink(p,n[v].categoryName),y.extensionsPerCategory.push({categoryName:n[v].categoryName,extensions:this.GetItemMinifiedArray(n[v].vssItems,i),hasMoreExtensions:n[v].hasMoreExtensions,seeMoreLink:a,isDisabled:!w});return y},n.setItemType=function(n,t){for(var u,f,i,e=n?n.length:0,r=0;r<e;r++)for(u=n[r].extensions,f=u.length,i=0;i<f;i++)u[i].itemType=t;return n},n.convertBaseTabTileData=function(n){var i,t;if(n){for(i=[],t=0;t<n.epc.length;t++)i.push(this._convertExtensionsPerCategoryData(n.epc[t]));return{extensionsPerCategory:i}}return null},n.covnertTabTileData=function(n){var i,r,t;if(n){for(i=[],t=0;t<n.epc.length;t++)i.push(this._convertExtensionsPerCategoryData(n.epc[t]));for(r=[],t=0;t<n.c.length;t++)r.push(this._convertCategoryTitleLinkData(n.c[t]));return{categories:r,extensionsPerCategory:i}}return null},n.convertInitialTabTileData=function(n){var i,t;if(n){for(i=[],t=0;t<n.epc.length;t++)i.push(this._convertExtensionsPerCategoryData(n.epc[t]));return{categories:n.c,extensionsPerCategory:i}}return null},n._convertCategoryTitleLinkData=function(n){return n?{title:n.t,link:n.l}:null},n._convertExtensionsPerCategoryData=function(n){var i,t;if(n){for(i=[],t=0;t<n.e.length;t++)i.push(this._covnertItemData(n.e[t]));return{categoryName:n.cn,extensions:i,hasMoreExtensions:n.hme,seeMoreLink:n.sml,isDisabled:n.isd}}return null},n._covnertItemData=function(n){return n?{author:n.a,costCategory:n.cc,link:n.l,summary:n.s,thumbnail:n.i,title:n.t,rating:n.r,ratingCount:n.rc,installCount:n.ic,itemType:n.itemType}:null},n._isSpecialCategoriesPresentInList=function(n){for(var i=!1,t=0;t<n.length;t++)if(n[t].categoryName.indexOf(h.Featured)>=0||n[t].categoryName.indexOf(h.MostPopular_Items_Header)>=0||n[t].categoryName.indexOf(h.RecentlyAdded)>=0||n[t].categoryName.indexOf(h.Trending)>=0){i=!0;break}return i},n._getSeeMoreLink=function(n,t){return u.ignoreCaseComparer(t,h.RecentlyAdded)===0?n(h.AllCategoriesText,h.SortByDate):u.ignoreCaseComparer(t,h.Featured)===0?"":u.ignoreCaseComparer(t,h.MostPopular_Items_Header)===0?n(h.AllCategoriesText,h.SortOption_Downloads):u.ignoreCaseComparer(t,h.TrendingWeekly)===0?"":u.ignoreCaseComparer(t,h.TrendingDaily)===0?"":u.ignoreCaseComparer(t,h.TrendingMonthly)===0?"":n(t)},n._getItemType=function(n){return c.getItemType(n)},n.GetItemMinifiedArray=function(n,t){for(var r=[],u=n.length,i=0;i<u;i++)r.push({author:n[i].publisherDisplayName,costCategory:this.getCostCategoryString(n[i]),installCount:o.getInstallCountString(n[i].installCount),link:n[i].link,summary:n[i].shortDescription,thumbnail:n[i].imageUrl,title:n[i].title,rating:n[i].averageRating,ratingCount:n[i].ratingCount,itemType:t});return r},n.setItemTypeForAll=function(n,t){for(var r,u=n.length,i=0;i<u;i++)n[i].itemType=t,t==f.ItemTypeEnum.VS||(n[i].link=e.GalleryURLs.getWebPageURL(n[i].link)),n[i].installCount&&(r=parseInt(n[i].installCount),n[i].installCount=o.getInstallCountString(r));return n},n.getCostCategoryString=function(n){switch(n.priceCategory){case r.priceCategory.Paid:return h.Pricing_Paid;case r.priceCategory.Preview:return h.Pricing_Preview;case r.priceCategory.Trial:return h.Pricing_Trial}return h.Pricing_Free},n.getFeatureFlag=function(n){var i=!1,r,t;return this.cachedFeatureFlags!==undefined?this.cachedFeatureFlags[n]!==undefined&&(i=this.cachedFeatureFlags[n]):(r=$(".general-info-data"),t=r.length>0?$.parseJSON(r.html()):null,t!==null&&t.featureFlags!==undefined&&(this.cachedFeatureFlags=t.featureFlags,i=this.cachedFeatureFlags[n])),i},n}(),c,a;t.ItemsConverter=l;c=function(){function n(){}return n.getItemType=function(n){var t=i.VSSItemType.VSSExtension;for(var r in n.installationTargets)if(n.installationTargets[r].target.toLowerCase()===i.ItemConstants.INSTALLATION_TARGET_EXTENSION.toLowerCase()){t=i.VSSItemType.VSSExtension;break}else if(n.installationTargets[r].target.toLowerCase()===i.ItemConstants.INSTALLATION_TARGET_INTEGRATION.toLowerCase()){t=i.VSSItemType.VSSIntegration;break}else if(n.installationTargets[r].target.toLowerCase()===i.ItemConstants.INSTALLATION_TARGET_OFFER.toLowerCase()){t=i.VSSItemType.VSSOffer;break}else if(n.installationTargets[r].target.toLowerCase()===i.ItemConstants.INSTALLATION_TARGET_CODE.toLowerCase()){t=i.VSSItemType.VSCodeExtension;break}return t},n}();t.VSSItemHelper=c,function(n){n[n.None=0]="None";n[n.Disabled=1]="Disabled";n[n.BuiltIn=2]="BuiltIn";n[n.Validated=4]="Validated";n[n.Trusted=8]="Trusted";n[n.Paid=16]="Paid";n[n.Public=256]="Public";n[n.MultiVersion=512]="MultiVersion";n[n.System=1024]="System";n[n.Preview=2048]="Preview"}(t.PublishedExtensionFlags||(t.PublishedExtensionFlags={}));a=t.PublishedExtensionFlags});
define("VSS/Ajax",["require","exports","q","VSS/Context","VSS/Diag","VSS/Resources/VSS.Resources.Platform","VSS/Utils/Core","VSS/Utils/String","VSS/VSS"],function(n,t,i,r,u,f,e,o,s){function d(n,t,i){var u,e,r;if(t!=="abort")try{u=JSON.parse(n.responseText);u&&u.message&&(e=u.message)}catch(s){}return e||(e=n.status===0?o.format(f.WebApiUndefinedRequestError,n.status,t):n.status+": "+t),r=new Error(e),r.name="TFS.WebApi.Exception",r.status=n.status,r.responseText=n.responseText,u&&(r.serverError=u),i=="timeout"&&(r.name="TFS.WebApi.Exception.Timeout"),r}function g(n,t,i,r,u,f){n.status===0?l||v||e.delay(this,2e3,function(){l||v||f(n,t,i,r,u)}):f(n,t,i,r,u)}function p(n,t,u,f){var e=f||i.defer(),o,h,s,c,l;return y.register(),t||(t={}),t.headers||(t.headers={}),t.headers["X-VSS-ReauthenticationAction"]="Suppress",u&&(o=u.sessionId,h=u.command),o||(s=r.getPageContext(),s&&s.diagnostics&&s.diagnostics.sessionId&&(o=s.diagnostics.sessionId)),o&&(t.headers["X-TFS-Session"]=h?o+","+h:o),u&&u.authTokenManager?(c=!!f,l=u.authTokenManager.getAuthToken(c),l.then(function(i){t=$.extend(t,{beforeSend:function(n){var t=u.authTokenManager.getAuthorizationHeader(i);n.setRequestHeader("Authorization",t);n.setRequestHeader("X-TFS-FedAuthRedirect","Suppress")}});n=nt(u.authTokenManager,n,t,i);jQuery.ajax(n,t).then(function(n,t,i){e.resolve({data:n,jqXHR:i,textStatus:t})},function(i,r,f){i.status!==401||c?e.reject({errorThrown:f,jqXHR:i,textStatus:r}):p(n,t,u,e)})},e.reject)):jQuery.ajax(n,t).then(function(n,t,i){e.resolve({data:n,jqXHR:i,textStatus:t})},function(n,t,i){e.reject({errorThrown:i,jqXHR:n,textStatus:t})}),e.promise}function nt(n,t,i,r){var v,y,o,l,f,a,u,p;if(it())return t;var s={legacyCorsMethod:i.type.toUpperCase()},e=t.indexOf("?"),h=!1,c;return e>-1&&t.length>e&&(v=t.substring(e+1),y=v.split("&"),y.forEach(function(n,t,i){var r=i[t].split("="),u=r[0];u==="api-version"&&(h=!0)})),!h&&i&&i.headers&&i.headers.Accept&&(o=i.headers.Accept.split(";"),o&&o.length>0&&(o.some(function(n){if(n&&n.indexOf("api-version")>-1){var t=n.split("=");if(t&&t.length===2)return l=t[1],!0}return!1}),l&&(s["api-version"]=l,h=!0))),f={__authToken:n.getAuthorizationHeader(r)},i.type.toUpperCase()==="GET"?(a=i.data,a&&(c=$.param(a)),i.type="POST",w(i,f)):(i.data?(u=i.data,typeof u=="string"&&(u=JSON.parse(u)),$.isArray(u)&&u.length>0?u[0]=$.extend(f,u[0]):u=$.extend(f,u),i.data=JSON.stringify(u)):w(i,f),i&&i.headers&&i.headers["Content-Type"]&&(s.legacyContentType=i.headers["Content-Type"]),i.type="POST"),p=$.param(s),t+=(e>-1?"&":"?")+p,c&&(t+="&"+c),t}function w(n,t){n.data=JSON.stringify(t);n.processData=!1;n.jsonp=!1}function tt(n,t,r){var u=this,f=i.defer(),e=++k,o=r&&r.useAjaxResult;return $.each(h,function(i,f){f.beforeRequest&&f.beforeRequest.call(u,e,n,t,r)}),p(n,t,r).then(function(n){$.each(h,function(t,i){i.responseReceived&&i.responseReceived.call(u,e,n.data,n.textStatus,n.jqXHR,r)});try{o===!0?(delete n.jqXHR.then,f.resolve([n.data,n.textStatus,n.jqXHR])):f.resolve(n.data);f.resolve(o===!0?[n.data,n.textStatus,n.jqXHR]:n.data)}finally{$.each(h,function(t,i){i.postResponseCallback&&i.postResponseCallback.call(u,e,n.data,n.textStatus,n.jqXHR,r)})}},function(n){g(n.jqXHR,n.textStatus,n.errorThrown,e,f,function(n,t,i,f,e){var o=d(n,t,i);$.each(h,function(i,e){e.responseReceived&&e.responseReceived.call(u,f,o,t,n,r)});try{e.reject(o)}finally{$.each(h,function(i,e){e.postResponseCallback&&e.postResponseCallback.call(u,f,o,t,n,r)})}})}),f.promise}function it(){if(typeof XMLHttpRequest!="undefined"){var n=new XMLHttpRequest;if("withCredentials"in n)return!0}return!1}function rt(n,t,i){return tt(n,t,i)}function b(n){h.push(n)}function ut(n){h=$.grep(h,function(t){return t!==n})}var v=!1,l=!1,h=[],c={},k=0,a,y;(function(n){n.Binary="arraybuffer"})(a=t.CustomTransportDataTypes||(t.CustomTransportDataTypes={})),function(n){function i(){t||(r(),t=!0)}function r(){$.ajaxTransport(a.Binary,function(n,t,i){if(n.dataType===a.Binary&&n.async)return{send:function(t,i){var r=new XMLHttpRequest,u;r.addEventListener("load",function(){var n={};n[a.Binary]=r.response;i(r.status,r.statusText,n,r.getAllResponseHeaders())});r.open(n.type,n.url,!0);r.responseType="arraybuffer";for(u in t)r.setRequestHeader(u,t[u]);r.send(n.data||null)},abort:function(){i.abort()}}})}var t=!1;n.register=i}(y||(y={}));$(window).bind("unload",function(){v=!0});$(window).bind("beforeunload",function(){l=!0;window.setTimeout(function(){l=!1},2e3)});t.issueRequest=rt;t.addGlobalListener=b;t.removeGlobalListener=ut;b({beforeRequest:function(n,t,i,r){var f,e=!r||r.showProgressIndicator!==!1;e&&(f=s.globalProgressIndicator.actionStarted("http "+n+" "+t),c[n]=f);u.logTracePoint("Ajax.request-started",f)},responseReceived:function(n){n in c&&s.globalProgressIndicator.actionCompleted(c[n])},postResponseCallback:function(n){var t;n in c&&(t=c[n],delete c[n]);u.logTracePoint("Ajax.callback-complete",t)}})});
define("Gallery/Client/Service/VNext/GalleryDataProvider",["require","exports","q","Gallery/Client/Service/VNext/ItemMinified","Gallery/Client/Service/VNext/SearchProviderAbstractionsWrapper","Gallery/Client/Service/ItemsConverter","Gallery/Client/URLHelper","Gallery/Client/Service/ItemsConverter","VSS/Diag","VSS/Ajax","VSS/VSS"],function(n,t,i,r,u,f,e,o,s,h,c){var a=function(){function n(){}return n.GetInstance=function(){return n.instance||(n.instance=new n),n.instance},n.prototype.GetVSTabData=function(){var t=i.defer(),e,u;return this.vsTabData?this.vsTabData:(this.vsTabData=t.promise,e=this._getContentFromJsonIsland("vs"),u=f.ItemsConverter.covnertTabTileData(e),u!==null?t.resolve(f.ItemsConverter.fillBaseTabTileData(u,r.ItemTypeEnum.VS,n.deploymentIsHosted())):this._getTopNItemsByCategory(l.VS).then(function(i){var u=f.ItemsConverter.covnertTabTileData(i);u&&t.resolve(o.ItemsConverter.fillBaseTabTileData(u,r.ItemTypeEnum.VS,n.deploymentIsHosted()))},function(n){s.logError(n);t.reject(n)}),t.promise)},n.prototype.GetVSSubscriptionsTabData=function(){var n=i.defer(),t;return this.vsSubscriptionTabData?this.vsSubscriptionTabData:(this.vsSubscriptionTabData=n.promise,t=this._getContentFromJsonIsland("subscriptions"),t!==null?n.resolve(t):this._getSubscriptions().then(function(t){t&&n.resolve(t)},function(t){s.logError(t);n.reject(t)}),n.promise)},n.prototype.GetGeneralInfoData=function(){var t=$(".general-info-data"),n;return(t.length!=0&&(n=$.parseJSON(t.html())),n!==null)?n:{}},n.prototype.GetVSCodeTabData=function(){var t=i.defer(),c,u,h,a;return this.vsCodeTabData?this.vsCodeTabData:(this.vsCodeTabData=t.promise,c=this._getContentFromJsonIsland("vscode"),u=f.ItemsConverter.convertInitialTabTileData(c),u!==null&&u.extensionsPerCategory!=null?(h=[],u.categories.forEach(function(n){h.push({title:n,link:e.GalleryURLs.getVSCodeCategoryURL(n)})}),a={categories:h,extensionsPerCategory:f.ItemsConverter.fillBaseTabTileData(u,r.ItemTypeEnum.VSCode,n.deploymentIsHosted()).extensionsPerCategory},t.resolve(a)):this._getTopNItemsByCategory(l.VSCode).then(function(i){var u=f.ItemsConverter.convertInitialTabTileData(i),s=[],h;u.categories.forEach(function(n){s.push({title:n,link:e.GalleryURLs.getVSCodeCategoryURL(n)})});h={extensionsPerCategory:o.ItemsConverter.fillBaseTabTileData(u,r.ItemTypeEnum.VSCode,n.deploymentIsHosted()).extensionsPerCategory,categories:s};t.resolve(h)},function(n){s.logError(n);t.reject(n)}),t.promise)},n.prototype.GetVSTSTabData=function(){var u=i.defer(),e,t;return this.vsTSTabData?this.vsTSTabData:(this.vsTSTabData=u.promise,e=this._getContentFromJsonIsland("vsts"),t=f.ItemsConverter.convertBaseTabTileData(e),t!==null&&t.extensionsPerCategory!=null?(t=f.ItemsConverter.fillBaseTabTileData(t,r.ItemTypeEnum.VSTS,n.deploymentIsHosted()),u.resolve(t)):this._getTopNItemsByCategory(l.VSTS).then(function(t){var i=f.ItemsConverter.convertInitialTabTileData(t);u.resolve(o.ItemsConverter.fillBaseTabTileData(i,r.ItemTypeEnum.VSTS,n.deploymentIsHosted()))},function(n){s.logError(n);u.reject(n)}),u.promise)},n.GetTrendingData=function(){var t=i.defer();return c.using(n.TRENDING_DELAY_LOAD_MODULES,function(){t.resolve(null)}),t.promise},n.prototype.InitiateDownloadAllTabsData=function(){var r=i.defer(),t=[];t.push(this.GetVSCodeTabData());t.push(this.GetVSTabData());t.push(this.GetVSTSTabData());t.push(this.GetVSSubscriptionsTabData());i.all(t).then(function(){n.GetTrendingData();r.resolve(null)},function(n){r.reject(n)})},n.prototype.GetExtensionsData=function(n){var t=i.defer();return u.VSSSearchProviderAbstraction.GetExtensionsData(n).then(function(n){t.resolve(n)},function(n){t.reject(n)}),t.promise},n.prototype.parseExtensionFlags=function(n){for(var h,r,o,t,c,u,s,l,i=0,e=n;i<e.length;i++)for(h=e[i],r=0,o=h.extensions;r<o.length;r++)for(t=o[r],c=t.flags.toString().split(", "),u=0,s=c;u<s.length;u++){l=s[u];switch(l){case"none":t.flags=t.flags|f.PublishedExtensionFlags.None;break;case"disabled":t.flags=t.flags|f.PublishedExtensionFlags.Disabled;break;case"builtIn":t.flags=t.flags|f.PublishedExtensionFlags.BuiltIn;break;case"validated":t.flags=t.flags|f.PublishedExtensionFlags.Validated;break;case"trusted":t.flags=t.flags|f.PublishedExtensionFlags.Trusted;break;case"public":t.flags=t.flags|f.PublishedExtensionFlags.Public;break;case"multiVersion":t.flags=t.flags|f.PublishedExtensionFlags.MultiVersion;break;case"system":t.flags=t.flags|f.PublishedExtensionFlags.System;break;case"preview":t.flags=t.flags|f.PublishedExtensionFlags.Preview}}return n},n.prototype._getContentFromJsonIsland=function(n){var t=$("."+n.toLowerCase()+"-tab-data");return t.length>0?$.parseJSON(t.html()):null},n.deploymentIsHosted=function(){var i=n.GetInstance(),t=i.GetGeneralInfoData();return t!=null?t.isHosted:!0},n.getFeatureFlag=function(n){var i=!1,r,t;return this.cachedFeatureFlags!==undefined?this.cachedFeatureFlags[n]!==undefined&&(i=this.cachedFeatureFlags[n]):(r=$(".general-info-data"),t=r.length>0?$.parseJSON(r.html()):null,t!==null&&t.featureFlags!==undefined&&(this.cachedFeatureFlags=t.featureFlags,i=this.cachedFeatureFlags[n])),i},n.getRegistryItem=function(n){var i="",r,t;return this.cachedRegistryItems!==undefined?this.cachedRegistryItems[n]!==undefined&&(i=this.cachedRegistryItems[n]):(r=$(".general-info-data"),t=r.length>0?$.parseJSON(r.html()):null,t!==null&&t.registryItems!==undefined&&(this.cachedRegistryItems=t.registryItems,i=this.cachedRegistryItems[n])),i},n.prototype._getTopNItemsByCategory=function(t){var u=i.defer(),r="";return t===l.VSTS?r=n.PRODUCT_VSS:t===l.VSCode?r=n.PRODUCT_VSCODE:t===l.VS&&(r=n.PRODUCT_VS),h.issueRequest(e.GalleryURLs.getExtensionsPerCategoryQueryUrl(),{data:{Product:r},cache:!1}).then(function(n){u.resolve(n)},function(n){u.reject(n)}),u.promise},n.prototype._getSubscriptions=function(){var t=i.defer();return h.issueRequest(e.GalleryURLs.getExtensionsPerCategoryQueryUrl(),{data:{Product:n.PRODUCT_VSSUBS},cache:!1}).then(function(n){t.resolve(n)},function(n){t.reject(n)}),t.promise},n.GALLERY_DELAY_LOAD_MODULES=["Gallery/Client/Common/TelemetryInternal","VSS/Error","Gallery/Client/Service/VNext/SearchProviderAbstractions"],n.TRENDING_DELAY_LOAD_MODULES=["VSS/Controls/Menus","VSS/Controls"],n.isHosted=null,n.PRODUCT_VSS="vsts",n.PRODUCT_VS="vs",n.PRODUCT_VSCODE="vscode",n.PRODUCT_VSSUBS="subscriptions",n}(),l;t.GalleryDataProvider=a,function(n){n[n.VSTS=0]="VSTS";n[n.VSCode=1]="VSCode";n[n.VS=2]="VS";n[n.VSSubs=3]="VSSubs"}(t.VSSProduct||(t.VSSProduct={}));l=t.VSSProduct});
define("Gallery/Client/Common/Telemetry",["require","exports","q","Gallery/Client/Service/VNext/GalleryDataProvider","VSS/VSS"],function(n,t,i,r,u){var h,o,e,f,s,c;(function(n){var o=function(){function n(){}return n.MARKETPLACE="MarketPlace",n}(),t,i,r,u,f,s,e;n.MarketPlaceCustomerIntelligenceArea=o;t=function(){function n(){}return n.ACQUISITION_WORKFLOW="Acquisition_Workflow",n.HOME_PAGE="Home_Page",n.SEARCH="Search",n.ERRORS="Error",n.CATEGORY_PAGE="Category_Page",n.ITEM_DETAILS="Item_Details",n}();n.MarketPlaceCustomerIntelligenceCategories=t;i=function(){function n(){}return n.HOMEPAGE="HomePage",n.CATEGORYPAGE="CategoryPage",n.MANAGEPAGE="ManagePage",n.CAROUSEL="Carousel",n.CAROUSEL_FETCH_ITEMS="Carousel",n.VS_ITEM="VS_Item_Tile",n.VSTS_ITEM="VSTS_Item_Tile",n.VSCODE_ITEM="VSCode_Item_Tile",n.INITIATE_INSTALL_ITEM="Initiate_Install",n.INITIATE_REQUEST_INSTALL="Initiate_Request_Install",n.CONFIRM_INSTALL_ITEM="Confirm_Install",n.CONFIRM_TRIAL_ITEM="Confirm_Trial",n.BUILD_YOUR_OWN="Build_Your_Own",n.INITIATE_BUY_ITEM="Initiate_Buy",n.INITIATE_TRIAL_ITEM="Initiate_Trial",n.SELECT_ACCOUNT="Select_Account",n.CREATE_AZURE_SUBSCRIPTION="Create_Azure_Subscription",n.SELECT_AZURE_SUBSCRIPTION="Select_Azure_Subscription",n.CONFIRM_BUY_ITEM="Confirm_Buy",n.ASSIGN_VIEW_VS_SUBSCRIPTION="Assign_View_VS_Subscription",n.GET_STARTED_ITEM="Get_Started",n.ITEM_DOWNLOAD="Download",n.POST_INSTALL_WORKFLOW="Post_Install_Workflow",n.HOME_PAGE_OFFERS="HomePage_Offers",n.HOME_PAGE_FOOTER="HomePage_Footer",n.ITEMDETAILSPAGE="ItemDetailsPage",n.ALLFEATURES="AllFeatures",n.REQUESTEXTENSION="Request_Extension",n.INSTALL_WORKFLOW_ERRORS="Install_Workflow_Errors",n.INSTALL_WORKFLOW_ABANDON="Install_Workflow_Abandoned",n.VSCODE_COPY="VSCode_Copy_Command",n.VSCODE_MORE_INFO="VSCode_More_Info",n.VSCODE_COPY_BUTTON_DISABLED="VSCode_Copy_Button_Disabled",n.VSCODE_COMMAND_TEXT_BOX_CLICK="VSCode_Command_Textbox_Clicked",n.SEARCH="Search",n.SEARCH_BAR_USE="Search_Bar_Use",n.SEARCH_QUERY_COMPLETE="Search_Query_Complete",n.SEARCH_RESULT_CLICK="Search_Result_Click",n.SEEMORE_CLICK="Seemore_Click",n.SORT_OPTION_CLICK="Sort_Option_Click",n.HOSTED_ON_OPTION_CLICK="Hosted_On_Option_Click",n.CATEGORY_OPTION_CLICK="Category_Option_Click",n.BACK_NAVIGATION="Back_Navigation",n.RATING="RatingAndReviews",n.BUY_WORKFLOW_ERRORS="Buy_Workflow_Errors",n.BUY_WORKFLOW_ABANDON="Buy_Workflow_Abandoned",n.TRIAL_WORKFLOW_ERRORS="Trial_Workflow_Errors",n.TRIAL_WORKFLOW_ABANDON="Trial_Workflow_Abandoned",n.VSGALLERY_ERRORS="VSGallery_Errors",n.VSSGALLERY_ERRORS="VSSGallery_Errors",n.SOCIAL_EVENT_CLICK="Social_Click",n.TRENDING_TYPE="TrendingType",n}();n.MarketPlaceIntelligenceFeature=i;r=function(){function n(){}return n.EULA_ERROR="EulaPage_Error",n.CATEGORY_PAGE_ERROR="Category_Error",n.ACQUIRE_ITEM_ERROR="AcquireItem_Error",n}();n.MarketPlaceIntelligenceErrors=r;u=function(){function n(){}return n.TWITTER="Twitter",n.FACEBOOK="Facebook",n.EMAIL="Email",n}();n.SocialNetworkConstants=u;f=function(){function n(){}return n.BrowserName="BrowserName",n.BrowserVersion="BrowserVersion",n.BrowserPlatform="BrowserPlatform",n.TAB_SELECTED="TabSelected",n.ITEM_NAME="item-name",n.OPERATION="operation",n.ERROR="error",n.CATEGORY_NAME="categoryName",n.PRODUCT_TYPE="ProductType",n.PRICE_CATEGORY="price-category",n}();n.MarketPlaceIntelligencePropertyName=f,function(n){var t=function(){function n(){}return n.GalleryUserId="GalleryUserId",n}(),i,r,u,f,e,o,s,h,c;n.MarketPlaceIntelligenceCommonProperties=t;i=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.Id="Id",t.Name="Name",t.ScrollDirection="ScrollDirection",t.SectionName="SectionName",t.ProductType="ProductType",t}(t);n.HomePageProperties=i;r=function(){function n(){}return n.Id="Id",n.Name="Name",n.ScrollDirection="ScrollDirection",n.PageNumber="PageMumber",n.Category="Category",n.ProductType="ProductType",n}();n.CarouselProperties=r;u=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.Id="Id",t.ProductType="ProductType",t.PriceCategory="PriceCategory",t.SectionName="SectionName",t.IsPublic="IsPublic",t}(t);n.ItemDetailsProperties=u;f=function(){function n(){}return n.Id="Id",n.IsFlashUsed="IsFlashUsed",n}();n.VSCodeCopyCommandProperties=f;e=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.Url="Url",t.SearchBoxLocation="SearchBoxLocation",t.SearchQuery="SearchQuery",t.ProductType="ProductType",t.ResultCount="ResultCount",t.SortOption="SortOption",t.TilePosition="TilePosition",t.PageNumber="PageNumber",t.Action="Action",t.CategoryName="CategoryName",t.Page="Page",t}(t);n.SearchAndCategoryPageProperties=e;o=function(){function n(){}return n.CLICK_EDIT_REVIEW="ClickEditReview",n.CLICK_WRITE_REVIEW="ClickWriteReview",n.CLICK_REPORT_ABUSE="ClickReportAbuse",n.CLICK_VIOLATION_CANCEL="ClickViolationCancel",n.CLICK_VIOLATION_SUBMIT="ClickViolationSubmit",n.CLICK_EDIT_REVIEW_SUBMIT="ClickEditReviewSubmit",n.CLICK_WRITE_REVIEW_SUBMIT="ClickWriteReviewSubmit",n.CLICK_EDIT_REVIEW_CANCEL="ClickEditReviewCancel",n.CLICK_WRITE_REVIEW_CANCEL="ClickWriteReviewCancel",n.CLICK_SEE_MORE="ClickSeeMore",n.CLICK_PUBLISHER_REPLY_BUTTON="PublisherReplyButtonClick",n.CLICK_PUBLISHER_REPLY_EDIT_BUTTON="PublisherReplyEditButtonClick",n.CLICK_PUBLISHER_REPLY_FORM_CANCEL_BUTTON="PublisherReplyFormCancelButtonClick",n.CLICK_PUBLISHER_REPLY_FORM_SUBMIT_BUTTON="PublisherReplyFormSubmitButtonClick",n.ERROR_WRITE_REVIEW_SUBMIT="ErrorWriteReviewSubmit",n.ERROR_EDIT_REVIEW_SUBMIT="ErrorEditReviewSubmit",n.ERROR_SUBMIT_VIOLATION="ErrorSubmitViolation",n.ERROR_SEE_MORE="ErrorSeeMore",n.ERROR_PUBLISHER_REPLY_SUBMIT="ErrorPublisherReplySubmit",n}();n.RatingAndReviewProperties=o;s=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.Id="Id",t.AccountId="AccountId",t.AccountName="AccountName",t.SubscriptionId="SubscriptionId",t.ProductType="ProductType",t.LinkType="LinkType",t.WorkFlowType="WorkflowType",t.IsNewSubscription="IsNewSubscription",t.Quantity="Quantity",t.IsSubsequentPurchase="IsSubsequentPurchase",t.IsNewAccount="IsNewAccount",t.SubscriptionLinked="SubscriptionLinked",t.AssignedToMe="AssignedToMe",t.AssignOrView="AssignOrView",t.CollectionId="CollectionId",t.AvailableSubscriptions="AvailableSubscriptions",t.AvailableAccounts="AvailableAccounts",t.AlreadyInstalled="AlreadyInstalled",t.AlreadyRequested="AlreadyRequested",t.AlreadyUnderTrial="AlreadyUnderTrial",t.ErrorString="ErrorString",t.IsPublic="IsPublic",t}(t);n.AcquisitionWorkFlowProperties=s;h=function(){function n(){}return n.PublisherId="PublisherId",n}();n.ManagePageProperties=h;c=function(){function n(){}return n.FailedAPI="FailedAPI",n.ErrorMessage="ErrorMessage",n.ItemID="ItemID",n.ItemName="ItemName",n.Reason="Reason",n}();n.VSSErrorProperties=c}(s=n.MarketPlaceIntelligenceProperties||(n.MarketPlaceIntelligenceProperties={}));e=function(){function n(){}return n.GalleryUserIdentity="Gallery-Service-UserIdentifier",n}();n.Cookies=e})(h=t.CustomerIntelligenceConstants||(t.CustomerIntelligenceConstants={}));o=function(){function n(){}return n.publishEventAsync=function(n,t){var f=i.defer();return u.using(r.GalleryDataProvider.GALLERY_DELAY_LOAD_MODULES,function(i){i.TelemetryHelper.publishEventAsync(n,t).then(function(){f.resolve(null)},function(n){f.reject(n)})}),f.promise},n.publishEvent=function(n,t){var f=i.defer();return u.using(r.GalleryDataProvider.GALLERY_DELAY_LOAD_MODULES,function(i){i.TelemetryHelper.publishEvent(n,t);f.resolve(null)}),f.promise},n}();t.TelemetryHelper=o;e=function(){function n(){}return n.Area="MarketPlace",n.LoadHomePageVSTab="LoadHomePageVSTab",n.LoadHomePageVSSTab="LoadHomePageVSSTab",n.LoadHomePageVSCodeTab="LoadHomePageVSCodeTab",n.LoadHomePageVSSubscriptionTab="LoadHomePageVSSubscriptionTab",n.LoadVSSItemDetails="LoadVSSItemDetails",n.LoadInstallPage="LoadInstallPage",n.LoadCategoriesPage="LoadCategoriesPage",n.LoadSearchPage="LoadSearchPage",n.LoadCarouselItems="LoadCarouselItems",n.ExtensionRendered="VNext.View.ExtensionRendered",n.ScriptsLoaded="VNext.View.ScriptsLoaded",n.TelemetryUploadTime="VNext.View.TelemetryUploadTime",n}();t.PerformanceConstants=e;f=function(){function n(){}return n.startScenario=function(n,t){var f=i.defer();return u.using(r.GalleryDataProvider.GALLERY_DELAY_LOAD_MODULES,function(i){f.resolve(i.GalleryPerformance.startScenario(n,t))}),f.promise},n.abortScenario=function(n){var t=i.defer();return u.using(r.GalleryDataProvider.GALLERY_DELAY_LOAD_MODULES,function(i){i.GalleryPerformance.abortScenario(n);t.resolve(null)}),t.promise},n.startScenarioFromNavigation=function(n){var t=i.defer();return u.using(r.GalleryDataProvider.GALLERY_DELAY_LOAD_MODULES,function(i){t.resolve(i.GalleryPerformance.startScenarioFromNavigation(n))}),t.promise},n.endScenario=function(n,t,f){t===void 0&&(t=!0);f===void 0&&(f=200);var e=i.defer();return u.using(r.GalleryDataProvider.GALLERY_DELAY_LOAD_MODULES,function(i){i.GalleryPerformance.endScenario(n,t,f);e.resolve(null)}),e.promise},n.split=function(n){var t=i.defer();return u.using(r.GalleryDataProvider.GALLERY_DELAY_LOAD_MODULES,function(i){i.GalleryPerformance.split(n);t.resolve(null)}),t.promise},n.addDataToScenario=function(n,t){var f=i.defer();return u.using(r.GalleryDataProvider.GALLERY_DELAY_LOAD_MODULES,function(i){i.GalleryPerformance.addDataToScenario(n,t);f.resolve(null)}),f.promise},n}();t.GalleryPerformance=f;s=function(){function n(){}return n.split=function(n){window&&window.performance&&window.performance.timing&&window.performance.timing.navigationStart&&this.splitTimings.push({name:n,timestamp:(new Date).getTime()-window.performance.timing.navigationStart})},n.EndScenario=function(t,i){var o=this,s;if(i===void 0&&(i=undefined),this.isFirstNavigation()){if(!window||!window.performance||!window.performance.timing||!window.performance.timing.navigationStart)return;s=(new Date).getTime()-window.performance.timing.navigationStart;u.using(r.GalleryDataProvider.GALLERY_DELAY_LOAD_MODULES,function(){n.split(e.TelemetryUploadTime);var r=(new Date).getTime()-s;f.startScenario(t,r).then(function(){var n={splitTimingsVNext:JSON.stringify(o.getDictionary())};i&&jQuery.extend(n,i);f.addDataToScenario(t,n).then(function(){o.cleanDict();f.endScenario(t)})})})}},n.isFirstNavigation=function(){for(var i,n=0,t=this.splitTimings;n<t.length;n++)if(i=t[n],i.name==="VNext.View.ScriptsLoaded")return!0;return!1},n.getDictionary=function(){if(!window||!window.performance||!window.performance.timing||!window.performance.timing.responseEnd||!window.performance.timing.connectStart)return this.splitTimings;return this.splitTimings.unshift({name:"VNext.View.ContentLoaded",timestamp:window.performance.timing.responseEnd-window.performance.timing.connectStart}),this.splitTimings},n.cleanDict=function(){this.splitTimings=[]},n.splitTimings=[],n}();t.TelemetryVNext=s;c=function(){function n(){}return n}()});
define("VSS/LoaderPlugins/Css",["require","exports","VSS/Context","q"],function(n,t,i,r){function e(n,t){var r=n.split(":",2);return r.length===2?i.getCssModuleUrl(r[0],r[1],t):i.getCssModuleUrl(null,n,t)}function s(n,t,i){var u=r.defer();return f.load("async-"+ ++o,n,t,i,function(){u.resolve(null)},function(n){u.reject(n)}),u.promise}function h(n,t,i,r){if(n)if(r&&r.isTest===!0)i({});else{var u=e(n);f.load(n,u,e(n,"HighContrast"),null,function(){i({})},function(){var n=i.error;typeof n=="function"&&n("Could not find "+u+" or it was empty")})}else window.console&&console.warn("No name supplied to VSS/LoaderPlugins/Css"),i({})}var u,f,o;(function(n){var t=function(){function n(){this._pendingLoads=0}return n.prototype._attachListeners=function(n,t,i,r){var u=function(){t.removeEventListener("load",f);t.removeEventListener("error",e)},f=function(){u();i()},e=function(n){u();r(n)};t.addEventListener("load",f);t.addEventListener("error",e)},n.prototype._onLoad=function(n,t){this._pendingLoads--;t()},n.prototype._onLoadError=function(n,t,i){this._pendingLoads--;t(i)},n.prototype._insertLinkNode=function(n){this._pendingLoads++;var i=document.head||document.getElementsByTagName("head")[0],t=i.getElementsByTagName("link")||i.getElementsByTagName("script");t.length>0&&t[t.length-1].nextSibling?i.insertBefore(n,t[t.length-1].nextSibling):i.appendChild(n)},n.prototype._linkTagExists=function(n,t){var e=n.indexOf(":"),r,i,o,s,h,c,f,u,l;for(e>=0&&(n=n.substr(e+1)),r=document.getElementsByTagName("link"),i=0,o=r.length;i<o;i++){if(s=r[i].getAttribute("data-name"),h=r[i].getAttribute("href"),s===n||h===t)return!0;for(c=r[i].getAttribute("data-includedstyles")||"",f=c.split(";"),u=0,l=f.length;u<l;u++)if(f[u]===n)return!0}return!1},n.prototype.load=function(n,t,i,r,u,f){if(this._linkTagExists(n,t)){u();return}var e=this.createLinkTag(n,t,i,r,u,f);this._insertLinkNode(e)},n.prototype.createLinkTag=function(n,t,i,r,u,f){var o=this,e=document.createElement("link"),s,h;return e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("data-name",n),e.setAttribute("data-highcontrast",i),r&&r.length&&e.setAttribute("data-includedstyles",r.join(";")),s=function(){return o._onLoad(n,u)},h=function(t){return o._onLoadError(n,f,t)},this._attachListeners(n,e,s,h),e.setAttribute("href",t),e},n}(),i,r;n.CssLoader=t;i=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype._attachListeners=function(n,t,i){t.onload=function(){t.onload=null;i()}},t}(t);n.IE8CssLoader=i;r=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.load=function(t,i,r,u,f,e){n.prototype.load.call(this,t,i,r,u,f,e);this._loadCheck(t,i,f)},t.prototype._loadCheck=function(n,t,i){var r=this;setTimeout(function(){r._linkTagExists(n,t)?i():r._loadCheck(n,t,i)},10)},t}(t);n.PhantomJsCssLoader=r})(u||(u={}));f=null;f=navigator.userAgent.indexOf("MSIE 7")>=0||navigator.userAgent.indexOf("MSIE 8")>=0?new u.IE8CssLoader:navigator.userAgent.indexOf("PhantomJS")>=0?new u.PhantomJsCssLoader:new u.CssLoader;o=0;t.injectStylesheet=s;t.load=h});
define("VSS/Utils/Url",["require","exports","VSS/Diag","VSS/Utils/File","VSS/Utils/String","VSS/VSS"],function(n,t,i,r,u,f){function s(n){var r,f,e,t;if(r=n.trim(),f=r.indexOf(":"),f>=0)for(e=r.substr(0,f),t=0;t<o.length;t++)if(u.ignoreCaseComparer(e,o[t])===0)return!0;return!1}function v(n,t,i){var f=n.search(t+"="+i),u,r;return f>-1?n:(u=new RegExp("("+t+"=).*?(&|$)"),r=n.replace(u,"$1"+i+"$2"),r===n&&(r=r+(r.indexOf("?")>0?"&":"?")+t+"="+i),r)}function y(n){return n&&n.length<=2e3}function p(){return h}function w(n){var t={},i=n.split("?");if(i.length>1){var r=i[1],u=r.split("#"),f=u[0],e=f.split("&");e.forEach(function(n){var i=n.split("="),r,u;i.length==2&&(r=i[0],u=decodeURIComponent(i[1]),t[r]||(t[r]=u))})}return t}function l(n){return n?(n=n.toLowerCase(),n.indexOf("http:")===0||n.indexOf("https:")===0):!1}function b(n,t){return l(t)?t:r.combinePaths(n,t)}var a=f.handleError,o=["http","https","ftp","gopher","mailto","news","telnet","wais","vstfs","tfs","alm","mtm","mtms","mtr","mtrs","mfbclient","mfbclients","x-mvwit","onenote","codeflow"],e,h,c;t.isSafeProtocol=s;t.replaceUrlParam=v;t.isUrlWithinConstraints=y;e=function(){function n(){this._urlTranslators=[]}return n.prototype.registerUrlTranslator=function(n,t){this._urlTranslators.push({translator:n,order:t||100});this._urlTranslators.sort(function(n,t){return n.order-t.order})},n.prototype.beginTranslateUrl=function(n,t,i,r){function f(n){$.isFunction(i)&&i.call(u,n)}function h(n){a(n,r,u)}function e(){var i=u._urlTranslators[o++];i?i.translator.call(u,n,t,f,h,e):f(n)}var u=this,o=0;if(n)if(s(n))e();else return f(null);else f(n)},n}();t.UrlTranslatorService=e;h=new e;t.getTranslatorService=p;t.getQueryParameters=w;c=function(){function n(n){n&&this._setFromUriString(n,null)}return n.parse=function(t,i){var r=new n;return r._setFromUriString(t,i),r},n.prototype._setFromUriString=function(n,t){var i=n,s=u.singleSplit(i,"#"),f,e,o,r;if(s.match?(i=s.part1,this.hashString=s.part2):this.hashString="",f=u.singleSplit(i,"?"),f.match?(i=f.part1,this.queryString=f.part2):this.queryParameters=[],e=u.singleSplit(i,"://"),e.match?(this.scheme=e.part1,i=e.part2,o=u.singleSplit(i,"/"),o.match?(i=o.part1,this.path=o.part2):this.path="",r=u.singleSplit(i,":"),r.match&&r.part2?(this.host=r.part1,this.port=parseInt(r.part2)):(this.host=i,this.port=0)):(this.scheme="",this.host="",this.port=0,this.path=i),t&&t.absoluteUriRequired&&!this.scheme)throw new Error('The uri string "'+n+'" does not represent a valid absolute uri.');},Object.defineProperty(n.prototype,"absoluteUri",{get:function(){var n="",t;return this.scheme&&(n=this.scheme+"://"),this.host&&(n+=this.host,this.port&&(n+=":"+this.port),n+="/"),this.path&&(n=n?r.combinePaths(n,this.path):this.path),t=this.queryString,t&&(n+="?"+t),this.hashString&&(n+="#"+this.hashString),n},set:function(n){this._setFromUriString(n||"",!1)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"queryString",{get:function(){return this.queryParameters&&this.queryParameters.length?this.queryParameters.map(function(n){return n.value?encodeURIComponent(n.name)+"="+encodeURIComponent(n.value):encodeURIComponent(n.name)}).join("&"):""},set:function(n){var t=this;this.queryParameters=[];n.split("&").forEach(function(n){if(n){var i=u.singleSplit(n,"="),r=i.match?decodeURIComponent(i.part2):"";t.queryParameters.push({name:decodeURIComponent(i.part1),value:r})}})},enumerable:!0,configurable:!0}),n.prototype.getQueryParam=function(n){var i,t;return this.queryParameters&&(t=this.queryParameters.filter(function(t){return u.equals(t.name,n,!0)}),t.length>0&&(i=t[0].value)),i},n.prototype.addQueryParam=function(n,t,i){this.queryParameters||(this.queryParameters=[]);i&&(this.queryParameters=this.queryParameters.filter(function(t){return!u.equals(t.name,n,!0)}));this.queryParameters.push({name:n,value:t})},n}();t.Uri=c;t.isAbsoluteUrl=l;t.combineUrl=b});
define("VSS/Bundling",["require","exports","VSS/Ajax","VSS/Context","VSS/Utils/Core","VSS/LoaderPlugins/Css","VSS/Diag","q","VSS/Utils/Array","VSS/Utils/String","VSS/Utils/Url"],function(n,t,i,r,u,f,e,o,s,h,c){function l(){var t,n,f,i,r,u;if(!a)for(a=[],t=document.getElementsByTagName("script"),n=0,f=t.length;n<f;n++)i=t[n].getAttribute("data-includedscripts"),i&&a.push.apply(a,i.split(";")),r=t[n].getAttribute("data-bundlelength"),r&&(u=parseInt(r),d+=u,w[t[n].getAttribute("src")]=u);return a}function ut(n){var t=l();t.push.apply(t,n)}function ft(n,t){l();t&&(d+=t,w[n]=t)}function et(n){l();var t=!1;return $.each(w,function(i){if(h.equals(n,i,!0))return t=!0,!1}),t}function ot(){return l(),d}function p(){var t,n,f,i,r,u;if(!v)for(v=[],t=document.getElementsByTagName("link"),n=0,f=t.length;n<f;n++)i=t[n].getAttribute("data-includedstyles"),i&&v.push.apply(v,i.split(";")),r=t[n].getAttribute("data-bundlelength"),r&&(u=parseInt(r),g+=u,nt[t[n].getAttribute("href")]=u);return v}function st(n){var t=p();t.push.apply(t,n)}function ht(n,t){p();t&&(g+=t,nt[n]=t)}function ct(){return p(),g}function lt(n){return l(),p(),w[n]||nt[n]}function at(n,t){var s=r.getPageContext(),k=s.webAccessConfiguration.paths.rootPath||"/",y=s.webAccessConfiguration.paths.staticContentVersion||"",u,w=[],a,d,f,v,b;if(t&&(!h.equals(t,s.serviceInstanceId,!0)||r.isExtensionFrame())){if(a=r.getPathsForService(t),a){if(y=a.staticContentVersion,!y)return o.resolve(null);u=r.getContributedServiceRootUrl(t);k=c.combineUrl(u,a.rootPath)}r.isExtensionFrame()||(d=r.getContributionPathsForService(t),w=Object.keys(s.moduleLoaderConfig.contributionPaths||{}).filter(function(n){return d.indexOf(n)<0}))}return f=k+"_public/_Bundling/DynamicBundles?scripts="+encodeURIComponent(n.join(";")),f+="&v="+encodeURIComponent(y),w.length>0&&(f+="&excludePaths="+encodeURIComponent(w.join(";"))),v=l(),v.length&&(f+="&exclude="+encodeURIComponent(v.join(";"))),b=p(),b.length&&(f+="&excludeCss="+encodeURIComponent(b.join(";"))),i.issueRequest(f,{type:"GET",data:"json"}).then(function(n){return u&&(n.scripts&&n.scripts.forEach(function(n){n.uri=c.combineUrl(u,n.uri)}),n.styles&&n.styles.forEach(function(n){n.uri=c.combineUrl(u,n.uri);n.fallbackThemeUri=c.combineUrl(u,n.fallbackThemeUri)})),n})}function vt(n){var u=r.getPageContext(),t={},i;return u.webAccessConfiguration.isHosted?n.forEach(function(n){var i=r.getScriptModuleOwner(n);i&&(i=i.toLowerCase(),t[i]||(t[i]=[]),t[i].push(n))}):t[""]=n,i=[],$.each(t,function(n,t){i.push(at(t,n))}),o.allSettled(i).then(function(n){var t;return n.forEach(function(n){n.value&&(t?(n.value.scripts&&s.addRange(t.scripts,n.value.scripts),n.value.scriptsExcludedByPath&&s.addRange(t.scriptsExcludedByPath,n.value.scriptsExcludedByPath),n.value.styles&&s.addRange(t.styles,n.value.styles)):(t=n.value,t.scripts||(t.scripts=[]),t.scriptsExcludedByPath||(t.scriptsExcludedByPath=[]),t.styles||(t.styles=[])))}),t})}function yt(){var i,r,f,t;if(y.length!==0){i=[].concat(y);y=[];r={};i.forEach(function(n){n.moduleNames.forEach(function(n){r[n]=!0})});var u={initialUsings:i,pendingUsings:[]},h=Object.keys(r),n=h.filter(function(n){return!requirejs.specified(n)});n.forEach(function(n){b[n]=u});f=[].concat(k);t=vt(n).then(function(t){if(t)return o.allSettled(f).then(function(){return it(t,null,!1).then(function(){rt(u,!0,n)})});rt(u,!1,n)});k.push(t);ut(n);t.then(function(){s.remove(k,t)})}}function pt(n,t){return it(n,t,!0)}function it(t,i,r){var u=o.defer(),e=[];return t.styles&&t.styles.length&&t.styles.forEach(function(n){var t=n.uri;i&&(t=c.combineUrl(i,n.uri));e.push(f.injectStylesheet(t,n.fallbackThemeUri,n.cssFiles));r&&st(n.cssFiles||[]);ht(t,n.contentLength)}),o.allSettled(e).then(function(){var o=[],r,s,f,e;if(t.scripts&&t.scripts.length)for(r=0,s=t.scripts.length;r<s;r++)f=t.scripts[r],e=i?c.combineUrl(i,f.uri):f.uri,et(e)||(o.push(e),ft(e,f.contentLength));o.length>0?n(o,function(){t.scriptsExcludedByPath&&t.scriptsExcludedByPath.length?tt(t.scriptsExcludedByPath,function(){u.resolve(null)}):u.resolve(null)}):u.resolve(null)}),u.promise}function rt(t,i,r){r.forEach(function(n){delete b[n]});t.initialUsings.forEach(function(t){n(t.moduleNames,t.callback)});t.pendingUsings.forEach(function(t){i?tt(t.moduleNames,t.callback):n(t.moduleNames,t.callback)})}function tt(t,i){var f,s,o,c,h;if(f=(t||[]).filter(function(n){return requirejs.specified(n)?!1:typeof r.getScriptModuleOwner(n)=="undefined"?!1:!0}),f.length===0){n(t,i);return}for(s={moduleNames:t,callback:i},o=0,c=f.length;o<c;o++)if(h=b[f[o]],h){h.pendingUsings.push(s);return}y.push(s);u.delay(this,0,yt)}var a,v,y=[],b={},k=[],d=0,g=0,w={},nt={};t.getBundledScriptContentSize=ot;t.getBundledCssContentSize=ct;t.getBundleSize=lt;t.injectBundles=pt;t.requireModules=tt});
define("VSS/Authentication/Services",["require","exports","q","VSS/Context","VSS/Resources/VSS.Resources.Platform","VSS/Utils/String","VSS/VSS"],function(n,t,i,r,u,f,e){function w(n,t,i,r){return s.getToken(n,t,i,r)}function b(n,t,i){return s.getAppToken(n,t,i)}function k(n){if(n){var i=l[n];return i||(i=new c(n),l[n]=i),i}return t.authTokenManager}var p,h,o,a,c,v,y,s,l;(function(n){n.Profile="Platform.Profile"})(p=t.CoreNamedWebSessionTokenIds||(t.CoreNamedWebSessionTokenIds={})),function(n){function i(n,i){return f.format("Basic {0}",t(n,i))}function t(n,t){var i=f.format("{0}:{1}",n||"",t||"");return f.base64Encode(i)}n.getBasicAuthHeader=i;n.getBasicAuthValue=t}(h=t.BasicAuthHelpers||(t.BasicAuthHelpers={})),function(n){function t(n){return f.format("Bearer {0}",n)}n.getBearerAuthHeader=t}(o=t.BearerAuthHelpers||(t.BearerAuthHelpers={}));a=function(){function n(){this._appIdForUnscopedToken=f.EmptyGuidString;this._tokenPromises={};this._tokenExpirationTimes={}}return n.prototype._getKey=function(n,t){return n+":"+t},n.prototype._setTokenValidTo=function(n,t){var i=this;t.then(function(t){i._tokenExpirationTimes[n]=t.validTo})},n.prototype._checkTokenExpiration=function(n){var t=this._tokenExpirationTimes[n];t&&(new Date).getTime()>t.getTime()-6e4&&(delete this._tokenExpirationTimes[n],delete this._tokenPromises[n])},n.prototype._setTokenPromise=function(n,t,i){var r=this._getKey(n,t);this._setTokenValidTo(r,i);this._tokenPromises[r]=i},n.prototype._getTokenPromise=function(n,t){var i=this._getKey(n,t);return this._checkTokenExpiration(i),this._tokenPromises[i]},n.prototype._beginGetToken=function(n,t,i,u){var f=this;return e.requireModules(["VSS/Authentication/RestClient","VSS/Authentication/Contracts"]).spread(function(e,o){var c=n?o.DelegatedAppTokenType.Session:o.DelegatedAppTokenType.App,l,a,s,v,h;if(!u&&(l=f._getTokenPromise(c,t),l))return l;if(a={appId:t,name:i||null,token:null,force:u,tokenType:c},window.top===window.self||r.getPageContext().navigation.area==="BuiltInExtensions")v=new e.AuthenticationHttpClient(r.getDefaultWebContext().host.relativeUri),s=v.createSessionToken(a);else if(h=window.VSS,h&&h.getAccessToken)s=h.getAccessToken();else throw new Error("VSS.SDK is not currently loaded");return f._setTokenPromise(c,t,s),s})},n.prototype.getToken=function(n,t,i,r){return n,this._beginGetToken(!0,r?n:this._appIdForUnscopedToken,t,i)},n.prototype.getAppToken=function(n,t,i){return this._beginGetToken(!1,n,t,i)},n.prototype.getAuthToken=function(n){return this.getToken(null,null,n)},n.prototype.getAuthorizationHeader=function(n){if(!n||!n.token)throw u.SessionTokenNotReady;return o.getBearerAuthHeader(n.token)},n}();c=function(){function n(n){this._namedTokenId=n}return n.prototype.getAuthToken=function(n){var t=this;return!n&&(this._tokenExpirationTime&&(new Date).getTime()>this._tokenExpirationTime.getTime()-6e4&&(this._tokenExpirationTime=null,this._tokenPromise=null),this._tokenPromise)?this._tokenPromise:(this._tokenPromise=e.requireModules(["VSS/Authentication/RestClient","VSS/Authentication/Contracts"]).spread(function(i,u){var h={appId:f.EmptyGuidString,force:n,tokenType:u.DelegatedAppTokenType.Session,namedTokenId:t._namedTokenId},o,s,e;if(window.top===window.self||r.getPageContext().navigation.area==="BuiltInExtensions")s=new i.AuthenticationHttpClient(r.getDefaultWebContext().host.relativeUri),o=s.createSessionToken(h);else if(e=window.VSS,e&&e.getAccessToken)o=e.getAccessToken();else throw new Error("VSS.SDK is not currently loaded");return o.then(function(n){return t._tokenExpirationTime=n.validTo,n})}),this._tokenPromise)},n.prototype.getAuthorizationHeader=function(n){if(!n||!n.token)throw u.SessionTokenNotReady;return o.getBearerAuthHeader(n.token)},n}();t.NamedWebSessionTokenManager=c;v=function(){function n(n,t){this._user=n;this._password=t}return n.prototype.getAuthToken=function(){return i.resolve(h.getBasicAuthValue(this._user,this._password))},n.prototype.getAuthorizationHeader=function(){return h.getBasicAuthHeader(this._user,this._password)},n}();t.BasicAuthTokenManager=v;y=function(){function n(n){this._token=n}return n.prototype.getAuthToken=function(){return i.resolve(this._getTokenHeader())},n.prototype.getAuthorizationHeader=function(){return this._getTokenHeader()},n.prototype._getTokenHeader=function(){return o.getBearerAuthHeader(this._token)},n}();t.BearerAuthTokenManager=y;s=new a;l={};t.authTokenManager=s;t.getToken=w;t.getAppToken=b;t.getAuthTokenManager=k});
define("VSS/Locations",["require","exports","VSS/Authentication/Services","VSS/Context","VSS/Common/Contracts/Platform","q","VSS/Utils/File","VSS/Utils/String","VSS/Utils/Url","VSS/VSS"],function(n,t,i,r,u,f,e,o,s,h){function w(n,t){var i=a[t];return i||(i=n.getServiceDefinitions("LocationService2").then(function(n){var i;return c[t]||(c[t]={}),i=c[t],$.each(n,function(n,t){if(t.locationMappings){var r=$.grep(t.locationMappings,function(n){return n.accessMappingMoniker==="PublicAccessMapping"||n.accessMappingMoniker==="ServerAccessMapping"})[0];r&&(r.location=e.ensureTrailingSeparator(r.location),i[t.identifier]=r.location,i[t.parentIdentifier]=r.location)}}),i}),a[t]=i),i}function y(n,t){return n[t.toLowerCase()]}function l(n,t,i){var e=null,f=r.getPageContext(),s;return f.serviceLocations&&(s=f.serviceLocations.locations[n.toLowerCase()],s&&(e=s[t])),e||o.equals(f.serviceInstanceId,n,!0)&&(i&&f.webContext.host.id!==i.host.id||(t===u.ContextHostType.Deployment&&f.webContext.host.hostType===u.ContextHostType.Deployment?e=f.webContext.host.uri:t===u.ContextHostType.Application&&f.webContext.account?e=f.webContext.account.uri:t===u.ContextHostType.ProjectCollection&&f.webContext.collection&&(e=f.webContext.collection.uri))),e||c[t]&&(e=y(c[t],n,t,i)),e}function b(n,t,i){c[i]||(c[i]={});c[i][t.toLowerCase()]=n}function p(n,t,s,c){if(c===void 0&&(c=!1),s||(s=r.getDefaultWebContext()),!r.getPageContext().webAccessConfiguration.isHosted)return t===u.ContextHostType.ProjectCollection?s.collection?f.resolve(s.collection.uri):f.reject("Cannot get collection location given application context."):f.resolve(s.account.uri);var a=l(n,t,s);return a?f.resolve(a):h.requireModules(["VSS/Locations/Contracts","VSS/Locations/RestClient","VSS/WebApi/Constants"]).spread(function(h,v,p){if(o.equals(n,p.ServiceInstanceTypes.SPS,!0))throw new Error("SPS Locations must exist in cached page context.");var d=l(p.ServiceInstanceTypes.SPS,t,s),b=new v.LocationsHttpClient(d),k;return(t===u.ContextHostType.Deployment||r.getPageContext().navigation.topMostLevel===u.NavigationContextLevels.Deployment)&&(k=i.CoreNamedWebSessionTokenIds.Profile),b.authTokenManager=i.getAuthTokenManager(k),w(b,t).then(function(i){if(a=y(i,n,t,s),a)return f.resolve(a);if(c)return b.getServiceDefinition("LocationService2",n).then(function(t){if(t&&t.locationMappings){var i=$.grep(t.locationMappings,function(n){return n.accessMappingMoniker==="ServerAccessMapping"})[0];if(i)return i.location=e.ensureTrailingSeparator(i.location),a=i.location}throw new Error("Could not create location for service "+n+".");},function(t){throw new Error("Error getting location for service "+n+": "+(t?t.message:t)+".");});throw new Error("Location for service "+n+" does not exist.");})})}var v=function(){function n(n,t){n===void 0&&(n="_");t===void 0&&(t="_");this._areaPrefix=n;this._controllerPrefix=t}return n.prototype.getContentUrl=function(n){var i=n.webContext||r.getDefaultWebContext(),t,f;if(n.serviceInstanceId&&r.getPageContext().webAccessConfiguration.isHosted){if(t=l(n.serviceInstanceId,n.hostType,i),!t)throw new Error("Could not get url for service "+n.serviceInstanceId+" since it is not yet in the cache.");}else f=n.hostType===u.ContextHostType.Application&&i.account?i.account:i.host,t=window.self==window.top?encodeURI(f.relativeUri):f.uri;return n.relativePath&&(t=e.combinePaths(t,n.relativePath)),n.queryParams&&(t+="?"+$.param(n.queryParams)),t},n.prototype.getVersionedContentUrl=function(n,t){var i,o=r.getPageContext(),f,a,h,c,v;if(window.self!=window.top||t&&o.webAccessConfiguration.isHosted)if(f=r.getDefaultWebContext(),t&&!o.webAccessConfiguration.isHosted){if(a=f.host.hostType===u.ContextHostType.ProjectCollection?u.ContextHostType.Application:f.host.hostType,h=l(t,a,f),!h)throw new Error("Could not get url for service "+t+" since it is not yet in the cache.");if(c=r.getPathsForService(t),!c)throw new Error("Could not get web access paths for service "+t+" since it is not yet in page context data.");i=c.resourcesPath;s.isAbsoluteUrl(i)||(i=e.combinePaths(h,i))}else i=o.webAccessConfiguration.paths.resourcesPath,s.isAbsoluteUrl(i)||(v=f.host.uri.substr(0,f.host.uri.length-(f.host.relativeUri||"").length),i=e.combinePaths(v,i));else i=o.webAccessConfiguration.paths.resourcesPath;return e.combinePaths(i,n)},n.prototype.beginGetMvcUrl=function(n){var i=this,t;return n.serviceInstanceId?(n.level?(t=n.level,n.level>=u.NavigationContextLevels.Collection&&(t=u.ContextHostType.ProjectCollection)):t=(n.webContext||r.getDefaultWebContext()).host.hostType,p(n.serviceInstanceId,t,n.webContext).then(function(){return i.getMvcUrl(n)})):f.resolve(this.getMvcUrl(n))},n.prototype.getMvcUrl=function(n){var i=n.webContext||r.getDefaultWebContext(),o=n.area==="api",t=[],f=n.level,e;return f||(f=r.getPageContext().navigation.topMostLevel),e=f,(f>=u.NavigationContextLevels.Project||n.project)&&(e=u.ContextHostType.ProjectCollection,n.project?t.push(n.project):i.project&&t.push(o?i.project.id:i.project.name),(f>=u.NavigationContextLevels.Team||n.team)&&(n.team?t.push(n.team):i.team&&t.push(o?i.team.id:i.team.name))),n.area&&t.push(this._areaPrefix+n.area),n.controller&&t.push(this._controllerPrefix+n.controller),n.action&&t.push(n.action),n.parameters&&(t=t.concat(n.parameters)),this.getContentUrl({hostType:e,serviceInstanceId:n.serviceInstanceId,webContext:i,relativePath:encodeURI(t.join("/")),queryParams:n.queryParams})},n}(),a,c;t.UrlHelper=v;t.urlHelper=new v;a={};c={};t.getCachedServiceLocation=l;t.addServiceLocation=b;t.beginGetServiceLocation=p});
define("VSS/SDK/XDM",["require","exports"],function(n,t){function r(n){return t.channelManager.addChannel(n)}function u(){return new i.XDMObjectRegistry}var i;(function(n){function u(){return new o}function s(){return Math.floor(Math.random()*(f-t)+t).toString(36)+Math.floor(Math.random()*(f-t)+t).toString(36)}var i,r,e;n.createDeferred=u;var o=function(){function n(){var n=this;this._resolveCallbacks=[];this._rejectCallbacks=[];this._isResolved=!1;this._isRejected=!1;this.resolve=function(t){n._resolve(t)};this.reject=function(t){n._reject(t)};this.promise={};this.promise.then=function(t,i){return n._then(t,i)}}return n.prototype._then=function(t,i){var u=this,r;return!t&&!i||this._isResolved&&!t||this._isRejected&&!i?this.promise:(r=new n,this._resolveCallbacks.push(function(n){u._wrapCallback(t,n,r,!1)}),this._rejectCallbacks.push(function(n){u._wrapCallback(i,n,r,!0)}),this._isResolved?this._resolve(this._resolvedValue):this._isRejected&&this._reject(this._rejectValue),r.promise)},n.prototype._wrapCallback=function(n,t,i,r){if(!n){r?i.reject(t):i.resolve(t);return}var u;try{u=n(t)}catch(f){i.reject(f);return}u===undefined?i.resolve(t):u&&typeof u.then=="function"?u.then(function(n){i.resolve(n)},function(n){i.reject(n)}):i.resolve(u)},n.prototype._resolve=function(n){if(this._isRejected||this._isResolved||(this._isResolved=!0,this._resolvedValue=n),this._isResolved&&this._resolveCallbacks.length>0){var t=this._resolveCallbacks.splice(0);window.setTimeout(function(){for(var i=0,r=t.length;i<r;i++)t[i](n)})}},n.prototype._reject=function(n){if(this._isRejected||this._isResolved||(this._isRejected=!0,this._rejectValue=n,this._rejectCallbacks.length===0&&window.console&&window.console.warn&&(console.warn("Rejected XDM promise with no reject callbacks"),n&&console.warn(n))),this._isRejected&&this._rejectCallbacks.length>0){var t=this._rejectCallbacks.splice(0);window.setTimeout(function(){for(var i=0,r=t.length;i<r;i++)t[i](n)})}},n}(),t=parseInt("10000000000",36),f=Number.MAX_SAFE_INTEGER||9007199254740991;i=function(){function n(){this._registeredObjects={}}return n.prototype.register=function(n,t){this._registeredObjects[n]=t},n.prototype.getInstance=function(n,t){var i=this._registeredObjects[n];return i?typeof i=="function"?i(t):i:null},n}();n.XDMObjectRegistry=i;n.globalObjectRegistry=new i;r=function(){function t(n,r){r===void 0&&(r=null);this._nextMessageId=1;this._deferreds={};this._nextProxyFunctionId=1;this._proxyFunctions={};this._postToWindow=n;this._targetOrigin=r;this._channelObjectRegistry=new i;this._channelId=t._nextChannelId++;this._targetOrigin||(this._handshakeToken=s())}return t.prototype.getObjectRegistry=function(){return this._channelObjectRegistry},t.prototype.invokeRemoteMethod=function(n,t,i,r,f){var e={id:this._nextMessageId++,methodName:n,instanceId:t,instanceContext:r,params:this._customSerializeObject(i,f),jsonrpc:"2.0",serializationSettings:f},o;return this._targetOrigin||(e.handshakeToken=this._handshakeToken),o=u(),this._deferreds[e.id]=o,this._sendRpcMessage(e),o.promise},t.prototype.getRemoteObjectProxy=function(n,t){return this.invokeRemoteMethod(null,n,null,t)},t.prototype.invokeMethod=function(n,t){var f=this,r,u,i;if(!t.methodName){this._success(t,n,t.handshakeToken);return}if(r=n[t.methodName],typeof r!="function"){this._error(t,new Error("RPC method not found: "+t.methodName),t.handshakeToken);return}try{u=[];t.params&&(u=this._customDeserializeObject(t.params));i=r.apply(n,u);i&&i.then&&typeof i.then=="function"?i.then(function(n){f._success(t,n,t.handshakeToken)},function(n){f._error(t,n,t.handshakeToken)}):this._success(t,i,t.handshakeToken)}catch(e){this._error(t,e,t.handshakeToken)}},t.prototype.getRegisteredObject=function(t,i){if(t==="__proxyFunctions")return this._proxyFunctions;var r=this._channelObjectRegistry.getInstance(t,i);return r||(r=n.globalObjectRegistry.getInstance(t,i)),r},t.prototype.onMessage=function(n){var u=this,t=n,i,r;if(t.instanceId){if(i=this.getRegisteredObject(t.instanceId,t.instanceContext),!i)return!1;typeof i.then=="function"?i.then(function(n){u.invokeMethod(n,t)},function(n){u._error(t,n,t.handshakeToken)}):this.invokeMethod(i,t)}else{if(r=this._deferreds[t.id],!r)return!1;t.error?r.reject(this._customDeserializeObject([t.error])[0]):r.resolve(this._customDeserializeObject([t.result])[0]);delete this._deferreds[t.id]}return!0},t.prototype.owns=function(n,t,i){var r=i;if(this._postToWindow===n){if(this._targetOrigin)return t?t.toLowerCase()==="null"||this._targetOrigin.toLowerCase().indexOf(t.toLowerCase())===0:!1;if(r.handshakeToken&&r.handshakeToken===this._handshakeToken)return this._targetOrigin=t,!0}return!1},t.prototype.error=function(n,t){var i=n;this._error(i,t,i.handshakeToken)},t.prototype._error=function(n,t,i){var r={id:n.id,error:this._customSerializeObject([t],n.serializationSettings)[0],jsonrpc:"2.0",handshakeToken:i};this._sendRpcMessage(r)},t.prototype._success=function(n,t,i){var r={id:n.id,result:this._customSerializeObject([t],n.serializationSettings)[0],jsonrpc:"2.0",handshakeToken:i};this._sendRpcMessage(r)},t.prototype._sendRpcMessage=function(n){var t=JSON.stringify(n);this._postToWindow.postMessage(t,"*")},t.prototype._shouldSkipSerialization=function(n){for(var r,i=0,u=t.WINDOW_TYPES_TO_SKIP_SERIALIZATION.length;i<u;i++)if(r=t.WINDOW_TYPES_TO_SKIP_SERIALIZATION[i],window[r]&&n instanceof window[r])return!0;if(window.jQuery)for(i=0,u=t.JQUERY_TYPES_TO_SKIP_SERIALIZATION.length;i<u;i++)if(r=t.JQUERY_TYPES_TO_SKIP_SERIALIZATION[i],window.jQuery[r]&&n instanceof window.jQuery[r])return!0;return!1},t.prototype._customSerializeObject=function(n,i,r,u,f){var h=this,a,o,l,v,e,c,s;if((r===void 0&&(r=null),u===void 0&&(u=1),f===void 0&&(f=1),!n||f>t.MAX_XDM_DEPTH)||this._shouldSkipSerialization(n))return null;if(a=function(t,e,o){var s,c,l,a,v;try{s=t[o]}catch(y){}(c=typeof s,c!=="undefined")&&(l=-1,c==="object"&&(l=r.originalObjects.indexOf(s)),l>=0?(a=r.newObjects[l],a.__circularReferenceId||(a.__circularReferenceId=u++),e[o]={__circularReference:a.__circularReferenceId}):c==="function"?(v=h._nextProxyFunctionId++,e[o]={__proxyFunctionId:h._registerProxyFunction(s,n),__channelId:h._channelId}):c==="object"?e[o]=s&&s instanceof Date?{__proxyDate:s.getTime()}:h._customSerializeObject(s,i,r,u,f+1):o!=="__proxyFunctionId"&&(e[o]=s))},r||(r={newObjects:[],originalObjects:[]}),r.originalObjects.push(n),n instanceof Array)for(o=[],r.newObjects.push(o),e=0,c=n.length;e<c;e++)a(n,o,e);else{o={};r.newObjects.push(o);l={};try{for(s in n)l[s]=!0;for(v=Object.getOwnPropertyNames(n),e=0,c=v.length;e<c;e++)l[v[e]]=!0}catch(y){}for(s in l)(s&&s[0]!=="_"||i&&i.includeUnderscoreProperties)&&a(n,o,s)}return r.originalObjects.pop(),r.newObjects.pop(),o},t.prototype._registerProxyFunction=function(n,t){var i=this._nextProxyFunctionId++;return this._proxyFunctions["proxy"+i]=function(){return n.apply(t,Array.prototype.slice.call(arguments,0))},i},t.prototype._customDeserializeObject=function(n,t){var e=this,o=this,r,i,u,f;if(!n)return null;if(t||(t={}),r=function(n,i){var r=n[i],u=typeof r;i==="__circularReferenceId"&&u==="number"?(t[r]=n,delete n[i]):u==="object"&&r&&(r.__proxyFunctionId?n[i]=function(){return o.invokeRemoteMethod("proxy"+r.__proxyFunctionId,"__proxyFunctions",Array.prototype.slice.call(arguments,0),null,{includeUnderscoreProperties:!0})}:r.__proxyDate?n[i]=new Date(r.__proxyDate):r.__circularReference?n[i]=t[r.__circularReference]:e._customDeserializeObject(r,t))},n instanceof Array)for(i=0,u=n.length;i<u;i++)r(n,i);else if(typeof n=="object")for(f in n)r(n,f);return n},t._nextChannelId=1,t.MAX_XDM_DEPTH=100,t.WINDOW_TYPES_TO_SKIP_SERIALIZATION=["Node","Window","Event"],t.JQUERY_TYPES_TO_SKIP_SERIALIZATION=["jQuery"],t}();n.XDMChannel=r;e=function(){function n(){this._channels=[];this._subscribe(window)}return n.get=function(){return this._default||(this._default=new n),this._default},n.prototype.addChannel=function(n,t){var i=new r(n,t);return this._channels.push(i),i},n.prototype._handleMessageReceived=function(n){var i,e,r,t,u,f;if(typeof n.data=="string")try{t=JSON.parse(n.data)}catch(o){}if(t){for(u=!1,i=0,e=this._channels.length;i<e;i++)r=this._channels[i],r.owns(n.source,n.origin,t)&&(f=r,u=r.onMessage(t,n.origin)||u);!f||u||(window.console&&console.error("No handler found on any channel for message: "+JSON.stringify(t)),t.instanceId&&f.error(t,"The registered object "+t.instanceId+" could not be found."))}},n.prototype._subscribe=function(n){var t=this;n.addEventListener?n.addEventListener("message",function(n){t._handleMessageReceived(n)}):n.attachEvent("onmessage",function(n){t._handleMessageReceived(n)})},n}();n.XDMChannelManager=e})(i||(i={}));t.createChannel=r;t.createObjectRegistry=u;t.channelManager=i.XDMChannelManager.get();t.globalObjectRegistry=i.globalObjectRegistry});
define("VSS/SDK/Shim",["require","exports","q","VSS/SDK/XDM","VSS/VSS"],function(n,t,i,r,u){function e(n,i){t.VSS.register(n,i)}function f(){return!!(window.VSS&&window.VSS.VssSDKVersion)}t.registerContent=e;var o=function(){function n(){}return n.prototype.getService=function(n,t){var r=i.defer();return u.using(["VSS/SDK/Host"],function(i){var u=new i.HostManagementService({});u.getServiceContribution(n).then(function(n){n.getInstance(n.id,t).then(r.resolve,r.reject)},r.reject)}),r.promise},n.prototype.getServiceContributions=function(n){var t=i.defer();return u.using(["VSS/SDK/Host"],function(i){var r=new i.HostManagementService({});r.getServiceContributions(n).then(t.resolve,t.reject)}),t.promise},n.prototype.register=function(n,t){r.globalObjectRegistry.register(n,t)},n.prototype.getRegisteredObject=function(n,t){return r.globalObjectRegistry.getInstance(n,t)},n.prototype.resize=function(){},n}();t.isSdkReferenced=f;t.VSS=f()?window.VSS:new o});
define("VSS/Service",["require","exports","VSS/Authentication/Services","VSS/Context","VSS/Common/Contracts/Platform","VSS/Diag","VSS/Locations","VSS/SDK/Shim","VSS/Utils/String","VSS/VSS"],function(n,t,i,r,u,f,e,o,s,h){function v(n,t,i){return a.getService(n,t,i)}function y(n,t){return c.getConnection(t,u.ContextHostType.ProjectCollection).getService(n)}function p(n,t){return c.getConnection(t,u.ContextHostType.Application).getService(n)}function w(n,t){return c.getConnection(t).getService(n)}function b(n,t,i,r,f){return c.getConnection(t,u.ContextHostType.ProjectCollection).getHttpClient(n,i,r,f)}function k(n,t,i,r,f){return c.getConnection(t,u.ContextHostType.Application).getHttpClient(n,i,r,f)}function d(n,t,i,r,u){return c.getConnection(t).getHttpClient(n,i,r,u)}var c=function(){function n(t,i){this._webContext=t||r.getDefaultWebContext();this._hostType=i||this._webContext.host.hostType;this._hostContext=n.getHostContext(this._webContext,i);this._services={};this._httpClients={}}return n.getConnection=function(t,i){var f,e;return t||(t=r.getDefaultWebContext()),i||(i=t.host.hostType),f=n.getHostContext(t,i).uri,i===u.ContextHostType.ProjectCollection&&t.project&&(f+="/"+t.project.id,t.team&&(f+="/"+t.team.id)),e=n._connectionsCache[f],e||(e=new n(t,i),n._connectionsCache[f]=e),e},n.getHostContext=function(n,t){var i;if(i=t===u.ContextHostType.ProjectCollection?n.collection:t===u.ContextHostType.Application?n.account:n.host,!i)throw new Error("Desired host type not supported on the given web context");return i},n.prototype.getWebContext=function(){return this._webContext},n.prototype.getHostContext=function(){return this._hostContext},n.prototype.getHostType=function(){return this._hostType},n.prototype.getHostUrl=function(){return window.self!==window.top?this._hostContext.uri:encodeURI(this._hostContext.relativeUri)},n.prototype.getService=function(n,t){t===void 0&&(t=!0);var i,r;return r="vssService."+h.getTypeName(n),t&&(i=this._services[r]),i||(i=new n,i.initializeConnection(this),t&&(this._services[r]=i)),i},n.prototype.getHttpClient=function(n,t,u,e){var p=this,a,l,c,v,y;return t||(t=n.serviceInstanceId),t&&(t=t.toLowerCase()),a=t&&!u&&r.getPageContext().webAccessConfiguration.isHosted&&!s.equals(t,r.getPageContext().serviceInstanceId,!0),l="vssHttpClient."+h.getTypeName(n),a&&(l+="."+t),e&&(l+="."+JSON.stringify(e)),c=this._httpClients[l],c||(v=this.getHostUrl(),u&&(v=this._hostContext.uri),c=new n(v,e),u?c.authTokenManager=u:a?(y=this.beginGetServiceUrl(t,this._hostType,!0).then(function(n){c._rootRequestPath=n;p._isSameOrigin(n)&&window.self===window.top||(c.authTokenManager=i.getAuthTokenManager())}),c._setInitializationPromise(y),c.forceOptionsCallForAutoNegotiate=!0):window.self!==window.top&&o.isSdkReferenced()&&(c.authTokenManager=i.getAuthTokenManager()),this._httpClients[l]=c),c},n.prototype.beginGetServiceUrl=function(n,t,i){return i===void 0&&(i=!1),t||(t=this._hostType),e.beginGetServiceLocation(n,t,this._webContext,i)},n.prototype._isSameOrigin=function(n){var t=s.format("{0}//{1}",window.location.protocol,window.location.host).toLowerCase();return n.toLowerCase().indexOf(t)===0},n._connectionsCache={},n}(),l,a;t.VssConnection=c;l=function(){function n(){}return n.prototype.getConnection=function(){return this._connection},n.prototype.getWebContext=function(){return this._connection.getWebContext()},n.prototype.initializeConnection=function(n){this._connection=n},n}();t.VssService=l;a=function(){function n(){}return n.getService=function(n,t,i){t=t!==!1;i||(i=r.getDefaultWebContext());var u,e="vssLocalService."+h.getTypeName(n);return t&&(u=this._services[e]),u||(u=new n(i),t&&(this._services[e]=u)),u},n._services={},n}();t.getLocalService=v;t.getCollectionService=y;t.getApplicationService=p;t.getService=w;t.getCollectionClient=b;t.getApplicationClient=k;t.getClient=d;h.tfsModuleLoaded("VSS.OM",t)});
define("VSS/WebApi/RestClient",["require","exports","q","VSS/Ajax","VSS/Serialization","VSS/Utils/Core"],function(n,t,i,r,u,f){var e=function(){function n(t,r){this.forceOptionsCallForAutoNegotiate=!1;this._rootRequestPath=t;this._locationsByAreaPromises=n.createLocationsByAreaPromisesCache();this._initializationPromise=i.fcall(function(){return!0});this._options=r||{}}return n.prototype._setInitializationPromise=function(n){n&&(this._initializationPromise=n)},n.prototype._beginRequest=function(n,t){var r=this,u;return t===void 0&&(t=!1),u=i.defer(),!this.forceOptionsCallForAutoNegotiate&&n.routeTemplate?this._initializationPromise.then(function(){var i=r.getRequestUrl(n.routeTemplate,n.area,n.resource,n.routeValues,n.queryParams);r._beginRequestToResolvedUrl(i,n.apiVersion,n,u,t)}):this._beginGetLocation(n.area,n.locationId).then(function(i){var f=r.getRequestUrl(i.routeTemplate,i.area,i.resourceName,n.routeValues,n.queryParams),e=r._autoNegotiateApiVersion(i,n.apiVersion);r._beginRequestToResolvedUrl(f,e,n,u,t)}),u.promise},n.prototype._autoNegotiateApiVersion=function(n,t){var u;if(t){var s=new RegExp("(\\d+(\\.\\d+)?)(-preview(\\.(\\d+))?)?"),r,e,o=!1,f,i=s.exec(t);i&&i[1]&&(r=+i[1],e=i[1],i[3]&&(o=!0,i[5]&&(f=+i[5])),(r<=+n.releasedVersion||!f&&r<=+n.maxVersion&&o||f&&r<=+n.maxVersion&&f<=+n.resourceVersion)&&(u=t))}return u||(u=r<+n.maxVersion?e+"-preview":n.maxVersion===n.releasedVersion?n.maxVersion:n.maxVersion+"-preview."+n.resourceVersion),u},n.prototype._beginRequestToResolvedUrl=function(n,t,i,f,e){var o={},h,s,c,l;o.type=i.httpMethod||"GET";s=i.data;!i.isRawData&&s&&i.requestType&&(s=u.ContractSerializer.serialize(s,i.requestType,!0));!i.isRawData&&s&&o.type.toUpperCase()!=="GET"?(o.data=JSON.stringify(s),o.processData=!1,o.jsonp=!1):o.data=s;i.isRawData&&(o.processData=!1);i.httpResponseType&&i.httpResponseType.toLowerCase()!=="json"&&i.httpResponseType.toLowerCase()!=="application/json"?i.httpResponseType.toLowerCase()==="zip"||i.httpResponseType.toLowerCase()==="application/zip"?(h="application/zip",o.dataType=r.CustomTransportDataTypes.Binary):i.httpResponseType.toLowerCase()==="binary"||i.httpResponseType.toLowerCase()==="octet-stream"||i.httpResponseType.toLowerCase()==="application/octet-stream"?(h="application/octet-stream",o.dataType=r.CustomTransportDataTypes.Binary):i.httpResponseType.toLowerCase()==="text"||i.httpResponseType.toLowerCase()==="text/plain"?(h="text/plain",o.dataType="text",o.converters={}):(h="*/*",o.dataType=i.httpResponseType,o.converters={}):(h="application/json",o.dataType="json");i.timeout?o.timeout=i.timeout:this._options.timeout&&(o.timeout=this._options.timeout);c=h;t&&(c+=";api-version="+t);this._options.includeUrls||(c+=";excludeUrls=true");o.headers=$.extend({Accept:c,"Content-Type":"application/json"},i.customHeaders);l=this._issueAjaxRequest(n,o,!0,{showProgressIndicator:this._options.showProgressIndicator,sessionId:this._options.sessionId,command:this._options.command});l.spread(function(n,t,r){var o=u.ContractSerializer.deserialize(n,i.responseType,!1,i.responseIsCollection);f.resolve(e===!0?[o,t,r]:o)},f.reject)},n.prototype._beginRequestWithAjaxResult=function(n){return this._beginRequest(n,!0)},n.prototype._issueAjaxRequest=function(n,t,i,u){return i===void 0&&(i=!1),u=$.extend({authTokenManager:this.authTokenManager,useAjaxResult:i},u),r.issueRequest(n,t,u)},n.prototype._beginGetLocation=function(n,t){var i=this;return this._initializationPromise.then(function(){return i.beginGetAreaLocations(n)}).then(function(i){var r=i[(t||"").toLowerCase()];if(!r)throw new Error("Failed to find api location for area: "+n+" id: "+t);return r})},n.processOptionsRequestResponse=function(n){var t={};return $.each(n.value,function(n,i){t[i.id.toLowerCase()]=i}),t},n.initializeLocationsByAreaJsonIslandCacheIfNecessary=function(){var t,r,u,e;if(!n.cacheFromJsonIslands)for(n.cacheFromJsonIslands=Object.create(null),t=void 0;t=f.parseJsonIsland($(document),".area-locations",!0);)r=t.value,r.length>0&&(u=n.processOptionsRequestResponse(t),e=r[0].area,n.cacheFromJsonIslands[e]=i.resolve(u))},n.createLocationsByAreaPromisesCache=function(){return n.initializeLocationsByAreaJsonIslandCacheIfNecessary(),Object.create(n.cacheFromJsonIslands)},n.prototype.beginGetAreaLocations=function(t){var i=this._locationsByAreaPromises[t],r;return i||(r=this._rootRequestPath+n.APIS_RELATIVE_PATH+"/"+t,i=this._issueAjaxRequest(r,{type:"OPTIONS"}).then(n.processOptionsRequestResponse),this._locationsByAreaPromises[t]=i),i},n.prototype.getRequestUrl=function(n,t,i,r,u){var f,o,e;return r=r||{},r.area||(r.area=t),r.resource||(r.resource=i),f=this._rootRequestPath+this.replaceRouteValues(n,r),u&&(o=f.indexOf("?")!==-1,$.each(u,function(n,t){t instanceof Date?u[n]=t.toJSON():t===null&&(u[n]=undefined)}),e=$.param($.extend({},u)),e&&(f+=(o?"&":"?")+e)),f},n.prototype.replaceRouteValues=function(n,t){for(var f="",r="",o="",s=!1,h=n.length,u,e,c,i=0;i<h;i++)u=n[i],s?u=="}"?(s=!1,e=t[o],typeof e=="undefined"&&(c=o.replace(/[^a-z0-9]/ig,""),e=t[c]),e!==null&&typeof e!="undefined"&&e!==""&&(r+=encodeURIComponent(e)),o=""):o+=u:u=="/"?r&&(f&&(f+="/"),f+=r,r=""):u=="{"?i+1<h&&n[i+1]=="{"?(r+=u,i++):s=!0:u=="}"?(r+=u,i+1<h&&n[i+1]=="}"&&i++):r+=u;return r&&(f&&(f+="/"),f+=r),f},n.prototype._getLinkResponseHeaders=function(n){var r={},u=n.getAllResponseHeaders(),f=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,e=/\<(.*?)\>;rel=\"(.*?)\"/g,t,i;if(u)while(t=f.exec(u))if(t[1].toLowerCase()==="link")while(i=e.exec(t[2]))r[i[2]]=i[1];return r},n.APIS_RELATIVE_PATH="_apis",n.DEFAULT_REQUEST_TIMEOUT=3e5,n}();t.VssHttpClient=e});
define("VSS/Telemetry/RestClient",["require","exports","VSS/Service","VSS/WebApi/RestClient"],function(n,t,i,r){"use strict";function a(n){return window.VSS&&window.VSS.VssSDKRestVersion&&c[window.VSS.VssSDKRestVersion]?i.getClient(c[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):i.getClient(e,undefined,undefined,undefined,n)}var u=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype.publishEvents=function(n){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"customerintelligence",locationId:"b5cc35c2-ff2b-491d-a085-24b6e9f396fd",resource:"Events",routeTemplate:"_apis/{area}/{resource}",apiVersion:this.eventsApiVersion,data:n})},t}(r.VssHttpClient),f,o,e,s,h,l,c;t.CommonMethods2To3=u;f=function(n){function t(t,i){n.call(this,t,i);this.eventsApiVersion="3.0-preview.1"}return __extends(t,n),t}(u);t.CustomerIntelligenceHttpClient3=f;o=function(n){function t(t,i){n.call(this,t,i);this.eventsApiVersion="2.3-preview.1"}return __extends(t,n),t}(u);t.CustomerIntelligenceHttpClient2_3=o;e=function(n){function t(t,i){n.call(this,t,i);this.eventsApiVersion="2.2-preview.1"}return __extends(t,n),t}(u);t.CustomerIntelligenceHttpClient2_2=e;s=function(n){function t(t,i){n.call(this,t,i);this.eventsApiVersion="2.1-preview.1"}return __extends(t,n),t}(u);t.CustomerIntelligenceHttpClient2_1=s;h=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t}(u);t.CustomerIntelligenceHttpClient2=h;l=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t}(f);t.CustomerIntelligenceHttpClient=l;c={"3.0":f,"2.3":o,"2.2":e,"2.1":s,"2.0":h};t.getClient=a});
define("VSS/Telemetry/Services",["require","exports","q","VSS/Context","VSS/Common/Contracts/Platform","VSS/Service","VSS/Telemetry/RestClient","VSS/Utils/Core","VSS/VSS","VSS/Diag"],function(n,t,i,r,u,f,e,o,s,h){function y(){return c&&c.appInsightsConfiguration&&c.appInsightsConfiguration.enabled}function b(){return a.slice()}function k(n,t){t===void 0&&(t=!1);t?v.publish(n):v.delayedPublish(n)}function d(){return v.flush()}var l,c,p;(function(n){function s(){return i}function h(){return e}function l(){return o}function y(n){t=n;var i={instrumentationKey:n.instrumentationKey};c&&(c.webContext.user&&(i.appUserId=c.webContext.user.id),c.webContext.account&&(i.accountId=c.webContext.account.id));f=window.appInsights||function(t){function e(n){i[n]=function(){var t=arguments;i.queue.push(function(){i[n].apply(i,t)})}}var i={config:t},u=document,o=window,s="script",h=u.createElement(s),r,f;for(h.src=t.url||n.insightsScriptUrl,u.getElementsByTagName(s)[0].parentNode.appendChild(h),i.cookie=u.cookie,i.queue=[],r=["Event","Exception","Metric","PageView","Trace"];r.length;)e("track"+r.pop());return t.disableExceptionTracking||(r="onerror",e("_"+r),f=o[r],o[r]=function(n,t,u,e,o){var s=f&&f(n,t,u,e,o);return s!==!0&&i["_"+r](n,t,u,e,o),s}),i}(i);window.appInsights=f;p();n.autoTrackPage&&v(s(),h(),l())}function p(){var n=r.getPageContext(),f;t&&t.customTrackPageData&&t.customTrackPageData.pageName?i=t.customTrackPageData.pageName:n&&(i=n.navigation.currentController+"/"+n.navigation.currentAction,t&&t.trackProjectInfo?(n.webContext.collection&&(i=i+"/"+n.webContext.collection.name),n.webContext.project&&(i=i+"/"+n.webContext.project.name),n.navigation.topMostLevel===u.NavigationContextLevels.Team&&(i=i+"/"+n.webContext.team.name)):(f=n.navigation.topMostLevel===u.NavigationContextLevels.Team?"team":n.webContext.project?"project":n.webContext.collection?"collection":"account",i=i+"/"+f),n.navigation.area&&(i=i+"/"+n.navigation.area));t&&t.customTrackPageData&&t.customTrackPageData.properties?e=t.customTrackPageData.properties:n&&(e={hasQueryString:location.search?"true":"false",hasHashPath:location.hash?"true":"false"},t&&t.trackProjectInfo&&(n.webContext.collection&&(e.Collection=n.webContext.collection.name),n.webContext.project&&(e.TeamProject=n.webContext.project.name),n.navigation.topMostLevel===u.NavigationContextLevels.Team&&(e.Team=n.webContext.team.name)));t&&t.customTrackPageData&&t.customTrackPageData.metrics&&(o=t.customTrackPageData.metrics)}function w(n,t,i,r){if(f){var u,e;i&&(u=$.extend({},i));(r||r===0)&&(e={elapsed:r});a(t+"/"+n,u,e)}}function a(n,t,i){f&&f.trackEvent(n,t,i)}function v(n,t,i){f&&f.trackPageView(n,null,t,i)}var f,t,i,e,o;n.getPageName=s;n.getPageProperties=h;n.getPageMetric=l;n.configureAppInsights=y;n.trackWebEvent=w;n.logEvent=a;n.logPageView=v})(l||(l={}));c=r.getPageContext();y()&&l.configureAppInsights(c.appInsightsConfiguration);p=function(){function n(n,t,i,u,f){this.area=n;this.feature=t;this.properties=i;u&&(this.elapsedTime=Date.now()-u,this.properties.StartTime=u);f&&(this.elapsedTime=f);var e=r.getPageContext();e&&e.diagnostics.sessionId&&(this.properties.SessionId=e.diagnostics.sessionId)}return n.fromProperty=function(t,i,r,u,f,e){var o={};return o[r]=u,new n(t,i,o,f,e)},n}();t.TelemetryEventData=p;var w=function(){function n(){var t=this;this._retries=0;this._items=[];this._delayFunction=new o.DelayedFunction(this,1e3,"TelemetryPublish",function(){var i=!1;window.performance&&window.performance.timing?window.performance.timing.loadEventEnd&&window.performance.timing.loadEventEnd>0&&(i=!0):i=!0;!i&&t._retries<n.MAX_RETRIES?(t._retries++,t._delayFunction.reset()):t.flush()})}return n.prototype._getHttpClient=function(){return f.getClient(e.CustomerIntelligenceHttpClient,undefined,undefined,undefined,{showProgressIndicator:!1})},n.prototype.delayedPublish=function(n){n.elapsedTime&&(n.properties.ElapsedTime=n.elapsedTime);this._items.push(n);this._delayFunction.isPending()||this._delayFunction.start()},n.prototype.flush=function(){var n=this._items;return this._items=[],this._publish(n)},n.prototype.publish=function(n){return this._publish([n])},n.prototype._publish=function(n){if(n.length===0)return i.resolve(null);var t=n.map(function(n){var t={area:n.area,feature:n.feature,properties:$.extend({},n.properties)};return n.elapsedTime&&(t.properties.ElapsedTime=n.elapsedTime),t}),r=this._getHttpClient().publishEvents(t);return y()&&$.each(this._items,function(n,t){l.trackWebEvent(t.feature,t.area,t.properties,t.elapsedTime)}),h.getDebugMode()&&(a=a.concat(t)),r},n.MAX_RETRIES=5,n}(),a=[],v=new w;t.getPublishedEvents=b;t.publishEvent=k;t.flush=d;s.tfsModuleLoaded("VSS.Telemetry",t)});
define("VSS/Performance",["require","exports","VSS/Bundling","VSS/Context","VSS/Diag","VSS/Serialization","VSS/Telemetry/Services","VSS/Utils/Array","VSS/VSS"],function(n,t,i,r,u,f,e,o,s){function tt(){return v.getInstance()}function it(){return new v}function c(n){var t={},i;return t.total=n.length,t.cached=0,t.duration=0,i=r.getPageContext().diagnostics.isDevFabric?4:25,n.forEach(function(n){var r=n.duration,u=n.duration<i;n.requestStart&&n.responseStart&&n.responseEnd&&(r=n.responseEnd-n.requestStart,u=n.responseStart-n.requestStart<i);t.duration+=r;u&&t.cached++}),t}function p(){return h.getEntriesByType("resource")||[]}function rt(n){return h.getEntriesByName(n)||[]}function w(){var n=p(),t={scripts:c(n.filter(function(n){return n.initiatorType==="script"})),styles:c(n.filter(function(n){return n.initiatorType==="link"})),ajax:c(n.filter(function(n){return n.initiatorType==="xmlhttprequest"})),other:c(n.filter(function(n){return n.initiatorType!=="script"&&n.initiatorType!=="link"&&n.initiatorType!=="xmlhttprequest"})),all:c(n),scriptsTotalSize:i.getBundledScriptContentSize(),cssTotalSize:i.getBundledCssContentSize(),bundleLoads:ut()};return h.getEntriesByName("requireStart").length>0&&(t.requireStartTime=h.getEntriesByName("requireStart")[0].startTime),t}function ut(){for(var i,r=[],u=b("startLoadBundleOuter","endLoadBundleOuter","loadBundleOuter"),l=b("startLoadBundleInner","endLoadBundleInner","loadBundleInner"),t=0;t<u.length;t++){var n=u[t],f=n.substring(n.indexOf("-")+1),e="loadBundleInner-"+f,o=0,s=0;if(h.getEntriesByName(n).length>0){var c=h.getEntriesByName(n)[0],a=c.duration,v=c.startTime;l.filter(function(n){return n===e}).length>0&&h.getEntriesByName(n).length>0&&(i=h.getEntriesByName(e)[0],o=i.duration,s=i.startTime);r.push({bundleName:f,innerLoad:o,innerStartTime:s,outerLoad:a,outerStartTime:v})}}return r}function b(n,t,i){for(var r,e=[],o=h.getEntriesByType("mark").filter(function(t){return t.name.indexOf(n)===0}),l=h.getEntriesByType("mark").filter(function(n){return n.name.indexOf(t)===0}),u=0;u<o.length;u++){var f=o[u].name,s=f.substring(f.indexOf("-")+1),c=t+"-"+s;l.filter(function(n){return n.name===c}).length>0&&(r=i+"-"+s,h.getEntriesByName(r).length===0&&h.measure(r,f,c),e.push(r))}return e}function k(n){var f=[],c,i,e,t,r,l,o;try{for(c=[{name:"PLT",startEvent:"navigationStart",endEvent:"loadEventEnd",isAggregate:!0},{name:"Redirect",startEvent:"redirectStart",endEvent:"redirectEnd"},{name:"Unload",startEvent:"unloadEventStart",endEvent:"unloadEventEnd"},{name:"Fetch",startEvent:"fetchStart",endEvent:"domainLookupStart"},{name:"DNS",startEvent:"domainLookupStart",endEvent:"domainLookupEnd"},{name:"TCP",startEvent:"connectStart",endEvent:"connectEnd"},{name:"Request",startEvent:"connectEnd",endEvent:"responseStart"},{name:"Server Time",startEvent:"connectEnd",endEvent:"responseEnd",isAggregate:!0},{name:"Response",startEvent:"responseStart",endEvent:"responseEnd"},{name:"DOMProcessing",startEvent:"domLoading",endEvent:"domComplete"},{name:"onLoad",startEvent:"loadEventStart",endEvent:"loadEventEnd"},{name:"Initial Require Statement",startEvent:"requireStart",endEvent:"requireEnd",isAggregate:!0},{name:"Network Time",startEvent:"domainLookupStart",endEvent:"connectEnd"},{name:"PreRequest",startEvent:"navigationStart",endEvent:"connectEnd",isAggregate:!0},{name:"RequestResponse",startEvent:"connectEnd",endEvent:"responseEnd",isAggregate:!0},{name:"FetchResources",startEvent:"responseEnd",endEvent:"requireStart",isAggregate:!0}],i=0,e=c;i<e.length;i++){if(t=e[i],r=h.getEntriesByName(t.name),r.length===0){if(h.getTimingByName(t.startEvent)==null&&h.getEntriesByName(t.startEvent).length===0||h.getTimingByName(t.endEvent)==null&&h.getEntriesByName(t.endEvent).length===0)continue;h.measure(t.name,t.startEvent,t.endEvent);r=h.getEntriesByName(t.name)}l=r.map(function(n){return{name:n.name,startTime:n.startTime,duration:n.duration}})[0];t.perfEntry=l;f.push(t)}}catch(a){u.logWarning("Failed to record navigation events: "+s.getErrorMessage(a))}return n&&(o={name:"TTI",perfEntry:{name:"TTI",duration:n.getDuration(),startTime:0},startEvent:"navigationStart",endEvent:n.getName(),isAggregate:!0},o&&f.push(o)),f}function l(){return Date.now()}function ft(){var n=h.getTimingByName("navigationStart");return n===null&&(n=0),n}function d(){if(!a){a={};var n=f.deserializeJsonIsland($(".vss-web-page-data"),null);n&&n.resolvedProviders&&n.resolvedProviders.forEach(function(n){a[n.id]=n.duration||0})}return a}var g="Performance",nt="Scenario",h,y,v,a;(function(n){function i(n){window.performance&&window.performance.mark&&window.performance.mark(n)}function r(n,i,r){t(i)&&t(r)&&window.performance&&window.performance.measure&&window.performance.measure(n,i,r)}function t(n){var t=window.performance&&window.performance.timing&&window.performance.timing[n]||null;return typeof t=="undefined"||t===null||t>0}function u(n){return window.performance&&window.performance.getEntriesByType&&window.performance.getEntriesByType(n)||[]}function f(n){return window.performance&&window.performance.getEntriesByType&&window.performance.getEntriesByName(n)||[]}function e(){return n.getEntriesByType("measure")}function o(){return n.getEntriesByType("mark")}function s(n){return window.performance&&window.performance.timing&&window.performance.timing[n]||null}n.mark=i;n.measure=r;n.getEntriesByType=u;n.getEntriesByName=f;n.getMeasures=e;n.getMarks=o;n.getTimingByName=s})(h||(h={}));t.getScenarioManager=tt;t._createScenarioManagerForTesting=it;y=function(){function n(n,t,i,r,f,e){if(e===void 0&&(e=!1),this._manager=n,this._featureArea=t,this._name=i,this._correlationId=r,this._startTime=f,this._isPageInteractive=e,this._isActive=!0,this._splitTimings=[],typeof this._startTime=="undefined"){this._startTime=l();this._dropPerformanceMarks=!0;var o=this._getIdentifier();try{h.mark(o+"-start")}catch(c){u.logWarning("Could not add mark '"+o+"': "+s.getErrorMessage(c))}}}return n.prototype.getFeatureArea=function(){return this._featureArea},n.prototype.setFeatureArea=function(n){this._featureArea=n},n.prototype.getName=function(){return this._name},n.prototype.setName=function(n){this._name=n},n.prototype.getDuration=function(){return this._endTime?this._endTime-this._startTime:0},n.prototype.getStartTime=function(){return this._startTime},n.prototype.getCorrelationId=function(){return this._correlationId},n.prototype.getData=function(){return this._data},n.prototype.getSplitTimings=function(){return this._splitTimings},n.prototype.isActive=function(){return this._isActive},n.prototype.isPageInteractive=function(){return this._isPageInteractive},n.prototype.addSplitTiming=function(n,t){var i=this.getName()+"-"+n;try{h.mark(i)}catch(r){u.logWarning("Could not add mark '"+i+"': "+s.getErrorMessage(r))}this._splitTimings.push({name:n,timestamp:l()-this._startTime,elapsedTime:t})},n.prototype.end=function(n){if(!this._isActive){u.logWarning("Attempted to end scenario '"+this._getIdentifier()+"', but it was already ended.");return}this._endTime=n||l();this._isActive=!1;var t=this._getIdentifier();if(this._dropPerformanceMarks)try{h.mark(t+"-end");h.measure(t,t+"-start",t+"-end")}catch(i){u.logWarning("Could not add mark and measure for scenario end: "+s.getErrorMessage(i))}e.publishEvent(this.getTelemetry());this._manager.endScenarioByDescriptor(this)},n.prototype.abort=function(){this._manager.endScenarioByDescriptor(this)},n.prototype.log=function(){},n.prototype.addData=function(n){this._data=$.extend(this._data,n)},n.prototype.getTelemetry=function(){var t=null,i,n;try{i=h.getTimingByName("navigationStart");t=i?this._startTime-i:null}catch(f){u.logWarning("Could not get navigationStart: "+s.getErrorMessage(f))}return n={featureArea:this._featureArea,name:this._name,startTime:t,correlationId:this._correlationId,activityId:r.getPageContext().diagnostics.activityId,splitTimings:JSON.stringify(this._splitTimings),debugMode:u.getDebugMode(),timeZoneOffset:(new Date).getTimezoneOffset(),pageNavigateScenario:t===0},this._data&&(n=$.extend(n,this._data)),this.isPageInteractive()&&(n=$.extend(n,this._getPageInteractiveTelemetryProperties())),{area:g,feature:nt,elapsedTime:this._endTime-this._startTime,properties:n}},n.prototype._getIdentifier=function(){return this._featureArea+"::"+this._name},n.prototype._getPageInteractiveTelemetryProperties=function(){var n=w(),i=k(this.isPageInteractive()?this:null),t={navigationEvents:JSON.stringify(i.map(function(n){return n.perfEntry})),resourceCount:n.all.total,scriptResourceCount:n.scripts.total,scriptResourcesUncached:n.scripts.total-n.scripts.cached,scriptResourcesDuration:n.scripts.duration,cssResourceCount:n.styles.total,cssResourcesUncached:n.styles.total-n.styles.cached,cssResourcesDuration:n.styles.duration,ajaxRequests:n.ajax.total,ajaxRequestsDuration:n.ajax.duration,scriptSize:n.scriptsTotalSize,cssSize:n.cssTotalSize,requireStartTime:n.requireStartTime,screenHeight:window.screen.height,screenWidth:window.screen.width,windowHeight:window.innerHeight,windowWidth:window.innerWidth};return n.scripts.total===n.scripts.cached&&n.styles.total===n.styles.cached?t.warmCache=!0:n.scripts.cached===0&&n.styles.cached===0&&(t.coldCache=!0),n.bundleLoads.length>0&&(t.bundleLoads=JSON.stringify(n.bundleLoads)),t.jsonIslandDataProviders=JSON.stringify(d()),t},n}();v=function(){function n(){this._allScenarios=[];this._scenariosMap={};this._activeScenarios=[];this._scenarioEventHandlers=[];this._startPageLoadScenario()}return n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.prototype.recordPageLoadScenario=function(n,t,i){var f,r;if(!this._pageLoadScenario){u.logWarning("Cannot record page load, scenario wasn't started");return}if(!this._pageLoadScenario.isActive()){u.logWarning("Cannot record page load, scenario already ended");return}f=this._getKey(this._pageLoadScenario.getFeatureArea(),this._pageLoadScenario.getName());delete this._scenariosMap[f];this._pageLoadScenario.setFeatureArea(n);this._pageLoadScenario.setName(t);r=this._getKey(n,t);this._scenariosMap[r]=(this._scenariosMap[r]||[]).concat([this._pageLoadScenario]);this._pageLoadScenario.addData(i);this._pageLoadScenario.end()},n.prototype.startScenarioFromNavigation=function(n,t,i){var r=h.getTimingByName("navigationStart");return r===null&&(u.logWarning("Tried to start scenario "+n+"-"+t+" from navigationStart but browser does not support this. Falling back to current time."),r=l()),this._startScenario(n,t,r,this._getCorrelationId(),i)},n.prototype.startScenario=function(n,t,i,r){return this._startScenario(n,t,i,null,r)},n.prototype.endScenario=function(n,t){var f=this._getKey(n,t),r=this._scenariosMap[f],i;r&&(r.length>1||(i=r[0],i.isActive()&&i.end(),this.endScenarioByDescriptor(i)))},n.prototype.abortScenario=function(n,t){var e=this._getKey(n,t),u=this._scenariosMap[e],r,i,f;if(u)for(r=o.clone(u),i=0,f=r.length;i<f;i++)this.endScenarioByDescriptor(r[i])},n.prototype.getScenarios=function(n,t){return this._scenariosMap[this._getKey(n,t)]||[]},n.prototype.getAllCompletedScenarios=function(){return this._allScenarios.filter(function(n){return!n.isActive()})},n.prototype.split=function(n){for(var r,t=0,i=this._activeScenarios;t<i.length;t++)r=i[t],r.addSplitTiming(n)},n.prototype.endScenarioByDescriptor=function(n){var r=this._getKey(n.getFeatureArea(),n.getName()),t=this._scenariosMap[r],i;t&&(i=t.indexOf(n),t.splice(i,1),t.length===0&&delete this._scenariosMap[r],i=this._activeScenarios.indexOf(n),this._activeScenarios.splice(i,1),this._fireScenarioCompletedEvent(n))},n.prototype._startScenario=function(n,t,i,r,u){var f=new y(this,n,t,r||this._getCorrelationId(),i,u),e=this._getKey(n,t);return this._scenariosMap[e]?this._scenariosMap[e].push(f):this._scenariosMap[e]=[f],this._activeScenarios.push(f),this._allScenarios.push(f),f},n.prototype._startPageLoadScenario=function(){if(!!this._pageLoadScenario){u.logWarning("Page load scenario already started");return}this._pageLoadScenario=this.startScenarioFromNavigation(n.DEFAULT_SCENARIO_AREA,n.DEFAULT_SCENARIO_NAME,!0)},n.prototype._fireScenarioCompletedEvent=function(n){var t=this;try{this._scenarioEventHandlers.forEach(function(i){i.call(t,n)})}catch(i){u.logWarning("Error while updating perf panel: "+s.getErrorMessage(i))}},n.prototype._getKey=function(n,t){return n+"-"+t},n.prototype._getCorrelationId=function(){var n=r.getPageContext();return n&&n.diagnostics&&n.diagnostics.sessionId||null},n.prototype.addScenarioCompletedListener=function(n){$.isFunction(n)&&this._scenarioEventHandlers.push(n)},n.DEFAULT_SCENARIO_AREA="__default",n.DEFAULT_SCENARIO_NAME="__pageload",n}();t.getResourceTimingEntries=p;t.getTimingEntriesByName=rt;t.getResourceStats=w;t.getDefaultNavigationEvents=k;t.getTimestamp=l;t.getNavigationStartTimestamp=ft;t.getJsonIslandDataProviderTiming=d});
define("Gallery/Client/Common/TelemetryInternal",["require","exports","VSS/Performance","VSS/Telemetry/Services","VSS/Telemetry/RestClient","Gallery/Client/Common/Utility.Common","VSS/Service","Gallery/Client/Common/Telemetry","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s){var h=o.CustomerIntelligenceConstants,l=function(){function n(){}return n.publishEvent=function(n,t,i){i===void 0&&(i=!1);var u=f.getCookie(o.CustomerIntelligenceConstants.Cookies.GalleryUserIdentity);t||(t={});u&&u.length>0&&(t.GalleryUserId=u);c.logEvent(n,t);this._reverseMap(n,t);r.publishEvent(new r.TelemetryEventData(o.CustomerIntelligenceConstants.MarketPlaceCustomerIntelligenceArea.MARKETPLACE,n,t),i)},n.prototype._getHttpClient=function(){return e.getClient(u.CustomerIntelligenceHttpClient)},n.publishEventAsync=function(n,t){var i=f.getCookie(o.CustomerIntelligenceConstants.Cookies.GalleryUserIdentity);return i&&i.length>0&&(t.GalleryUserId=i),c.logEvent(n,t),this._reverseMap(n,t),e.getClient(u.CustomerIntelligenceHttpClient).publishEvents([{area:o.CustomerIntelligenceConstants.MarketPlaceCustomerIntelligenceArea.MARKETPLACE,feature:n,properties:t}])},n._reverseMap=function(n,t){switch(n){case h.MarketPlaceIntelligenceFeature.POST_INSTALL_WORKFLOW:case h.MarketPlaceIntelligenceFeature.CONFIRM_BUY_ITEM:case h.MarketPlaceIntelligenceFeature.INITIATE_REQUEST_INSTALL:case h.MarketPlaceIntelligenceFeature.SELECT_ACCOUNT:case h.MarketPlaceIntelligenceFeature.SELECT_AZURE_SUBSCRIPTION:case h.MarketPlaceIntelligenceFeature.ASSIGN_VIEW_VS_SUBSCRIPTION:case h.MarketPlaceIntelligenceFeature.CONFIRM_INSTALL_ITEM:case h.MarketPlaceIntelligenceFeature.VS_ITEM:case h.MarketPlaceIntelligenceFeature.VSTS_ITEM:case h.MarketPlaceIntelligenceFeature.VSCODE_ITEM:case h.MarketPlaceIntelligenceFeature.CREATE_AZURE_SUBSCRIPTION:case h.MarketPlaceIntelligenceFeature.ITEMDETAILSPAGE:case h.MarketPlaceIntelligenceFeature.INITIATE_BUY_ITEM:case h.MarketPlaceIntelligenceFeature.INITIATE_INSTALL_ITEM:case h.MarketPlaceIntelligenceFeature.REQUESTEXTENSION:case h.MarketPlaceIntelligenceFeature.SOCIAL_EVENT_CLICK:case h.MarketPlaceIntelligenceFeature.GET_STARTED_ITEM:case h.MarketPlaceIntelligenceFeature.ITEM_DOWNLOAD:t[h.MarketPlaceIntelligenceProperties.HomePageProperties.Id]&&(t.ItemId=t[h.MarketPlaceIntelligenceProperties.HomePageProperties.Id],delete t[h.MarketPlaceIntelligenceProperties.HomePageProperties.Id]);t[h.MarketPlaceIntelligenceProperties.AcquisitionWorkFlowProperties.AssignedToMe]&&(t.AssignToMe=t[h.MarketPlaceIntelligenceProperties.AcquisitionWorkFlowProperties.AssignedToMe],delete t[h.MarketPlaceIntelligenceProperties.AcquisitionWorkFlowProperties.AssignedToMe]);t[h.MarketPlaceIntelligenceProperties.AcquisitionWorkFlowProperties.ProductType]&&(t.ItemType=t[h.MarketPlaceIntelligenceProperties.AcquisitionWorkFlowProperties.ProductType],delete t[h.MarketPlaceIntelligenceProperties.AcquisitionWorkFlowProperties.ProductType]);t[h.MarketPlaceIntelligenceProperties.AcquisitionWorkFlowProperties.AvailableAccounts]&&(t.NumberOfAccounts=t[h.MarketPlaceIntelligenceProperties.AcquisitionWorkFlowProperties.AvailableAccounts],delete t[h.MarketPlaceIntelligenceProperties.AcquisitionWorkFlowProperties.AvailableAccounts]);t[h.MarketPlaceIntelligenceProperties.ItemDetailsProperties.SectionName]&&(t.EventType=t[h.MarketPlaceIntelligenceProperties.ItemDetailsProperties.SectionName],delete t[h.MarketPlaceIntelligenceProperties.ItemDetailsProperties.SectionName]);break;case h.MarketPlaceIntelligenceFeature.SEARCH:t[h.MarketPlaceIntelligenceProperties.AcquisitionWorkFlowProperties.ProductType]&&(t.ProductPivot=t[h.MarketPlaceIntelligenceProperties.AcquisitionWorkFlowProperties.ProductType],delete t[h.MarketPlaceIntelligenceProperties.AcquisitionWorkFlowProperties.ProductType]);break;case h.MarketPlaceIntelligenceFeature.CATEGORYPAGE:t[h.MarketPlaceIntelligenceProperties.SearchAndCategoryPageProperties.CategoryName]&&(t.categoryName=t[h.MarketPlaceIntelligenceProperties.SearchAndCategoryPageProperties.CategoryName],delete t[h.MarketPlaceIntelligenceProperties.SearchAndCategoryPageProperties.CategoryName]);t[h.MarketPlaceIntelligenceProperties.SearchAndCategoryPageProperties.ProductType]&&(t.productType=t[h.MarketPlaceIntelligenceProperties.SearchAndCategoryPageProperties.ProductType],delete t[h.MarketPlaceIntelligenceProperties.SearchAndCategoryPageProperties.ProductType]);break;case h.MarketPlaceIntelligenceFeature.CAROUSEL:t[h.MarketPlaceIntelligenceProperties.HomePageProperties.Id]&&(t.CarouselNavigate=t[h.MarketPlaceIntelligenceProperties.HomePageProperties.Id],delete t[h.MarketPlaceIntelligenceProperties.HomePageProperties.Id])}},n}(),c,a,v;t.TelemetryHelper=l;c=function(){function n(){}return n.logElapsedTime=function(t){if(t){var i=t.getDuration();n._logDataLayer({event:n.EVENT_USER_TIMING,eventCategory:t.getName(),eventName:"elapsedTime",eventValue:i})}},n.logEvent=function(t,i){var r=n._getCategoryNameForFeature(t),u,f;r!==""&&(u=i?JSON.stringify(i):"",f=this._getCustomDimensionsForCategory(r,i),n._logDataLayer({event:r,eventCategory:r,eventName:t,eventLabel:u},f))},n.logResourceTimings=function(t){if(t&&Object.keys(t).length>0)for(var i in t)t.hasOwnProperty(i)&&n._logDataLayer({event:n.EVENT_USER_TIMING,eventCategory:n.CATEGORY_RESOURCE_TIMINGS,eventName:i,eventValue:t[i].duration})},n._logDataLayer=function(t,i){i&&$.extend(t,i);window[n.DATA_LAYER]&&window[n.DATA_LAYER].push(t)},n._getCategoryNameForFeature=function(n){var t="";switch(n){case o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.INITIATE_INSTALL_ITEM:case o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.CONFIRM_INSTALL_ITEM:case o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.INITIATE_BUY_ITEM:case o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.SELECT_ACCOUNT:case o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.CREATE_AZURE_SUBSCRIPTION:case o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.SELECT_AZURE_SUBSCRIPTION:case o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.CONFIRM_BUY_ITEM:case o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.ASSIGN_VIEW_VS_SUBSCRIPTION:case o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.POST_INSTALL_WORKFLOW:case o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.REQUESTEXTENSION:case o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.INSTALL_WORKFLOW_ERRORS:case o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.INSTALL_WORKFLOW_ABANDON:case o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.BUY_WORKFLOW_ERRORS:case o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.BUY_WORKFLOW_ABANDON:case o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.GET_STARTED_ITEM:case o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.INITIATE_REQUEST_INSTALL:t=o.CustomerIntelligenceConstants.MarketPlaceCustomerIntelligenceCategories.ACQUISITION_WORKFLOW;break;case o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.BUILD_YOUR_OWN:case o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.HOME_PAGE_FOOTER:case o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.VS_ITEM:case o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.HOME_PAGE_OFFERS:case o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.VSTS_ITEM:case o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.VSCODE_ITEM:case o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.CAROUSEL:t=o.CustomerIntelligenceConstants.MarketPlaceCustomerIntelligenceCategories.HOME_PAGE;break;case o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.SEARCH:t=o.CustomerIntelligenceConstants.MarketPlaceCustomerIntelligenceCategories.SEARCH;break;case o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.CATEGORYPAGE:t=o.CustomerIntelligenceConstants.MarketPlaceCustomerIntelligenceCategories.CATEGORY_PAGE;break;case o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.ITEMDETAILSPAGE:case o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.SOCIAL_EVENT_CLICK:case o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.ITEM_DOWNLOAD:t=o.CustomerIntelligenceConstants.MarketPlaceCustomerIntelligenceCategories.ITEM_DETAILS;break;case o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.INSTALL_WORKFLOW_ERRORS:case o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.INSTALL_WORKFLOW_ABANDON:case o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.BUY_WORKFLOW_ERRORS:case o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.BUY_WORKFLOW_ABANDON:case o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.VSGALLERY_ERRORS:case o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.VSSGALLERY_ERRORS:t=o.CustomerIntelligenceConstants.MarketPlaceCustomerIntelligenceCategories.ERRORS}return t},n._getCustomDimensionsForCategory=function(n,t){for(var u={},r=this._getCustomDimensionsForCategoryName(n),i=0;i<r.length;i++)u[r[i]]=t[r[i]]?t[r[i]]:"";return u},n._getCustomDimensionsForCategoryName=function(n){return n===o.CustomerIntelligenceConstants.MarketPlaceCustomerIntelligenceCategories.HOME_PAGE?Object.keys(o.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.HomePageProperties):n===o.CustomerIntelligenceConstants.MarketPlaceCustomerIntelligenceCategories.CATEGORY_PAGE?Object.keys(o.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.SearchAndCategoryPageProperties):n===o.CustomerIntelligenceConstants.MarketPlaceCustomerIntelligenceCategories.SEARCH?Object.keys(o.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.SearchAndCategoryPageProperties):n===o.CustomerIntelligenceConstants.MarketPlaceCustomerIntelligenceCategories.ITEM_DETAILS?Object.keys(o.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.ItemDetailsProperties):n===o.CustomerIntelligenceConstants.MarketPlaceCustomerIntelligenceCategories.ACQUISITION_WORKFLOW?Object.keys(o.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.AcquisitionWorkFlowProperties):[]},n.DATA_LAYER="dataLayer",n.EVENT_CUSTOM="customEvent",n.EVENT_HOMEPAGE="homePageEvent",n.EVENT_USER_TIMING="userTiming",n.CATEGORY_RESOURCE_TIMINGS="Resource timings",n}();t.GAHelper=c;a=function(){function n(){}return n.startScenario=function(n,t){return i.getScenarioManager().startScenario(o.PerformanceConstants.Area,n,t)},n.abortScenario=function(n){if(n)return i.getScenarioManager().abortScenario(o.PerformanceConstants.Area,n)},n.startScenarioFromNavigation=function(n){return i.getScenarioManager().startScenarioFromNavigation(o.PerformanceConstants.Area,n)},n.endScenario=function(n,t,r){t===void 0&&(t=!0);r===void 0&&(r=200);t&&this.attachResourceTimings(n,r);var u=i.getScenarioManager().getScenarios(o.PerformanceConstants.Area,n).slice(0);i.getScenarioManager().endScenario(o.PerformanceConstants.Area,n);u&&u.length>0&&c.logElapsedTime(u[0])},n.split=function(n){return i.getScenarioManager().split(n)},n.attachResourceTimings=function(n,t){var s=this,u=i.getScenarioManager().getScenarios(o.PerformanceConstants.Area,n),h,r;if(u&&u.length!==0&&(h=u[0],window&&window.performance&&window.performance.getEntriesByType)&&(r=window.performance.getEntriesByType("resource"),r&&r.length!==0)){var c={},f=Number.MAX_VALUE,e=0;r.forEach(function(n){s.isJSOrCSSFile(n.name)&&n.duration>t&&(c[n.name]={duration:n.duration,responseStartTime:n.responseStart-n.startTime,startTime:n.startTime},s.isAsyncBundle(n.name)||(n.requestStart<f&&(f=n.requestStart),n.responseEnd>e&&(e=n.responseEnd)))});h.addData({resourceTimings:JSON.stringify(c),totalTimeToDownloadResources:e-f})}},n.addDataToScenario=function(n,t){var r=i.getScenarioManager().getScenarios(o.PerformanceConstants.Area,n),u;r&&r.length!==0&&(u=r[0],t&&u.addData(t))},n.isJSOrCSSFile=function(n){for(var i=[".js",".css","corejs","GalleryCommon","GalleryCore","corecss","Combined.css","Content?bundle=","vss-bundle"],r=i.length,t=0;t<r;t++)if(s.caseInsensitiveContains(n,i[t]))return!0;return!1},n.isAsyncBundle=function(n){for(var i=["vss-bundle-async","corejs","GalleryCore","VSS.Resources"],r=i.length,t=0;t<r;t++)if(s.caseInsensitiveContains(n,i[t]))return!0;return!1},n}();t.GalleryPerformance=a;v=function(){function n(){}return n.logVSError=function(n){l.publishEvent(o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.VSGALLERY_ERRORS,n,!0)},n.logVSSError=function(n){l.publishEvent(o.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.VSSGALLERY_ERRORS,n,!0)},n}();t.ErrorLog=v});
define("Gallery/Client/Controls/Carousel/Carousel.ViewModel",["require","exports","VSS/Diag","Gallery/Client/Common/Telemetry","Gallery/Client/Common/TelemetryInternal","knockout","VSS/Adapters/Knockout"],function(n,t,i,r,u,f,e){var o=r.CustomerIntelligenceConstants.MarketPlaceIntelligenceProperties.HomePageProperties,s=function(n){function t(t){var o,u,e,r;if(n.call(this),this.items=f.observableArray([]),this.numberOfItemsToRender=f.observable(0),this.viewPortStartIndex=f.observable(0),this.itemWidth=0,this.indicators=[],this.selectedIndicatorIndex=f.observable(0),this._autoPlay=!1,this._autoPlayDuration=5e3,this._delayRenderingOfItemsNotInViewport=!1,this.items(t.items),this.itemsDisplayTemplate=t.itemTemplate,this.numberOfItemsToDisplay=t.numberOfItemsToDisplay?t.numberOfItemsToDisplay:1,this._carouselId=t.carouselId,this._noShadow=t.noShadow,t.delayRenderingOfItemsNotInViewport?(this._delayRenderingOfItemsNotInViewport=!0,this.numberOfItemsToRender(this.numberOfItemsToDisplay)):this.numberOfItemsToRender(this.items().length),o=t.showIndicators?t.showIndicators:!1,o&&(u=Math.floor(this.items().length/this.numberOfItemsToDisplay),e=this.items().length%this.numberOfItemsToDisplay==0?u:u+1,e>1))for(r=0;r<e;r++)this.indicators.push(r);t.autoPlay&&this.items().length>this.numberOfItemsToDisplay&&(this._autoPlay=!0,t.autoPlayDuration&&(this._autoPlayDuration=t.autoPlayDuration),this._startAutoPlay())}return __extends(t,n),t.prototype._updateViewPortIndexForAutoPlay=function(){var n=this.selectedIndicatorIndex();n<this.indicators.length-1?this.selectIndicator(n+1):this.selectIndicator(0)},t.prototype._resetAutoPlayTimer=function(){this._autoPlay&&(this._clearAutoPlayTimer(),this._startAutoPlay())},t.prototype._clearAutoPlayTimer=function(){this._autoPlayTimer&&window.clearInterval(this._autoPlayTimer)},t.prototype._startAutoPlay=function(){var n=this;this._autoPlayTimer=window.setInterval(function(){n._updateViewPortIndexForAutoPlay()},this._autoPlayDuration)},t.prototype._refreshIndicatorAndResetAutoPlayTimer=function(){this._refreshSelectedIndicator();this._resetAutoPlayTimer()},t.prototype.scrollLeft=function(){var n=this.viewPortStartIndex()-this.numberOfItemsToDisplay;n>=0?(this.viewPortStartIndex(n),this._refreshIndicatorAndResetAutoPlayTimer()):n+this.numberOfItemsToDisplay>0&&(this.viewPortStartIndex(0),this._refreshIndicatorAndResetAutoPlayTimer());this._carouselId&&this._logTelemetry("left")},t.prototype.scrollRight=function(){var t=this.items().length,n;this._delayRenderingOfItemsNotInViewport&&this.numberOfItemsToRender(t);n=this.viewPortStartIndex()+this.numberOfItemsToDisplay;n<t&&(n+this.numberOfItemsToDisplay>t&&(n=t-this.numberOfItemsToDisplay),this.viewPortStartIndex(n),this._refreshIndicatorAndResetAutoPlayTimer());this._carouselId&&this._logTelemetry("right")},t.prototype._logTelemetry=function(n){var t={};t[o.Id]=this._carouselId;t[o.ScrollDirection]=n;u.TelemetryHelper.publishEvent(r.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.CAROUSEL,t)},t.prototype._refreshSelectedIndicator=function(){var n=Math.floor(this.viewPortStartIndex()/this.numberOfItemsToDisplay);this.selectedIndicatorIndex(this.viewPortStartIndex()%this.numberOfItemsToDisplay?n+1:n)},t.prototype.selectIndicator=function(n){var t=n*this.numberOfItemsToDisplay,i=this.items().length;t<i&&(t+this.numberOfItemsToDisplay>i&&(t=i-this.numberOfItemsToDisplay),this.selectedIndicatorIndex(n),this.viewPortStartIndex(t),this._resetAutoPlayTimer())},t}(e.TemplateViewModel);t.CarouselViewModel=s});
define("Gallery/Client/Controls/ErrorControl/ErrorControl.View",["require","exports","VSS/Adapters/Knockout"],function(n,t,i){var r=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(i.TemplateControl);t.ErrorControlView=r});
define("Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery",["require","exports"],function(require,exports){var e=exports;e.BuyRedirectText="To buy this extension, click Continue.";e.AccountSelectionHelpTextForTrial="Select a Visual Studio Team Services account where you would like to start a 30-day trial";e.CancelButtonText="Cancel";e.Publisher_QuickStart_UnpublishGuideBubbleContentHtml="Your extension is now visible on the Marketplace (\u003ca href=\"{0}\" target=\"_blank\"\u003esee it\u003c/a\u003e) and can be discovered and installed from every Visual Studio Team Services account.\u003cbr\u003e\u003cbr\u003eMade a mistake? \u003ca href=\"{1}\" target=\"_blank\"\u003eHow to unpublish\u003c/a\u003e";e.SignInText="sign in";e.VSSCollectionAlreadyInstalledText="The extension is already installed for this collection: {0}";e.Azure_Marketplace="Azure Marketplace";e.UserAvatarDoesNotExist="The user avatar does not exist.";e.HockeyApp45AppsCost="$60/month";e.ExtensionRequestLearnMoreLink="";e.TermsAndConditionsText="terms and conditions";e.Publisher_QuickStart_InstallGuideBubbleNeedHelpContentHtml="Learn about \u003ca href=\"{0}\" target=\"_blank\"\u003einstalling extensions\u003c/a\u003e";e.EulaTitle="License Agreement";e.Header_Support="Support";e.ReviewText="Review";e.AccountSelectionReadOnlyText_Request="You are requesting this extension to be installed on account:";e.VSS_BuyExtension_Current="Current";e.HostedOnFilterOption_Cloud="Cloud";e.StartTrialText="Start Trial";e.SuggestionsListBuildOwnText="build your own extensions";e.HeaderProductName="Visual Studio Team Services Market";e.VSS_Install_RequestSuccessMessage="Your request to install the extension has been submitted for account:";e.VSEnterpriseMonthlyCost="$250/month";e.VSCategories_Language_Link="https://visualstudiogallery.msdn.microsoft.com/site/search?f[0].Type=RootCategory\u0026f[0].Value=tools\u0026f[0].Text=Tools\u0026f[1].Type=SubCategory\u0026f[1].Value=languages";e.Publisher_ExtensionGrid_ValidationFailedIconTitle="Extension validation failed. Click the icon for more details.";e.ItemPreview="Preview";e.EulaContent_Offer_CustomLicense="By clicking Confirm, you agree to the {2}";e.ItemDetailsNo="No";e.ItemPricing="Pricing";e.Contact_Us="Contact us";e.NoReviewsYetMessage="Be the first to review this extension";e.PublishStatusText="Downloading extension and geting ready for installation.";e.EAPricingMsg="Pricing available through the EA price list or by contacting your reseller";e.ManageExtensionsButtonText="Manage extensions";e.VSCategories_WinForms_Link="https://visualstudiogallery.msdn.microsoft.com/site/search?f[0].Type=RootCategory\u0026f[0].Value=controls\u0026f[0].Text=Controls\u0026f[1].Type=SubCategory\u0026f[1].Value=windowsformscontrols";e.ValidateSubscription_ErrorMessage="Sorry, we are unable to check the subscription information. Give it a few minutes and then please try again.";e.GetStartedButtonText="Get started";e.InstallButtonText="Install*";e.Publisher_ManageDialog_WelcomeReviewStepTitle="Step 2: Review policies";e.ReductionsMsg="Cancellations take effect on the 1st of the next month.";e.ItemAlreadyInstalled="Already Installed";e.SuggestionsListBuildOwnParentText="You can also {0} and {1}";e.CategoryFilterTitle="Showing:";e.RatingAndReviewProfaneText="profanity";e.SuggestionsListPublishText="publish it to the marketplace";e.SubscriptionCannotBeUsedForPurchase="This Azure subscription cannot be used to purchase.  Please select another subscription.";e.EulaContent_Microsoft_CustomLicense="By clicking Confirm, you agree on behalf of all users in the {0} that this extension is provided under these {2}.";e.PricingNotAvailableHockeyApp="\u003ca href=\"https://aka.ms/hockeyapppricing\" target=\"_blank\"\u003eView pricing information\u003c/a\u003e";e.Integration="Integration";e.DowngradeMsg="The new monthly billing amount and reduced users will take effect on the 1st of the next month.";e.CollectionSelectionReadOnlyText_Request="You are requesting this extension to be installed in collection:";e.RequestReceivedText="Request received";e.Publisher_ExtensionGrid_PaidContextMenuText="Enable Commerce...";e.PurchaseFailed_ErrorMessage="Sorry, we are unable to complete the purchase currently. Give it a few minutes and then please try again.";e.FeaturedItems_Header="Featured";e.MySubscriptions="My Subscriptions";e.AllPublishersText="All Publishers";e.ContinueButtonText="Continue";e.VSCategories_Coding_Title="Coding";e.VSEnterpriseAnnualCost="$2,999/year*";e.VSO_Header="Visual Studio Team Services";e.ItemBuy="Buy";e.VSS_PurchaseOffer_Completed="You now have {0} {1}(s).";e.ExtensionPreviewActionDescription="Works with Visual Studio Team Services. Available as preview.";e.Publisher_UploadDialog_Instructions="You will need to package your extension or integration into a VSIX file first. Are you developing an extension for Visual Studio (IDE)? If so, the Marketplace is not quite ready for you. Continue publishing to the \u003ca href=\"https://visualstudiogallery.msdn.microsoft.com/\" target=\"_blank\"\u003eVisual Studio Gallery\u003c/a\u003e.";e.HeaderMarketplace="|   Marketplace";e.CreateNewAccount_Link_Text="Create New Account";e.CollectionInstallRequestHelpText="Your request will be sent to the administrators of this project collection.";e.ErrorDetailsText="Error details: {0} ";e.HockeyApp_SignIn="https://rink.hockeyapp.net/users/sign_in";e.Marketplace_FAQ="Marketplace FAQ";e.AcquireItemWizardOk="Ok";e.ItemShareEmailSubject="Check out - {0}";e.SeeMore="See more";e.WriteReviewButtonText="Write a review";e.GeneralSettingsTabTitle="General";e.Publisher_ManageDialog_UpdateTitle="Publisher settings";e.InstallPreviewText="Install Preview";e.ItemGetStarted="Get Started";e.Publisher_PublisherDropDown_EditPublisherActionText="Edit publisher...";e.TrialAcquisitionSuccessMessageIndefinite="All users with Basic access can use this extension for free within the trial duration.";e.Join_VSIP="Join VSIP";e.LoadingAzureSubscriptionsMessage="Loading your Azure subscriptions";e.MarketPlaceFAQLink="https://go.microsoft.com/fwlink/?LinkID=699378\u0026clcid=0x409";e.CollectionSelectionHelpText="Select a Team Project Collection where you would like to install this extension.";e.CouldNotFindUserMessage="We\u0027re sorry, we couldn\u0027t find a user with that email address.";e.VSCategories_TeamDevelopment_Title="Team Development";e.SubscriptionHasSpendingLimit="This subscription has a spending limit. Create a new Azure subscription or {0} to continue.";e.SearchArea_VS="VS";e.Publisher_ManageDialog_WelcomeReviewStepIntroHtml="By clicking Create, you agree to the \u003ca href=\"{0}\" target=\"_blank\"\u003eVisual Studio Marketplace Publisher Agreement\u003c/a\u003e.";e.VSProfessionalAnnualCost="$539/year*";e.PostDownload_InstallExtension="After the extension has successfully uploaded, click {0} and select the Team Project Collection to install into.";e.HockeyApp_GoodToGoText="Your order has been received and your account is being setup!";e.Header_Products="Products";e.EditButtonText="Edit";e.RoleAssignmentsPermissionDeniedMessage="You do not have permission to manage roles.";e.NotAdminForSubscription="You are not an admin or co-admin of this subscription";e.ItemPublisher="Published by";e.Publisher_VerificationNotification_VerifiedTitle="Verified.";e.Featured_Category_Name="Featured";e.BuyCustomizationHeader="Select quantity";e.FeedbackPopupContentMessage="Thanks for your submission. We review these submissions carefully and take appropriate steps to address the issue. For legal and privacy reasons, we may not provide further updates.";e.Publisher_ExtensionGrid_ItemTypeColumnText="Type";e.UserReviewText="User Reviews";e.HockeyApp2Apps="2 Apps";e.ItemTags="Tags";e.Publisher_QuickStart_ShareGuideBubbleGeneralContentHtml="This extension is not visible to anyone in the Marketplace. You can \u003ca href=\"{0}\" target=\"_blank\"\u003eview\u003c/a\u003e it to see how it will appear.";e.VSS_Buy_DoNotHavePermissionText="You do not have permissions to buy the extension for the selected account.";e.VSCodeExtension_ItemType_Description="Visual Studio Code Extension";e.AcquireWaitingMessage="This may take a moment";e.AcquireCompletionViewGetStarted="View Get Started documentation";e.ReportReviewText="Report review";e.StartPlanInfoText="Prices start from {0}";e.Publisher_ExtensionGrid_UpdatedColumnText="Updated";e.PurchasingText="Purchasing";e.AverageRatingHoverText="Average rating: {0} ({1} {2})";e.Extension="Extension";e.Publisher_View_UploadActionText="Upload new extension";e.Publisher_ShareDialog_ShareTitle="Share extension";e.ItemTabOverview="Overview";e.Publisher_ExtensionAvailability_PrivateShared="Private (shared with 1 account)";e.ItemAttributeNameValuePair="{0}: {1}";e.SuggestionsText="Suggestions:";e.VSCode="Visual Studio Code";e.VS_IDE="Visual Studio IDE";e.VSSCollectionNoActionAvailable="No actions are available for this collection: {0}";e.HockeyAppOfferPurchaseType="plan(s)";e.VSSCollectionAcquireItemDisallowedDefaultMessage="The requested operation cannot be performed on this collection. Please select another collection.";e.UploadExtensions="Upload Extensions";e.Publisher_ManageDialog_UpdateButton="Update";e.AssignUsersButtonText="Assign to users";e.SomethingGoneWrong="Something\u0027s gone wrong";e.AcquireItemGenericError="Sorry, we are having difficulties on our end. Give it a few minutes and then please try again.";e.AccessRolesTabTitle="Roles";e.VS_Home="Visual Studio Home";e.Publisher_ExtensionGrid_RatingColumnText="Rating";e.Acquire_Item_Bundle_Error="Sorry your Visual Studio Subscription purchase has failed.";e.UserAvatarAccessNotAllowed="Access to user avatar is not allowed.";e.PublisherReplyEditButtonText="Edit";e.VSS_Install_AlreadyInstalledText="The extension is already installed for this account : {0}";e.Publisher_ManageDialog_Welcome_OnCancelMessage="A publisher is required in order to publish an extension.";e.SignOut="Sign out";e.Publisher_ShareDialog_ShareFirstTimeIntroHtml="The first account you share an extension with is typically the account you will develop and test your extension in. This extension will be available to be installed from within that account.";e.AccountLinkedToDifferentSubscriptionText="This account is already linked to an Azure subscription(Subscription ID:{0}) which you can\u0027t access.\r\n    \u003cbr\u003e\u003cbr\u003e\r\n    Sign in as a different user or select a different directory to purchase.\r\n    ";e.MS_2016="2016 Microsoft";e.NoCollectionsAvailableText="We were unable to find any project collections that you are a member of.";e.Publisher_ManageDialog_CreateNewTitle="Create new publisher";e.VSS_NoActionAvailable="No actions are available for this account: {0}";e.SignIn="Sign in";e.UpgradeMsg="We’ll prorate your first charge this month. Then, we’ll charge you on the 1st each month. \u003ca href=\"https://go.microsoft.com/fwlink/?LinkID=699378\u0026clcid=0x409\" target=\"_blank\"\u003eLearn more\u003c/a\u003e";e.InvalidUserId="The user id is not valid.";e.ItemShareEmailContents="Hi, Just discovered this {0} on the #VSMarketplace that may be of interest to you. Check it out @ {1} !";e.SearchResultsXOfYFoundText="Showing {0} of {1} Results";e.AccountSelectionReadOnlyText="You are installing this extension on the account:";e.CollectionInstallRequestSuccessMessage="Your request to install the extension has been submitted for collection:";e.DownloadButtonText="Download";e.AssociateAzurePublisherIdTitle="Associate Azure Publisher Namespace";e.EulaContent_MicrosoftSoftwareTerms="Microsoft Pre-Release Software License Terms";e.BuyAccountWideExtensionAccountSelectionReadOAccountSelectionReadOnlyText_AccountWideExtension="You are buying {0} for this account:";e.VSCodeInstallationHeader="Installation";e.ItemAlreadyUnderTrial="Already in trial";e.HockeyApp500Apps="500 Apps";e.Subscription="Subscription";e.HockeyApp2AppsCost="Free";e.BannerSummaryTextOnPrem="The place to find extensions for Team Foundation Server.";e.VSSCollectionMultiCollectionAlreadyInstalled=". Select another collection to proceed.";e.PrepaidBalanceInfoMsg="Note: Prepaid balances (Azure Monetary Commitment) may be used to purchase Visual Studio Team Services and HockeyApp, but do not apply for Visual Studio subscriptions, in which case you’ll be charged separately.";e.SuggestionsListSpellingText="Make sure the words are spelled correctly";e.Related_Sites="Related Sites";e.SortOption_UpdatedDate="Updated Date";e.Privacy="Privacy";e.HockeyApp45Apps="45 Apps";e.RemoveSpendingLimitForwardLink="https://go.microsoft.com/fwlink/?LinkID=691954\u0026clcid=0x409";e.ExtensionLearnMoreDescriptiveText="Learn more about this extension";e.CollectionSelectionReadOnlyText="You are installing this extension on the server: {0} in the collection:";e.Publisher_ExtensionAvailability_PrivateNotShared="Private (not shared)";e.HockeyApp15Apps="15 Apps";e.Publisher_QuickStart_ShareGuideBubbleNeedHelpContentHtml="Learn about \u003ca href=\"{0}\" target=\"_blank\"\u003esharing extensions\u003c/a\u003e";e.UserLicensesQuantityHelpText="After confirming your purchase, you can assign the extension to users.";e.VSTeamServicesExtension_ItemType_Description="Visual Studio Team Services Extension";e.Publisher_ManageDialog_WelcomeCreateStepIntroHtml_OnPrem="To upload an extension, you need to define a publisher. A publisher has a unique ID, which is referenced from your extension manifest file, and a name, which is displayed with your extension. \u003ca href=\"{0}\" target=\"_blank\"\u003eLearn more\u003c/a\u003e";e.Publisher_ExtensionsGrid_NoExtensions="This publisher has no items published in the Marketplace.";e.SubscriptionSelectionReadOnlyTextForOnPrem="Your purchase will be billed via your Azure subscription:";e.Publisher_UploadDialog_Footer_Instructions="Learn about \u003ca href=\"{0}\" target=\"_blank\"\u003epublishing to the Marketplace\u003c/a\u003e";e.How_to_Buy="How to Buy";e.SortOption_Name="Name";e.VSCategories_TeamDevelopment_Link="https://visualstudiogallery.msdn.microsoft.com/site/search?f[0].Type=RootCategory\u0026f[0].Value=tools\u0026f[0].Text=Tools\u0026f[1].Type=SubCategory\u0026f[1].Value=teamdevelopment";e.AccountSelectionReadOnlyText_Trial="You\u0027re starting a trial for this extension in account:";e.AcquireItemReviewHeader="Review and confirm";e.IntegrationActionDescription="Works with Visual Studio Team Services.";e.Compare="Compare";e.Publisher_ShareDialog_ShareIntroHtml="Share this extension to a given account to be available to be installed from within that account.";e.VSEnterpriseSubscriptionDesc="An integrated, end-to-end enterprise-grade solution for teams of any size with demanding quality and scale needs.";e.VSEnterpriseSubscriptionName="Visual Studio Enterprise";e.PostDownload_NavigateToServer="Navigate to the Team Foundation Server Extensions page on your server.";e.CustomizeAndConfirmInfoMsg="Your first charge will be prorated for the current month. After that, you’ll be charged on the 1st of each month.";e.SubscriptionText="subscription(s)";e.HostedOnFilterOption_Onprem="On Premises";e.SearchResultsFoundText="{0} Results";e.UpgradeDowngradePlanMsg="Your current plan renews on {0}. Changes will cancel this plan without refund or credit, and start immediately. Consider waiting until just before renewal to make your changes.";e.ItemDetailsSupport="Support";e.AccountWidePurchaseSuccessMessage="You have purchased {0} for this account. It is now ready for use in your account:";e.HockeyAppSubscriptionDesc="Distribute your builds, collect live crash reports, get feedback from real users and analyze test coverage.";e.HockeyAppSubscriptionName="HockeyApp Business Plans";e.CheckInstallationStatus_ErrorMessage="Sorry, we are having problems checking permission and installation status. Give it a few minutes and then please try again.";e.SearchResultFoundText="{0} Result";e.Publisher_ExtensionGrid_DisplayNameColumnText="Name";e.HockeyApp250AppsCost="$250/month";e.Publisher_ExtensionGrid_RemoveButtonLabel="Remove";e.SearchTitle="Search results for \"{0}\" | {1}";e.Publisher_ShareDialog_AccountNameInputLabel="Account name:";e.Integrate="Integrate";e.CreateNewSubscription_Link_Text="Create new Azure subscription";e.RatingAndReviewSpamText="spam or advertising";e.Publisher_ManageDialog_CreateButton="Create";e.AzurePublisherLinkText="Azure Publishing Portal";e.ResourcesText="Resources";e.ReviewFormDefaultText="Your review goes here (up to {0} characters)";e.VSS_Extension_Download_Help="Click {0} for Team Services and {1} for Team Foundation Server.";e.HomeText="Home";e.HockeyApp_PurchaseOffer_Completed="Once your account is ready, you will receive an email from HockeyApp. In the meantime, you can get started exploring HockeyApp. Just login with the Microsoft Account you used to complete this transaction. We will link up the billing for you.";e.RequestingText="Requesting";e.VSProfessionalNote="* Includes dev/test software, monthly Azure credits and additional subscriber benefits. \u003ca href=\"https://go.microsoft.com/fwlink/?LinkID=699291\u0026clcid=0x409\"  target=\"_blank\"\u003eCompare.\u003c/a\u003e";e.ItemShareOffer="offer";e.FeedbackPopupHeaderMessage="Thank you for your feedback";e.PaginationText=" of ";e.VSS_Extension_FreeInstall="* Click Install if you have already purchased the extension.";e.HomePageDefaultErrorMessageText="We\u0027re sorry, the tools and extensions are not loading at this time.";e.HockeyApp120AppsCost="$120/month";e.RemoveUserButtonText="Remove user from the publisher";e.Publisher_ExtensionGrid_CertificateContextMenuTitle="Certificate";e.Publisher_ManageDialog_WarningPublisherVerified="The ID and display name for a verified publisher cannot be changed. \u003ca href=\"{0}\" target=\"_blank\"\u003eContact support\u003c/a\u003e";e.SubscriptionNotValidForAUSEast="This Azure subscription is not valid for Visual Studio Team Services accounts in Australia East";e.ErrorPageNotAvailable="We\u0027re sorry, the page you requested cannot be found!";e.CannotEditPublisherMessage="You do not have permissions to edit settings for this publisher.";e.OffersValuePropSummaryText="The place to find extensions and subscriptions for the Visual Studio family of products.";e.UncategorizedItemCategory="General";e.ItemDetailsReportAbuseContentText="\u003cplease provide a brief description of the issue\u003e";e.XamarinComponents="Xamarin Components";e.ItemAlreadyRequested="Already Requested";e.ItemDetailsPullRequestString="{0} Pull Requests";e.ReplyFormPlaceholderText="Your reply goes here (up to {0} characters)";e.BilledToSubscriptionForCollection="This collection is linked to the following Azure subscription";e.ProjectDetailsText="Project Details";e.Publisher_ShareDialog_ShareFirstTimeTitle="Share an extension";e.CloseButtonText="Close";e.ItemVersion="Version";e.VSS_Request_AlreadyRequestedText="You have already requested this extension for account : {0}";e.Publisher_UploadDialog_Instructions_NoPublisherContext="Select the item package (.vsix) file to upload.";e.Publisher_ExtensionGrid_ShareContextMenuText="Share...";e.SortOption_TrendingWeekly="Trending";e.TotalCostText="Total cost";e.VSSCollectionSelectionHeader="Collection";e.Publisher_PublisherDropDown_CreateNewActionText="Create new publisher...";e.PricePerMonthText="Price Per Month";e.PreviewBanner="This feature is in preview";e.LoadingPricingMessage="This may take a moment";e.SearchForExtensions="Search for extensions";e.HockeyApp120Apps="120 Apps";e.PageTitle="Visual Studio Marketplace";e.Publisher_UploadDialog_Title="Upload new item";e.VSCategories_Coding_Link="https://visualstudiogallery.msdn.microsoft.com/site/search?f[0].Type=RootCategory\u0026f[0].Value=tools\u0026f[0].Text=Tools\u0026f[1].Type=SubCategory\u0026f[1].Value=coding";e.QuantitySelectionHelpTextForAccountBasedExtension="All users with Basic access also have access to {0}. As you add or remove users from your account we’ll adjust charges for {0}.";e.HockeyApp_Visit="Visit HockeyApp";e.Download="Download";e.MultiAccountAlreadyInstalled=". Select another account to proceed.";e.VSS_Productivity_Category="Productivity";e.ExtensionText="extension(s)";e.EulaTargetAccount="account";e.SortByFilterTitle="Sort By:";e.ViewMySubscription="View my subscription";e.VSCodeCopiedAnimationText="Copied to clipboard";e.ReviewPurchaseDetails="Review purchase details";e.HockeyApp_CancelOffer_Completed="This plan will be removed from your HockeyApp account at the end of the month.";e.Header_Manage="Manage";e.VSSCollectionMultiCollectionAlreadyRequested=". \u003ca href=\"{0}\" target=\"_blank\"\u003eView request\u003c/a\u003e or select another collection to proceed.";e.EulaContent_Microsoft_NoCustomLicense="By clicking Confirm, you agree on behalf of all users in the {0} that this extension is provided as Additional Software under the \u003ca href=\u0027{1}\u0027 target=\u0027_blank\u0027\u003e{3}\u003c/a\u003e";e.Publisher_ManageDialog_WelcomeTitle="Welcome to the Marketplace";e.BuyExtensionAssignLicensesLink="Assign licenses to users";e.Publisher_ExtensionGrid_UnshareButtonLabel="Unshare";e.ItemPaidPreview="Free during preview";e.CollectionLinkedToSubscription="This collection is linked to Azure subscription";e.SortOption_Relevance="Relevance";e.SearchExtensionPlaceHolder="Search extensions";e.AssociateButtonText="Associate";e.LicenseText="License";e.ItemDetailsOpenIssuesString="{0} Open Issues";e.AlreadyPurchasedLicensesHelpText="Total number of user licenses already purchased";e.Publisher_ExtensionGrid_PaidContextMenuTitle="Enable Commerce";e.ItemShareTwitterUrl="https://www.twitter.com/home?status={0}";e.BuyPlanMsg="Don\u0027t worry, charges won\u0027t start until your 30-day trail ends on {0}.";e.PublishedDateText="Published";e.Publisher_By="by ";e.Publisher_ExtensionGrid_ViewDetailsContextMenuText="View details";e.NoAccountsAvailableText="We were unable to find an account for which you are an owner or a member of. We recommend that you create a new account to proceed.";e.ReducingText="Reducing";e.TopRated_Items_Header="Highest Rated";e.EulaContent_NonMicrosoft_CustomLicense="By clicking Confirm, you agree on behalf of all users in the {0} that this extension is provided under these {2}.";e.My_VS="My Visual Studio";e.VSCategories_WinForms_Title="Windows Forms";e.StartPriceInfoForUserBased="{0} per user with Basic access, per month";e.Publisher_VerificationNotification_NotVerifiedTitle="Not Verified.";e.SubmitButtonText="Submit";e.ExtensionTrialExpired="Trial for this extension has expired.";e.VSSOffer_Renewal_Date_Message="Renews automatically on {0}";e.VerifiedPublisherCategory="Verified Publisher";e.EulaContent_NonMicrosoft_NoCustomLicense="By clicking Confirm, you agree on behalf of all users in the {0} that this extension is provided as a Non-Microsoft Product under the \u003ca href=\u0027{1}\u0027 target=\u0027_blank\u0027\u003e{3}\u003c/a\u003e.";e.UserInfo="user";e.ExtensionsLinkText="Extensions";e.Publisher_ManageDialog_WelcomeCreateStepIntroHtml="To publish to the Marketplace, you need to create a publisher. A publisher has a unique ID, which is referenced from your extension manifest file, and a name, which is displayed with your item on the Marketplace. \u003ca href=\"{0}\" target=\"_blank\"\u003eLearn more\u003c/a\u003e";e.AboveText=" above";e.ExtensionInstallSuccessMessage="This extension is installed and ready for use on account:";e.EulaTargetCollection="collection";e.ItemInstallErrorHeader="Something went wrong. Unable to complete your request.";e.ItemDetailsShare="Share";e.VSCodeCopyButtonText="Copy";e.ItemDetailsFeedBack="Feedback";e.ItemDetailsLearn="Learn";e.ErrorDownloadingExtension="We\u0027ve encountered an error while downloading the extension. Please try again later.";e.AccountSelectionHelpText="Select a Visual Studio Team Services account where you would like to install this extension.";e.MoreInfoText="More Info";e.Publisher_ExtensionGrid_VersionColumnText="Version";e.SuggestionsListDifferentWordsText="Try different search words";e.PublisherReplyPrivacyText="Your reply will be posted publicly as {0}";e.ItemLastUpdatedDate="Last updated";e.OfferAnnualActionDescription="Charged per user on an annual basis.";e.SortOption_Rating="Rating";e.Publisher_ExtensionGrid_ShareContextMenuTitle="Share";e.Publisher_ExtensionGrid_UnshareContextMenuTitle="Unshare";e.UploadDialogActionButtonText="Upload";e.ErrorExtensionsNotLoading="We\u0027re sorry, the extensions are not loading at this time!";e.CollectionInstallDoNotHavePermissionText="Only the collection administrator can install this extension in collection: \u003ca href=\"{0}\" target=\"_blank\"\u003e{1}\u003c/a\u003e.";e.RequestRatingAndReviewMessage="Please provide your ratings (mandatory) and review (optional) of our application";e.Publisher_QuickStart_InstallGuideBubbleTitleHtml="Install it!";e.RequestFailed_ErrorMessage="Sorry, we are unable to process your request. Give it a few minutes and then please try again.";e.EditPublisherDialogTitle="Settings";e.AcquireItem_Disallowed_DefaultMessage="The requested operation cannot be performed on this account. Please select another account.";e.ItemInstallText="{0} install";e.VSCodeExtensionActionDescription="Works with Visual Studio Code";e.VSS_Install_ViewRequest="View request";e.Header_PartnerProgramURL="https://vsipprogram.com/";e.AzurePublisherIdHelpText="To find your Azure Publisher Namespace, or create a new Azure Publisher, go to the {0}";e.RatingAndReviewReportText="Contains {0}";e.ProductFilterTitle="Product:";e.Publisher_ExtensionGrid_AvailabilityColumnText="Availability";e.SearchArea_VSO="VSTS";e.ItemShareTwitterContents="Just discovered this on the #VSMarketplace: {0}";e.ExtensionInstallSuccessMessageAccount="account";e.ReadMore="Read More";e.Publisher_ManageDialog_InputDisplayNameLabel="Display name:";e.EulaContent_OnPremThirdPartyInstall="This extension is offered to you for your use by a third party, not Microsoft. By clicking Confirm, you agree to the extension publisher’s use terms applicable to this extension.";e.LearnMore="Learn more";e.OfferMonthlyActionDescription="Charged per user on an monthly basis.";e.LoadingAccounts_ErrorMessage="Sorry, we are having problem loading your accounts. Give it a few minutes and then please try again.";e.Acquire_Item_Generic_Error="Sorry your purchase has failed.";e.RatingAndReviewOffensiveText="offensive content";e.YouAreGoodToGoText="You are good to go!";e.Publisher_ShareDialog_UnshareIntroHtml="Stop sharing this extension with the selected account.";e.LearnHow="Learn How";e.BelowText=" below";e.Acquire_Item_Extension_Error="Sorry your Extension purchase has failed.";e.OfferLearnMoreText="Learn more...";e.OfferTermsAndConditionsText="Visual Studio subscription agreement";e.VSCodeCopyButtonTooptip="Copy to clipboard";e.CategoriesTagsText="Categories and tags";e.Publisher_ExtensionValidation_NoVersionFound="No version found for extension: {0}";e.Publisher_QuickStart_InstallGuideBubbleContentHtml="This extension has been shared with the {0} account.";e.AlreadyPurchasedExtensionForAccount="You have already purchased {0} for this account";e.ProceedToAccountButtonText="Proceed to the account";e.Publisher_ManageDialog_WelcomeIntroHtml="Visual Studio Marketplace helps users find extensions, tools, and services that make Visual Studio Team Services, Team Foundation Server, and Visual Studio Code even better. \u003ca href=\"{0}\" target=\"_blank\"\u003eLearn about the Marketplace\u003c/a\u003e";e.ConfirmText="Confirm";e.DownloadStartedMessage="Your download has started!";e.Publisher_ExtensionValidation_Timeout="Timed out waiting for extension validation to be performed. Try again later.";e.VSCategories_Framework_Link="https://visualstudiogallery.msdn.microsoft.com/site/search?f[0].Type=RootCategory\u0026f[0].Value=controls\u0026f[0].Text=Controls\u0026f[1].Type=SubCategory\u0026f[1].Value=framework";e.UpdateButtonText="Update";e.PublisherText="Publisher";e.VSS_RequestHelpText="Your request will be sent to the administrator for this Visual Studio Team Services account.";e.SubscriptionsQuantityHelpText="After confirming your purchase, you can assign the subscription to users.";e.Publisher_ExtensionGrid_RemoveConfirm="Are you sure you want to remove {0}?";e.InstallLicenseText="By Installing, you accept the permissions required by this extension.";e.Publisher_ManageDialog_InputIdLabel="ID:";e.ItemInstallsText="{0} installs";e.ItemDetailsReportAbuseLinkText="Report abuse to Microsoft";e.ExtensionAlreadyUnderTrial="This extension is already under trial for the account";e.SubscriptionNotAvailableText="You need a Microsoft Azure subscription to bill your Visual Studio Marketplace purchases. You can also use this subscription to pay for a wide range of Azure cloud services.";e.EulaContent_Microsoft_Preview_NoCustomLicense="By clicking Confirm, you agree on behalf of all users in the {0} that this extension is provided as a Preview under the \u003ca href=\u0027{1}\u0027 target=\u0027_blank\u0027\u003e{3}\u003c/a\u003e.";e.SearchCategoryFilterTitle="Category";e.PostDownload_UploadExtension="Click {0} and select the file you have just downloaded.";e.HostedOnFilterTitle="Hosted On:";e.SeverHeaderText="Server: ";e.NavigateToMarketPlace="Go back to Marketplace";e.AcquireCompletionDiscoverMoreExtensions="Discover more extensions";e.Publisher_QuickStart_ShareGuideBubbleTitleHtml="Share it!";e.ItemTabMoreDetails="Details";e.SelectedAccountCheckMessage="Checking permission and install status for";e.HockeyApp250Apps="250 Apps";e.SubscriptionSelectionReadOnlyText="Your purchase will be billed to:";e.Publisher_ExtensionGrid_RemoveContextMenuText="Remove...";e.RefreshButtonText="Refresh";e.Publisher_ExtensionsGrid_NoExtensions_TFSOnPrem="There are no extensions published to the gallery";e.RangeOfUsersText="{0}-{1}";e.UpdateLicensesHelpText="You can increase or decrease the number of extensions you need.";e.Publisher_ExtensionGrid_ViewDetailsContextMenuTitle="View details";e.ExtensionFreeActionDescription="Works with Visual Studio Team Services. Available at no cost.";e.VSS_Install_DoNotHavePermissionText="Only the Visual Studio Team Services account administrator can install this extension in account: \u003ca href=\"{0}\" target=\"_blank\"\u003e{1}\u003c/a\u003e.";e.OffersValuePropHeadingText="Welcome to the Visual Studio Marketplace";e.Categories="Categories";e.SortOption_Publisher="Publisher";e.ExtensionBuyActionDescription="Works with Visual Studio Team Services. Charged per user on a monthly basis.";e.Terms_Of_Use="Terms of use";e.OfferSubscriptionType_Annual="Annual subscription";e.ErrorDiagnosisReturnToHome="Return to the {0}";e.ItemDetailsGitHubString="/{0}/{1}";e.ItemScopeHeader="The extension will be granted these permissions:";e.VSS_BuyExtension_New="New";e.Publisher_ExtensionGrid_CertificateDownloadConfirm="Are you sure you download the shared secret?  This is used to both validate and sign tokens.  Make sure to secure this secret.";e.GettingThingsReady="Getting things ready. Please wait ...";e.ExtensionOnPremInstallSuccessMessage="This extension is installed and ready for use on collection:";e.CongratulationsMessage="Congratulations!";e.Publisher_ExtensionGrid_UpdateContextMenuText="Update...";e.ViewingPageAsInfo="You are viewing this page as";e.AcquireCompletionDiscoverMoreSubscriptions="Discover more subscriptions";e.InvalidRegionForPurchase="This Azure subscription is not valid for Visual Studio Team Services accounts in {0} region";e.HockeyApp_GoodToGoText_Cancel="Your order has been received and your account is being updated.";e.Publisher_ExtensionAvailability_PrivateSharedMultipleAccounts="Private (shared with {0} accounts)";e.ForExample="For example";e.VSOffer_ItemType_Description="Visual Studio Offer";e.AcquireItemHelpText="";e.StartPriceInfoForAccountBased="{0} per user with Basic access, per month (for all users in the account)";e.Search_Element_Found="Results Found";e.PlansText="Plans";e.MultiAccountAlreadyRequested=". \u003ca href=\"{0}\" target=\"_blank\"\u003eView request\u003c/a\u003e or select another account to proceed.";e.OfferSubscriptionType_Monthly="Monthly subscription";e.Publisher_VerificationNotification_NotVerifiedInfo=" Publishing public extensions for Team Services requires verification. \u003ca href=\"{0}\" target=\"_blank\"\u003eLearn more\u003c/a\u003e";e.Publisher_ExtensionGrid_UnshareContextMenuText="Unshare...";e.VS_Most_Popular_Items_Link="https://visualstudiogallery.msdn.microsoft.com/site/search?f%5B0%5D.Type=VisualStudioVersion\u0026f%5B0%5D.Value=14.0\u0026f%5B0%5D.Text=Visual%20Studio%202015\u0026sortBy=Popularity";e.NumUsersLimitExceedMessage="Contact \u003ca href=\u0027https://go.microsoft.com/fwlink/?LinkID=703830\u0027 target=\u0027_blank\u0027\u003esupport\u003c/a\u003e if you wish to purchase for more than 200 users.";e.ItemInstall="Install";e.Xamarin="Xamarin";e.Trademarks="Trademarks";e.ErrorAssociatingAzurePublisherId="Error associating Azure Publisher Namespace. Please try after some time.";e.HockeyApp15AppsCost="$30/month";e.SearchBoxWatermark="[All]";e.EulaContent_Microsoft_Preview_CustomLicense="By clicking Confirm, you agree on behalf of all users in the {0} that this extension is provided as a Preview under these {2}.";e.Publisher_VerificationNotification_VerifiedInfo=" You can publish public items to the Marketplace.";e.Publisher_ExtensionGrid_UpdateContextMenuTitle="Update";e.ConfirmRequestText="Request Install";e.RatingPrivacyText="Your review will be posted publicly as {0}";e.DownloadInstructionsTitle="To install \u0027{0}\u0027 on Team Foundation Server 2015 Update 2 and above, perform the following steps:";e.VSProfessionalSubscriptionName="Visual Studio Professional";e.VSProfessionalSubscriptionDesc="A comprehensive collection of software, tools and services for building professional applications with individual and team productivity.";e.VSCategories_Framework_Title="Framework \u0026 Libraries";e.Publisher_UploadDialog_VerifySource="Make sure it is from {0} or another trusted source.";e.AccountLinkedToSubscription="This account is linked to Azure subscription";e.VSSAccountSelectionHeader="Account";e.VSS_PurchaseOffer_Completed_Email_Message="We have sent you an email confirmation to";e.Price_Unit_Month="month";e.RemoveSpendingLimit="remove your spending limit";e.CategoryTitle="{0} Extensions | {1}";e.VSEnterpriseNote="* Includes dev/test software, monthly Azure credits and additional subscriber benefits. \u003ca href=\"https://go.microsoft.com/fwlink/?LinkID=699292\u0026clcid=0x409\"  target=\"_blank\"\u003eCompare.\u003c/a\u003e";e.Price_Unit_Annum="year";e.Publisher_ExtensionAvailability_Public="Public";e.VSCategories_SeeAll_Link="https://visualstudiogallery.msdn.microsoft.com/site/search?query=\u0026f[0].Value=\u0026f[0].Type=SearchText";e.SubscriptionSelectionHeader="Set up billing information";e.HockeyApp500AppsCost="$500/month";e.OtherItemCategory="Other";e.Publisher_ManageDialog_WelcomeCreateStepTitle="Step 1: Create a publisher";e.ItemOverviewAbsentString="No overview has been entered by publisher";e.UsersText="Users";e.ErrorPriceNotAvailable="We\u0027re sorry, we are unable to fetch the price for the product at this time!";e.Publisher_QuickStart_UnpublishGuideBubbleTitleHtml="It\u0027s live!";e.UserDomainInformation="You are viewing this page as a \u0027{0}\u0027 {1} user: {2}. If you do not see all your publisher accounts/extensions{3}, please {4} with a different account.";e.Publisher_ExtensionGrid_ShareButtonLabel="Share";e.Publisher_ExtensionGrid_CertificateContextMenuText="Certificate";e.VSS_BuyExtension_AssignUsers="Assign Users";e.LoadingAccountsMessage="Loading your accounts";e.Assign_Subscriptions="Assign subscriptions";e.VSS_Install_RequestButtonText="Request";e.CustomizeAndConfirmInfoMsgLearnMore="https://account.windowsazure.com/signup?offer=ms-azr-0003p";e.CodeExtensionGetStartedLink="https://go.microsoft.com/fwlink/?LinkID=691811\u0026pub={0}\u0026ext={1}";e.TrialAcquisitionSuccessMessage="All users with Basic access can use this extension for free during the next {0} days until ";e.EditReviewButtonText="Edit my review";e.AccountBasedPurchaseBuyConfirmationText="You will be billed {0} for {1} users";e.PricingNotAvailable="\u003ca href=\"https://go.microsoft.com/fwlink/?LinkID=698602\" target=\"_blank\"\u003eView pricing information\u003c/a\u003e";e.Header_PartnerProgram="Partner Program";e.PublisherReplyButtonText="Reply";e.ItemShareFacebookUrl="https://www.facebook.com/sharer/sharer.php?u={0}";e.Publisher_ExtensionAvailability_Private="Private";e.Publisher_ExtensionGrid_RemoveContextMenuTitle="Remove";e.CancelAddUserButtonText="Close";e.Publisher_ShareDialog_UnshareTitle="Unshare extension";e.DomainText="domain";e.EulaContent_OnlineServiceTerms="Microsoft Online Services Terms";e.AquireItemWizardHeader="Complete your purchase in {0} simple steps";e.VSS_RequestItemHeader="Reason for requesting the installation:";e.BuyCustomizationConfirmationTextWithoutCurrency="Quantity selected: {0}";e.OnPremGalleryPageTitle="Available extensions - Microsoft Team Foundation Server";e.InstallingText="Installing";e.Support_Publisher_exts="Publish Extensions";e.InstallFailed_ErrorMessaage="Sorry, we are unable to complete the install. Give it a few minutes and then please try again.";e.SubscriptionsSectionHeader="Annual and Monthly subscriptions";e.ActiveUsersQuantityText="You have {0} Active users in the account.";e.VSProfessionalMonthlyCost="$45/month";e.Publisher_QuickStart_ShareGuideBubbleExtensionContentHtml="To try out your extension share it with an account you own.";e.SubscriptionPickerInformationLink="https://azure.microsoft.com/en-in/pricing/purchase-options/";e.SubscriptionPickerInformationText="To purchase from the Visual Studio Marketplace, you need an eligible Azure subscription.";e.VSCategories_SeeAll_Title="See all";e.Publisher_PublisherCombo_DuplicatePublisherFormat="{0} [{1}]";e.PublisherTitle="Manage Extensions";e.SwitchDomainMessage="If you do not see all your publisher accounts / extensions, please select another domain.";e.AzurePublisherRetrievalError="Error in retrieving Azure Publisher Namespace information. Please try after some time.";e.ItemShareExtension="extension";e.DeveloperSamplesCategory="Developer samples";e.VSCategories_Language_Title="Programming Languages";e.VSTeamServicesIntegration_ItemType_Description="Visual Studio Team Services Integration";e.Assign_Purchase="Assign this subscription to me";e.None_Label="None";e.BilledToSubscription="This account is linked to the following Azure subscription";e.AssociateAzurePublisherIdMenuText="Associate Azure Publisher Namespace...";e.HeaderProductNameOnPrem="Visual Studio Team Foundation Server 2015";e.GeneralSettingsPermissionDeniedMessage="You do not have permission to change these settings.";e.BuyCustomizationConfirmationText="You have selected {0} {1} for {2}";e.LoadingSubscription_ErrorMessage="Sorry, we are unable to load Azure subscriptions. Give it a few minutes and then please try again.";e.SeparatorText=" | ";e.AzurePublisherIdPlaceholder="Enter Azure Publisher Namespace";e.CheckingYourSubscription="Checking your subscription";e.ExtensionBuySuccessMessage="You now have {0} {1} extension(s) in your account:";e.TfsExtensions="TFS Extensions";e.Publisher_QuickStart_InstallGuideBubbleManageExtensionsContentHtml="\u003ca href=\"{0}\" target=\"_blank\"\u003eView its details page\u003c/a\u003e to install it into the account.";e.ItemDetailsLastCommitString="{0} since last commit";e.Publisher_ExtensionGrid_RemoveConfirm_Public="Are you sure you want to remove {0}? This item is public and will no longer be available to users that have installed it. Confirm by typing the ID of the extension ({1}) and clicking Remove.";e.VSSCollectionAlreadyRequestedText="You have already requested this extension for collection: {0}";e.Jobs="Jobs";e.Team="Manage Visual Studio";e.VS_Top_Rated_Items_Link="https://visualstudiogallery.msdn.microsoft.com/site/search?f%5B0%5D.Type=VisualStudioVersion\u0026f%5B0%5D.Value=14.0\u0026f%5B0%5D.Text=Visual%20Studio%202015\u0026sortBy=Ratings";e.HostedOnFilterOption_Any="Any";e.Eula_AzureLicenseUrl="https://go.microsoft.com/fwlink/?LinkID=266231";e.Publisher_VerificationNotification_NotVerifiedInfo_If_UnVerifiedAllowed=" Please go through the verification process. \u003ca href=\"{0}\" target=\"_blank\"\u003eLearn more\u003c/a\u003e";e.VSCodeInstallCommand="ext install {0}";e.VSCodeInstallInstructions="Launch VS Code Quick Open (\u003ccode\u003e{0}+P\u003c/code\u003e), paste the following command, and press enter.";e.HockeyAppOfferTermsAndConditionsText="license terms.";});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("VSS/FeatureAvailability/Services",["require","exports","VSS/Context","VSS/Diag","VSS/Service","VSS/Utils/String","VSS/VSS"],function(n,t,i,r,u,f,e){var o=function(n){function t(){n.call(this);this._featureStatesCache={}}return __extends(t,n),t.isFeatureEnabled=function(n,i){return u.getService(t).isFeatureEnabledLocal(n,i)},t.prototype.beginIsFeatureEnabled=function(n,t,i){var o=this,s,f;if(s=this,f=this._readLocalState(n),f!==undefined&&f!==null){t(f);return}e.requireModules(["VSS/FeatureAvailability/RestClient"]).spread(function(r){var f=u.getApplicationClient(r.FeatureAvailabilityHttpClient,o.getWebContext());f.getFeatureFlagByName(n).then(function(i){var r=i.effectiveState==="On";o._featureStatesCache[n]=r;t(r)},i||e.handleError)})},t.prototype.isFeatureEnabledLocal=function(n,t){var i=this._readLocalState(n);return(i===undefined||i===null)&&typeof t!="undefined"?t:i},t.prototype._readLocalState=function(n){var t,u;return(t=i.getPageContext(),t.featureAvailability&&t.featureAvailability.featureStates&&(u=t.featureAvailability.featureStates[n],typeof u!="undefined"))?u:this._featureStatesCache[n]},t}(u.VssService);t.FeatureAvailabilityService=o;e.tfsModuleLoaded("VSS.FeatureAvailbility",t)});
define("Gallery/Client/Common/Utility",["require","exports","q","Gallery/Client/Common/Constants","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Scripts/Gallery/Resources/VSS.Resources.GalleryCommon","VSS/FeatureAvailability/Services","Gallery/Client/Common/Constants","Gallery/Client/URLHelper","Gallery/Client/Common/Utility.Common","VSS/Diag","VSS/Serialization","VSS/Utils/String","VSS/Utils/Url","VSS/Utils/Url","VSS/Utils/File","VSS/Utils/UI"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w){function ft(n,t){var i=$(document.createElement("div")).attr("data-bind","template: { name: '"+n+"' }");return!t||i.addClass(t),i}function et(n){return $(document.createElement("div")).attr("data-bind","component: { name: '"+n+"', params: vmParams }")}function ot(n){return $(document.createElement("div")).attr("data-bind","component: { name: '"+n+"', params: {viewModel:vmParams} }")}function st(n){return n&&(n=n.replace("http://",""),n=n.replace("https://",""),n=n.replace("/",""),n.indexOf(":")>=0&&(n=n.substring(0,n.lastIndexOf(":")))),n}function ht(){var n=k;n+="=; expires = Thu, 01 Jan 1970 00:00:00 GMT";document.cookie=n}function ct(n,t,i){var r=k;t||(t=tt());r+="=";n&&(r+=a.format("{0}=",s.GalleryURLs.AccountIdQueryParam),r+=n,r+="&");i&&(r+=a.format("{0}=",s.GalleryURLs.SubscriptionIdQueryParam),r+=i,r+="&");s.GalleryURLs.isTestCommerceEnabled(location.pathname)&&(r+=s.GalleryURLs.TestCommerceQueryParamEnabled+"&");s.GalleryURLs.isFreeInstall(location.search)&&(r+=s.GalleryURLs.FreeInstallQueryParamEnabled+"&");r+=a.format("{0}=",s.GalleryURLs.ItemNameQueryParam);r+=t;r+=";path=/";document.cookie=r}function lt(n){var t=!1;return n&&n.status&&/5[0-9]{2}$/.test(n.status)&&(t=!0),t}function at(n,t){return a.format(f.AverageRatingHoverText,n.toFixed(1),t.toString(),t>1?f.RatingPluralText:f.RatingSingularText)}function vt(n,t){var r=0,u,i;if(n)for(u=n.length,i=0;i<u;i++)if(n[i].statisticName===t){r=n[i].value;break}return r}function tt(){return d.isModalInstallEnabled()?it(location.search):s.GalleryURLs.getItemNameFromUrl(location.pathname)}function yt(){var t=w.BrowserCheckUtils,n;return t.isIE()?(n=Number(t.getVersion),n>0&&n<11):!1}function pt(n){var t=y.Uri.parse(b.getCurrentUrl());return t.queryString="&accountId="+n,t.absoluteUri}function wt(n){var t=y.Uri.parse(b.getCurrentUrl());return t.queryString="&requestedTenantId="+n,t.absoluteUri}function it(n){var t=v.Uri.parse(n);return t.getQueryParam("itemName")}var ut=function(){function n(){}return n.parseUrlParameter=function(n){var i="",t=[];return b.getQueryString().substr(1).split("&").forEach(function(r){t=r.split("=");t[0]===n&&(i=decodeURIComponent(t[1]))}),i},n.setReplyToParameterInLoginRedirectUrl=function(n,t){var u=l.deserializeJsonIsland($(".user-login-url"),null),i=y.Uri.parse(u),r=y.Uri.parse(b.getCurrentUrl());return r.addQueryParam(n,t,!0),i.addQueryParam("reply_to",r.absoluteUri,!0),i.absoluteUri},n.isAbsoluteUrl=function(n){var t=new RegExp("^(?:[a-z]+:)?//","i");return t.test(n)},n.getExternalSourceUrl=function(){var n=l.deserializeJsonIsland($(".marketplace-production-url"),null);return n||(n=r.MarketplaceHome),n},n.getExternalItemDetailsUrl=function(t){var i=n.getExternalSourceUrl();return i=p.combinePaths(i,r.MarketplaceItemDetailsLinkTemplate),i=i.concat(t),encodeURI(i)},n}(),g,b,nt,k,d,rt;t.UrlUtils=ut;g=function(){function n(){}return n.renderTemplateIfNeeded=function(n,t){if($("#"+n).length===0){var i=document.createElement("script");i.type="text/html";i.text=t;i.id=n;document.body.appendChild(i)}},n.getReturntoHomePageHtml=function(n){var t=n?f.Marketplace:u.TfsExtensions;return a.format("<a href={0}>"+t+"<\/a>","'"+s.GalleryURLs.getHomePageURL()+"'")},n}();t.HtmlHelper=g;t.loadHtmlTemplate=ft;t.loadHtmlComponent=et;t.loadHtmlComponentWithViewModel=ot;b=function(){function n(){}return n.open=function(n,t){window.open(n,t)},n.getCurrentUrl=function(){return location.href},n.getQueryString=function(){return location.search},n}();t.WindowWrapper=b;nt=function(){function n(){}return n.parseSearchQueryFromUrl=function(n){var t=[],i=y.getQueryParameters(n);return i&&(t.push(i.term),t.push(i.target),t.push(i.sortBy),t.push(i.category)),t},n.isSearchPage=function(n){return n.indexOf("search")>=0?!0:!1},n.isSearchFFEnabled=function(t){return y.getQueryParameters(t).search==="true"||h.getCookie(n._searchCookieName)==="true"?!0:!1},n.setSearchCookie=function(){document.cookie=n._searchCookieName+"=true"},n._searchCookieName="SearchEnabled",n}();t.SearchUtils=nt;t.getAccountNameFromAccountUrl=st;k="CommerceMarketplaceSubscriptionCookie";t.clearRedirectionCookie=ht;t.storeRedirectionCookie=ct;t.isErrorAlertClass=lt;t.getAverageRatingText=at;t.extractStatisticsValue=vt;t.getItemNameForInstall=tt;t.isLessThanIE11=yt;t.getRedirectToBuyWorkflowURL=pt;t.getRedirectTenantUrl=wt;t.getItemNameFromQueryParam=it;d=function(){function n(){}return n.isModalInstallEnabled=function(){return n.checkFeatureState(o.FeatureFlag.ModalInstallDialog,n.enableModalInstallFF)},n.checkAndSetEnableThirdPartyCommerce=function(){return n.isThirdPartyCommerceEnabled()},n.checkAndSetEnableFirstPartyCommerce=function(){return n.isFirstPartyCommerceEnabled()},n.checkAndSetShowOfferPlans=function(){return n.checkFeatureState(o.FeatureFlag.ShowOfferPlans,n.showOfferPlansFF)},n.isUseEMSAquisitionService=function(){return n.checkFeatureState(o.FeatureFlag.EMSAquisitionService,n.useEMSAquisitionService)},n.isOnPremConnectedEnabled=function(){return n.checkFeatureState(o.FeatureFlag.OnPremConnected,n.enableOnPremConnectedFF)},n.isThirdPartyCommerceEnabled=function(){return n.checkFeatureState(o.FeatureFlag.EnableThirdPartyCommerce,h.FeatureFlagUtils.enableThirdPartyCommerceFF)},n.isFirstPartyCommerceEnabled=function(){return n.checkFeatureState(o.FeatureFlag.EnableFirstPartyCommerce,n.enableFirstPartyCommerceFF)},n.checkAndSetExternalMetadataForItemDetails=function(){return n.checkFeatureState(o.FeatureFlag.ExternalMetadataForItemDetails,n.ExternalMetadataForItemDetailsFF)},n.isACSDecommissionMode=function(){return n.checkFeatureState(o.FeatureFlag.ACSDecommission,n.acsDecommission)},n.checkFeatureState=function(n,t,i){return(i===void 0&&(i=!1),h.FeatureFlagUtils.isFeatureFlagEnabled(b.getCurrentUrl(),t)||e.FeatureAvailabilityService.isFeatureEnabled(n,!1))?(i&&h.FeatureFlagUtils.setFeatureFlagCookie(t),!0):!1},n.enableModalInstallFF="ModalInstall",n.enableThirdPartyCommerceFF="EnableThirdPartyCommerce",n.enableFirstPartyCommerceFF="EnableFirstPartyCommerce",n.useEMSAquisitionService="UseEMSAquisitionService",n.showOfferPlansFF="ShowOfferPlans",n.enableOnPremConnectedFF="OnPremConnected",n.ExternalMetadataForItemDetailsFF="ExternalMetadataForItemDetails",n.acsDecommission="ACSDecommission",n}();t.FeatureFlagUtils=d;rt=function(){function n(){}return n.readBlobAsBase64=function(n){var r=i.defer(),t=new FileReader;return t.onloadend=function(){var i=t.result,n;i&&i.indexOf(",")>-1&&(n=i.substr(i.indexOf(",")+1),n.substr(0,2)==="//"&&n.length%4==2&&(n=n.substr(2)),r.resolve(n))},t.onabort=t.onerror=function(){r.reject("Error converting blob to base64")},t.readAsDataURL(n),r.promise},n}();t.FileUtils=rt});
define("Gallery/Client/Controls/ErrorControl/ErrorControl.ViewModel",["require","exports","VSS/Context","Gallery/Scripts/Gallery/Resources/VSS.Resources.GalleryCommon","knockout","VSS/Adapters/Knockout","VSS/Utils/String","Gallery/Client/URLHelper","Gallery/Client/Common/Utility"],function(n,t,i,r,u,f,e,o,s){var h=function(n){function t(f){if(n.call(this),this.errorText=u.observable(""),this.isHosted=i.getPageContext().webAccessConfiguration.isHosted,this.errorText(f.errorText),this.tipsText=r.TipsText,f.errorDiagnosisHtml)this.errorDiagnosisHtml=f.errorDiagnosisHtml;else{var o=s.HtmlHelper.getReturntoHomePageHtml(this.isHosted);this.errorDiagnosisHtml=e.format(r.DefaultErrorDiagnosisText,o)}this.contactUsHtml=t.getContactUsHtmlContent()}return __extends(t,n),t.getContactUsHtmlContent=function(){var n=e.format(r.ErrorContactUsEmailBody,encodeURIComponent(location.href),encodeURIComponent(o.GalleryURLs.marketPlaceHomePageURL)),i=e.format(t.EMAIL_HREF,t.EMAIL_ADDR,r.ErrorContactUsEmailSubject,e.htmlEncode(n)),u=e.format("<a href='{0}'>"+r.ErrorContactUsHere,i);return e.format(r.ErrorContactUs,u)},t.EMAIL_HREF="mailto:{0}?subject={1}&Body={2}",t.EMAIL_ADDR="vsmarketplace@microsoft.com",t}(f.TemplateViewModel);t.ErrorControlViewModel=h});
define("Gallery/Client/Common/CustomBindings",["require","exports","knockout"],function(n,t,i){var r;(function(n){function t(){var n=this;i.bindingHandlers.enterkey={init:function(t,r,u,f){var e=r();$(t).keypress(function(t){var u=t.which?t.which:t.keyCode,r;return u===13?(r=i.utils.unwrapObservable(e),r.call(n,f,t),!1):!0})}}}n.addCustomBindings=t})(r=t.CustomBindings||(t.CustomBindings={}))});
define("Gallery/Client/Pages/Common/Base.View",["require","exports","knockout","Gallery/Client/Controls/Carousel/Carousel.View","Gallery/Client/Controls/Carousel/Carousel.ViewModel","Gallery/Client/Common/Constants","Gallery/Client/Controls/ErrorControl/ErrorControl.View","Gallery/Client/Controls/ErrorControl/ErrorControl.ViewModel","Gallery/Client/Common/Telemetry","Gallery/Client/Common/TelemetryInternal","Gallery/Client/Common/Utility","Gallery/Scripts/Gallery/Resources/VSS.Resources.GalleryCommon","Gallery/Client/URLHelper","VSS/Context","VSS/Controls","VSS/Diag","VSS/Adapters/Knockout","VSS/Utils/String","Gallery/Client/Common/CustomBindings"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k){var g=function(n){function t(t){n.call(this,t);this._addKnockoutRegistrationWrapper();this._updateHeaderLinks();this._registerCustomBindings();this._registerExtenders();this.registerControls()}return __extends(t,n),t.prototype.initialize=function(t){t===void 0&&(t=!1);n.prototype.initialize.call(this);t||this._show()},t.prototype.registerControls=function(){w.TemplateControl.registerBinding("carousel-template",r.CarouselView,function(n){return new u.CarouselViewModel(n)});w.TemplateControl.registerBinding("error-control-template",e.ErrorControlView,function(n){return new o.ErrorControlViewModel(n)})},t.prototype._addKnockoutRegistrationWrapper=function(){var n=this,t;this._knockoutTemplateToControlMapping={};t=w.TemplateControl.registerBinding;w.TemplateControl.registerBinding=function(i,r,u){n._knockoutTemplateToControlMapping[i]=r;t.call(n,i,r,u)}},t.prototype._show=function(){$(".page-content").css("display","block")},t.prototype._registerCustomBindings=function(){k.CustomBindings.addCustomBindings();this._bindRenderRegisteredTemplate()},t.prototype._registerExtenders=function(){i.extenders.gallerylimit=function(n,t){var i=0,r=1e4;return n.subscribe(function(u){u!==""&&(isNaN(u)&&(u=i),u=Math.floor(u),u>r||u<0?n(i):u>t.maxValue?(t.limitExceeded(!0),i=u,n(u)):(i=u,n(u),t.limitExceeded(!1)))}),n}},t.prototype._bindRenderRegisteredTemplate=function(){var n=this;i.bindingHandlers.renderRegisteredTemplate={init:function(){return{controlsDescendantBindings:!0}},update:function(t,i,r){var o=$(t),u=i(),f,e;u&&(u.data?f=w.TemplateControl.applyRegisteredBinding(u.templateName,o,u.data):(e=n._knockoutTemplateToControlMapping[u.templateName],e&&(f=w.TemplateControl.applyBinding(e,o,u.viewModel,{templateId:u.templateName}))),f&&r().viewModel&&(r().viewModel(f.getViewModel()),r().viewModel.valueHasMutated()))}};i.bindingHandlers.applyBinding={init:function(){return{controlsDescendantBindings:!0}},update:function(n,t){var r=$(n),i=t(),u;i&&(u=w.TemplateControl.applyBinding(i.control,r,i.viewModel,{templateId:i.templateName}))}}},t.prototype._updateHeaderLinks=function(){var t=this,i,r,n,u;if($("#ux-header .left a").attr("title",l.Marketplace).attr("href",a.GalleryURLs.getHomePageURL()),v.getPageContext().webAccessConfiguration.isHosted)i=$("#HeaderSearchTextBox"),i.attr("autocomplete","off"),r=$("#HeaderSearchForm"),r.submit(function(n){n.preventDefault();var r=i.val().trim();t.navigateToSearch(r)});else if(c.SearchUtils.isSearchFFEnabled(location.href)&&!1){c.SearchUtils.setSearchCookie();$("#searchDiv").css("visibility","visible");$("#searchDiv").css("cursor","pointer");n=$("#searchBox");n.on("keypress",function(i){i.type==="keypress"&&i.keyCode===13&&t.processSearchEvent(n)});u=$("#searchButton");u.on("click",function(){t.processSearchEvent(n)})}},t.prototype.processSearchEvent=function(n){var t=$.trim(n.val());this.navigateToSearch(t)},t.sanitizeSearchQuery=function(n){return RegExp("<").test(n)&&(n=n.replace("<"," ")),RegExp("&#").test(n)&&(n=n.replace("&"," ")),n.trim()},t.setSearchContext=function(n){(n===f.SearchConstants.VSProductText||n===f.SearchConstants.VSTSProductText||n===f.SearchConstants.VSCodeProductText)&&(window.sessionStorage[f.SearchConstants.SESSION_STORAGE_NAME]=n)},t.getSearchContext=function(){return window.sessionStorage[f.SearchConstants.SESSION_STORAGE_NAME]},t.setLastVisitedPage=function(n){n&&(window.sessionStorage[f.SortConstants.IsSearchPage]=n)},t.getLastVisitedPage=function(){return window.sessionStorage[f.SortConstants.IsSearchPage]},t.setSortParameter=function(n){n&&(window.sessionStorage[f.SortConstants.SortParameter]=n)},t._showError=function(n,i){var r=$("<div><\/div>");i.append(r);w.TemplateControl.applyRegisteredBinding("error-control-template",r,n);r.addClass(t.CENTEREDCONTENT_CSS_CLASS)},t.prototype.unFixHeader=function(){$("#ux-header").css("position","static")},t.prototype.navigateToSearch=function(n){if(n&&(n=t.sanitizeSearchQuery(n),n))if(h.TelemetryHelper.publishEvent(s.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.SEARCH,{Url:location.href,SearchBoxLocation:"Header",SearchAction:s.CustomerIntelligenceConstants.MarketPlaceIntelligenceFeature.SEARCH_BAR_USE,ProductType:t.getSearchContext()},!0),c.SearchUtils.isSearchPage(location.pathname))this._performSearch(n);else{var i=a.GalleryURLs.getSearchPageURLFromQuery(n);c.WindowWrapper.open(i,"_self")}},t.isVSContext=function(){return b.ignoreCaseComparer(t.getSearchContext(),f.SearchConstants.VSProductText)===0},t.isVSTSContext=function(){return b.ignoreCaseComparer(t.getSearchContext(),f.SearchConstants.VSTSProductText)===0},t.isVSCodeContext=function(){return b.ignoreCaseComparer(t.getSearchContext(),f.SearchConstants.VSCodeProductText)===0},t.prototype._performSearch=function(){},t.CENTEREDCONTENT_CSS_CLASS="gallery-centered-content",t}(y.BaseControl),d;t.BaseView=g;d=function(){function n(){}return n}();t.GalleryLimitExtenderOptions=d});
define("Gallery/Client/Service/FileDownloader",["require","exports","q"],function(n,t,i){var r=function(){function n(n){this._options=n}return n.prototype.startDownload=function(){var t=i.defer(),n;return this._options.downloadURL?(n=new XMLHttpRequest,n.open("GET",this._options.downloadURL,!0),n.responseType="blob",n.onload=function(){if(n.status==200){var i=n.response;t.resolve(i)}},n.onerror=function(){t.reject("Error downloading file")},n.send(),t.promise):(t.reject("Invalid dowload URL"),t.promise)},n}();t.HTTPDownloader=r});
define("Gallery/Client/Service/HttpClientProvider/HttpClientProvider",["require","exports","VSS/Service","VSS/Authentication/Services","VSS/Ajax","Gallery/Client/Common/Utility","VSS/Context","q"],function(n,t,i,r,u,f,e,o){var h=function(){function n(){}return n.getHttpClient=function(n,t,u,f){var y=t?t:"/",h=new n(y),c=[],a,l,v;return t||(a=i.VssConnection.getConnection(),l=a.beginGetServiceUrl(n.serviceInstanceId),l.then(function(n){h._rootRequestPath=n}),c.push(l)),e.getPageContext().webAccessConfiguration.isHosted&&(v=s.getToken(u,f).then(function(n){h.authTokenManager=new r.BasicAuthTokenManager(n,null)}),c.push(v)),h._setInitializationPromise(o.all(c)),h},n}(),s;t.HttpClientProvider=h;s=function(){function n(){}return n.getToken=function(n,t,i){var r=o.defer();return f.storeRedirectionCookie(n,null,i),u.issueRequest("/gettoken",{data:{requestTenant:t},cache:!1}).then(function(n){n&&(n.requiresRedirection?window.location.href=n.redirectionUri:r.resolve(n.sessionToken.tokenKey))},r.reject),r.promise},n}();t.TokenProvider=s});
define("Gallery/Client/Service/VSSCommerce/IVSSCommerce",["require","exports"],function(n,t){var r,u,i;(function(n){n[n.PerUser=0]="PerUser";n[n.PerPlan=1]="PerPlan"})(t.PricingType||(t.PricingType={}));r=t.PricingType,function(n){n.EmptyGuid="00000000-0000-0000-0000-000000000000";n.SPSGuid=n.EmptyGuid;n.TFSGuid="00025394-6065-48ca-87d9-7f5672854ef7"}(u=t.SubscriptionConstants||(t.SubscriptionConstants={}));i=function(){function n(){}return n.InvalidPrice=-1,n.CreateNewSubscriptionEvent="CreateNewSubscriptionEvent",n}();t.CommerceConstants=i});
define("Gallery/Client/Service/VSSGallery/IVSSGallery",["require","exports"],function(n,t){var i,r,u;(function(n){n[n.Relevance=0]="Relevance";n[n.LastModified=1]="LastModified";n[n.Title=2]="Title";n[n.Publisher=3]="Publisher";n[n.Downloads=4]="Downloads";n[n.PublishedDate=5]="PublishedDate";n[n.AverageRating=6]="AverageRating";n[n.TrendingDaily=7]="TrendingDaily";n[n.TrendingWeekly=8]="TrendingWeekly";n[n.TrendingMonthly=9]="TrendingMonthly";n[n.ReleaseDate=10]="ReleaseDate"})(t.VSSSortByValue||(t.VSSSortByValue={}));i=t.VSSSortByValue,function(n){n[n.LICENSE=0]="LICENSE";n[n.OVERVIEW=1]="OVERVIEW";n[n.PRICING=2]="PRICING"}(t.Asset_Type||(t.Asset_Type={}));r=t.Asset_Type,function(n){n[n.VSTS=0]="VSTS";n[n.VSCode=1]="VSCode";n[n.VS=2]="VS"}(t.VSSProduct||(t.VSSProduct={}));u=t.VSSProduct});
define("Gallery/Client/Service/VSSOffer",["require","exports"],function(n,t){var i=function(){function n(){}return n.Yearly="yearly",n.Monthly="monthly",n}();t.OfferDuration=i});
define("VSS/Gallery/Contracts",["require","exports"],function(n,t){"use strict";var i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g;(function(n){n[n.None=0]="None";n[n.Me=1]="Me";n[n.All=2]="All"})(t.AcquisitionAssignmentType||(t.AcquisitionAssignmentType={}));i=t.AcquisitionAssignmentType,function(n){n[n.Disallow=0]="Disallow";n[n.Allow=1]="Allow";n[n.Completed=3]="Completed"}(t.AcquisitionOperationState||(t.AcquisitionOperationState={}));r=t.AcquisitionOperationState,function(n){n[n.Get=0]="Get";n[n.Install=1]="Install";n[n.Buy=2]="Buy";n[n.Try=3]="Try";n[n.Request=4]="Request";n[n.None=5]="None"}(t.AcquisitionOperationType||(t.AcquisitionOperationType={}));u=t.AcquisitionOperationType,function(n){n[n.General=1]="General";n[n.Abusive=2]="Abusive";n[n.Spam=4]="Spam"}(t.ConcernCategory||(t.ConcernCategory={}));f=t.ConcernCategory,function(n){n[n.None=0]="None";n[n.Private=1]="Private";n[n.Public=2]="Public";n[n.Preview=4]="Preview";n[n.Released=8]="Released";n[n.FirstParty=16]="FirstParty";n[n.All=31]="All"}(t.ExtensionPolicyFlags||(t.ExtensionPolicyFlags={}));e=t.ExtensionPolicyFlags,function(n){n[n.Tag=1]="Tag";n[n.DisplayName=2]="DisplayName";n[n.Private=3]="Private";n[n.Id=4]="Id";n[n.Category=5]="Category";n[n.ContributionType=6]="ContributionType";n[n.Name=7]="Name";n[n.InstallationTarget=8]="InstallationTarget";n[n.Featured=9]="Featured";n[n.SearchText=10]="SearchText";n[n.FeaturedInCategory=11]="FeaturedInCategory";n[n.ExcludeWithFlags=12]="ExcludeWithFlags"}(t.ExtensionQueryFilterType||(t.ExtensionQueryFilterType={}));o=t.ExtensionQueryFilterType,function(n){n[n.None=0]="None";n[n.IncludeVersions=1]="IncludeVersions";n[n.IncludeFiles=2]="IncludeFiles";n[n.IncludeCategoryAndTags=4]="IncludeCategoryAndTags";n[n.IncludeSharedAccounts=8]="IncludeSharedAccounts";n[n.IncludeVersionProperties=16]="IncludeVersionProperties";n[n.ExcludeNonValidated=32]="ExcludeNonValidated";n[n.IncludeInstallationTargets=64]="IncludeInstallationTargets";n[n.IncludeAssetUri=128]="IncludeAssetUri";n[n.IncludeStatistics=256]="IncludeStatistics";n[n.IncludeLatestVersionOnly=512]="IncludeLatestVersionOnly";n[n.AllAttributes=479]="AllAttributes"}(t.ExtensionQueryFlags||(t.ExtensionQueryFlags={}));s=t.ExtensionQueryFlags,function(n){n[n.None=0]="None";n[n.Set=1]="Set";n[n.Increment=2]="Increment";n[n.Decrement=3]="Decrement";n[n.Delete=4]="Delete"}(t.ExtensionStatisticOperation||(t.ExtensionStatisticOperation={}));h=t.ExtensionStatisticOperation,function(n){n[n.None=0]="None";n[n.Validated=1]="Validated"}(t.ExtensionVersionFlags||(t.ExtensionVersionFlags={}));c=t.ExtensionVersionFlags,function(n){n[n.Backward=1]="Backward";n[n.Forward=2]="Forward"}(t.PagingDirection||(t.PagingDirection={}));l=t.PagingDirection,function(n){n[n.None=0]="None";n[n.Disabled=1]="Disabled";n[n.BuiltIn=2]="BuiltIn";n[n.Validated=4]="Validated";n[n.Trusted=8]="Trusted";n[n.Paid=16]="Paid";n[n.Public=256]="Public";n[n.MultiVersion=512]="MultiVersion";n[n.System=1024]="System";n[n.Preview=2048]="Preview"}(t.PublishedExtensionFlags||(t.PublishedExtensionFlags={}));a=t.PublishedExtensionFlags,function(n){n[n.UnChanged=1073741824]="UnChanged";n[n.None=0]="None";n[n.Disabled=1]="Disabled";n[n.Verified=2]="Verified";n[n.ServiceFlags=3]="ServiceFlags"}(t.PublisherFlags||(t.PublisherFlags={}));v=t.PublisherFlags,function(n){n[n.Read=1]="Read";n[n.UpdateExtension=2]="UpdateExtension";n[n.CreatePublisher=4]="CreatePublisher";n[n.PublishExtension=8]="PublishExtension";n[n.Admin=16]="Admin";n[n.TrustedPartner=32]="TrustedPartner";n[n.PrivateRead=64]="PrivateRead";n[n.DeleteExtension=128]="DeleteExtension";n[n.EditSettings=256]="EditSettings";n[n.ViewPermissions=512]="ViewPermissions";n[n.ManagePermissions=1024]="ManagePermissions";n[n.DeletePublisher=2048]="DeletePublisher"}(t.PublisherPermissions||(t.PublisherPermissions={}));y=t.PublisherPermissions,function(n){n[n.None=0]="None";n[n.IncludeExtensions=1]="IncludeExtensions";n[n.IncludeEmailAddress=2]="IncludeEmailAddress"}(t.PublisherQueryFlags||(t.PublisherQueryFlags={}));p=t.PublisherQueryFlags,function(n){n[n.Completed=0]="Completed";n[n.Failed=1]="Failed";n[n.Inprogress=2]="Inprogress";n[n.Skipped=3]="Skipped"}(t.RestApiResponseStatus||(t.RestApiResponseStatus={}));w=t.RestApiResponseStatus,function(n){n[n.None=0]="None";n[n.FilterEmptyReviews=1]="FilterEmptyReviews";n[n.FilterEmptyUserNames=2]="FilterEmptyUserNames"}(t.ReviewFilterOptions||(t.ReviewFilterOptions={}));b=t.ReviewFilterOptions,function(n){n[n.FlagReview=1]="FlagReview";n[n.UpdateReview=2]="UpdateReview";n[n.ReplyToReview=3]="ReplyToReview"}(t.ReviewPatchOperation||(t.ReviewPatchOperation={}));k=t.ReviewPatchOperation,function(n){n[n.Relevance=0]="Relevance";n[n.LastUpdatedDate=1]="LastUpdatedDate";n[n.Title=2]="Title";n[n.Publisher=3]="Publisher";n[n.InstallCount=4]="InstallCount";n[n.PublishedDate=5]="PublishedDate";n[n.AverageRating=6]="AverageRating";n[n.TrendingDaily=7]="TrendingDaily";n[n.TrendingWeekly=8]="TrendingWeekly";n[n.TrendingMonthly=9]="TrendingMonthly";n[n.ReleaseDate=10]="ReleaseDate"}(t.SortByType||(t.SortByType={}));d=t.SortByType,function(n){n[n.Default=0]="Default";n[n.Ascending=1]="Ascending";n[n.Descending=2]="Descending"}(t.SortOrderType||(t.SortOrderType={}));g=t.SortOrderType;t.TypeInfo={AcquisitionAssignmentType:{enumValues:{none:0,me:1,all:2}},AcquisitionOperation:{},AcquisitionOperationState:{enumValues:{disallow:0,allow:1,completed:3}},AcquisitionOperationType:{enumValues:{get:0,install:1,buy:2,"try":3,request:4,none:5}},AcquisitionOptions:{},AzureRestApiResponseModel:{},ConcernCategory:{enumValues:{general:1,abusive:2,spam:4}},ExtensionAcquisitionRequest:{},ExtensionFilterResult:{},ExtensionPolicy:{},ExtensionPolicyFlags:{enumValues:{none:0,"private":1,"public":2,preview:4,released:8,firstParty:16,all:31}},ExtensionQuery:{},ExtensionQueryFilterType:{enumValues:{tag:1,displayName:2,"private":3,id:4,category:5,contributionType:6,name:7,installationTarget:8,featured:9,searchText:10,featuredInCategory:11,excludeWithFlags:12}},ExtensionQueryFlags:{enumValues:{none:0,includeVersions:1,includeFiles:2,includeCategoryAndTags:4,includeSharedAccounts:8,includeVersionProperties:16,excludeNonValidated:32,includeInstallationTargets:64,includeAssetUri:128,includeStatistics:256,includeLatestVersionOnly:512,allAttributes:479}},ExtensionQueryResult:{},ExtensionStatisticOperation:{enumValues:{none:0,set:1,increment:2,decrement:3,"delete":4}},ExtensionStatisticUpdate:{},ExtensionVersion:{},ExtensionVersionFlags:{enumValues:{none:0,validated:1}},PagingDirection:{enumValues:{backward:1,forward:2}},PublishedExtension:{},PublishedExtensionFlags:{enumValues:{none:0,disabled:1,builtIn:2,validated:4,trusted:8,paid:16,"public":256,multiVersion:512,system:1024,preview:2048}},Publisher:{},PublisherFacts:{},PublisherFilterResult:{},PublisherFlags:{enumValues:{unChanged:1073741824,none:0,disabled:1,verified:2,serviceFlags:3}},PublisherPermissions:{enumValues:{read:1,updateExtension:2,createPublisher:4,publishExtension:8,admin:16,trustedPartner:32,privateRead:64,deleteExtension:128,editSettings:256,viewPermissions:512,managePermissions:1024,deletePublisher:2048}},PublisherQuery:{},PublisherQueryFlags:{enumValues:{none:0,includeExtensions:1,includeEmailAddress:2}},PublisherQueryResult:{},QueryFilter:{},RestApiResponseStatus:{enumValues:{completed:0,failed:1,inprogress:2,skipped:3}},RestApiResponseStatusModel:{},Review:{},ReviewFilterOptions:{enumValues:{none:0,filterEmptyReviews:1,filterEmptyUserNames:2}},ReviewPatch:{},ReviewPatchOperation:{enumValues:{flagReview:1,updateReview:2,replyToReview:3}},ReviewReply:{},ReviewsResult:{},SortByType:{enumValues:{relevance:0,lastUpdatedDate:1,title:2,publisher:3,installCount:4,publishedDate:5,averageRating:6,trendingDaily:7,trendingWeekly:8,trendingMonthly:9,releaseDate:10}},SortOrderType:{enumValues:{"default":0,ascending:1,descending:2}},UserExtensionPolicy:{},UserReportedConcern:{}};t.TypeInfo.AcquisitionOperation.fields={operationState:{enumType:t.TypeInfo.AcquisitionOperationState},operationType:{enumType:t.TypeInfo.AcquisitionOperationType}};t.TypeInfo.AcquisitionOptions.fields={defaultOperation:{typeInfo:t.TypeInfo.AcquisitionOperation},operations:{isArray:!0,typeInfo:t.TypeInfo.AcquisitionOperation}};t.TypeInfo.AzureRestApiResponseModel.fields={operationStatus:{typeInfo:t.TypeInfo.RestApiResponseStatusModel}};t.TypeInfo.ExtensionAcquisitionRequest.fields={assignmentType:{enumType:t.TypeInfo.AcquisitionAssignmentType},operationType:{enumType:t.TypeInfo.AcquisitionOperationType}};t.TypeInfo.ExtensionFilterResult.fields={extensions:{isArray:!0,typeInfo:t.TypeInfo.PublishedExtension}};t.TypeInfo.ExtensionPolicy.fields={install:{enumType:t.TypeInfo.ExtensionPolicyFlags},request:{enumType:t.TypeInfo.ExtensionPolicyFlags}};t.TypeInfo.ExtensionQuery.fields={filters:{isArray:!0,typeInfo:t.TypeInfo.QueryFilter},flags:{enumType:t.TypeInfo.ExtensionQueryFlags}};t.TypeInfo.ExtensionQueryResult.fields={results:{isArray:!0,typeInfo:t.TypeInfo.ExtensionFilterResult}};t.TypeInfo.ExtensionStatisticUpdate.fields={operation:{enumType:t.TypeInfo.ExtensionStatisticOperation}};t.TypeInfo.ExtensionVersion.fields={flags:{enumType:t.TypeInfo.ExtensionVersionFlags},lastUpdated:{isDate:!0}};t.TypeInfo.PublishedExtension.fields={flags:{enumType:t.TypeInfo.PublishedExtensionFlags},lastUpdated:{isDate:!0},publishedDate:{isDate:!0},publisher:{typeInfo:t.TypeInfo.PublisherFacts},releaseDate:{isDate:!0},versions:{isArray:!0,typeInfo:t.TypeInfo.ExtensionVersion}};t.TypeInfo.Publisher.fields={extensions:{isArray:!0,typeInfo:t.TypeInfo.PublishedExtension},flags:{enumType:t.TypeInfo.PublisherFlags},lastUpdated:{isDate:!0}};t.TypeInfo.PublisherFacts.fields={flags:{enumType:t.TypeInfo.PublisherFlags}};t.TypeInfo.PublisherFilterResult.fields={publishers:{isArray:!0,typeInfo:t.TypeInfo.Publisher}};t.TypeInfo.PublisherQuery.fields={filters:{isArray:!0,typeInfo:t.TypeInfo.QueryFilter},flags:{enumType:t.TypeInfo.PublisherQueryFlags}};t.TypeInfo.PublisherQueryResult.fields={results:{isArray:!0,typeInfo:t.TypeInfo.PublisherFilterResult}};t.TypeInfo.QueryFilter.fields={direction:{enumType:t.TypeInfo.PagingDirection}};t.TypeInfo.RestApiResponseStatusModel.fields={status:{enumType:t.TypeInfo.RestApiResponseStatus}};t.TypeInfo.Review.fields={reply:{typeInfo:t.TypeInfo.ReviewReply},updatedDate:{isDate:!0}};t.TypeInfo.ReviewPatch.fields={operation:{enumType:t.TypeInfo.ReviewPatchOperation},reportedConcern:{typeInfo:t.TypeInfo.UserReportedConcern},reviewItem:{typeInfo:t.TypeInfo.Review}};t.TypeInfo.ReviewReply.fields={updatedDate:{isDate:!0}};t.TypeInfo.ReviewsResult.fields={reviews:{isArray:!0,typeInfo:t.TypeInfo.Review}};t.TypeInfo.UserExtensionPolicy.fields={permissions:{typeInfo:t.TypeInfo.ExtensionPolicy}};t.TypeInfo.UserReportedConcern.fields={category:{enumType:t.TypeInfo.ConcernCategory},submittedDate:{isDate:!0}}});
define("VSS/Gallery/RestClient",["require","exports","VSS/Gallery/Contracts","VSS/Service","VSS/WebApi/RestClient"],function(n,t,i,r,u){"use strict";function p(n){return window.VSS&&window.VSS.VssSDKRestVersion&&v[window.VSS.VssSDKRestVersion]?r.getClient(v[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):r.getClient(s,undefined,undefined,undefined,n)}var h=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype.getSigningKey=function(n){return this._beginRequest({httpMethod:"GET",area:"gallery",locationId:"92ed5cf4-c38b-465a-9059-2f2fb7c624b5",resource:"signingkey",routeTemplate:"_apis/{area}/{resource}/{keyType}",routeValues:{keyType:n},apiVersion:this.signingkeyApiVersion})},t.prototype.generateKey=function(n,t){var i={expireCurrentSeconds:t};return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"gallery",locationId:"92ed5cf4-c38b-465a-9059-2f2fb7c624b5",resource:"signingkey",routeTemplate:"_apis/{area}/{resource}/{keyType}",routeValues:{keyType:n},queryParams:i,apiVersion:this.signingkeyApiVersion})},t.prototype.updatePublisher=function(n,t){return this._beginRequest({httpMethod:"PUT",area:"gallery",locationId:"4ddec66a-e4f6-4f5d-999e-9e77710d7ff4",resource:"publishers",routeTemplate:"_apis/{area}/{resource}/{publisherName}",requestType:i.TypeInfo.Publisher,responseType:i.TypeInfo.Publisher,routeValues:{publisherName:t},apiVersion:this.publishersApiVersion,data:n})},t.prototype.getPublisher=function(n,t){var r={flags:t};return this._beginRequest({httpMethod:"GET",area:"gallery",locationId:"4ddec66a-e4f6-4f5d-999e-9e77710d7ff4",resource:"publishers",routeTemplate:"_apis/{area}/{resource}/{publisherName}",responseType:i.TypeInfo.Publisher,routeValues:{publisherName:n},queryParams:r,apiVersion:this.publishersApiVersion})},t.prototype.deletePublisher=function(n){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"gallery",locationId:"4ddec66a-e4f6-4f5d-999e-9e77710d7ff4",resource:"publishers",routeTemplate:"_apis/{area}/{resource}/{publisherName}",routeValues:{publisherName:n},apiVersion:this.publishersApiVersion})},t.prototype.createPublisher=function(n){return this._beginRequest({httpMethod:"POST",area:"gallery",locationId:"4ddec66a-e4f6-4f5d-999e-9e77710d7ff4",resource:"publishers",routeTemplate:"_apis/{area}/{resource}/{publisherName}",requestType:i.TypeInfo.Publisher,responseType:i.TypeInfo.Publisher,apiVersion:this.publishersApiVersion,data:n})},t.prototype.queryPublishers=function(n){return this._beginRequest({httpMethod:"POST",area:"gallery",locationId:"2ad6ee0a-b53f-4034-9d1d-d009fda1212e",resource:"publisherquery",routeTemplate:"_apis/public/{area}/{resource}",requestType:i.TypeInfo.PublisherQuery,responseType:i.TypeInfo.PublisherQueryResult,apiVersion:this.publisherqueryApiVersion,data:n})},t.prototype.getAssetWithToken=function(n,t,i,r,u,f,e){var o={accountToken:f,acceptDefault:e};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"gallery",locationId:"364415a1-0077-4a41-a7a0-06edd4497492",resource:"privateasset",routeTemplate:"_apis/public/{area}/publisher/{publisherName}/extension/{extensionName}/{version}/{resource}/{assetToken}/{*assetType}",routeValues:{publisherName:n,extensionName:t,version:i,assetType:r,assetToken:u},queryParams:o,apiVersion:this.privateassetApiVersion})},t.prototype.getPackage=function(n,t,i,r,u){var f={accountToken:r,acceptDefault:u};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"gallery",locationId:"7cb576f8-1cae-4c4b-b7b1-e4af5759e965",resource:"package",routeTemplate:"_apis/public/{area}/publishers/{publisherName}/extensions/{extensionName}/{version}/{resource}",routeValues:{publisherName:n,extensionName:t,version:i},queryParams:f,apiVersion:this.packageApiVersion})},t.prototype.updateExtension=function(n,t,r){return this._beginRequest({httpMethod:"PUT",area:"gallery",locationId:"e11ea35a-16fe-4b80-ab11-c4cab88a0966",resource:"extensions",routeTemplate:"_apis/{area}/publishers/{publisherName}/{resource}/{extensionName}",responseType:i.TypeInfo.PublishedExtension,routeValues:{publisherName:t,extensionName:r},apiVersion:this.extensionsApiVersion,data:n})},t.prototype.getExtension=function(n,t,r,u,f){var e={version:r,flags:u,accountToken:f};return this._beginRequest({httpMethod:"GET",area:"gallery",locationId:"e11ea35a-16fe-4b80-ab11-c4cab88a0966",resource:"extensions",routeTemplate:"_apis/{area}/publishers/{publisherName}/{resource}/{extensionName}",responseType:i.TypeInfo.PublishedExtension,routeValues:{publisherName:n,extensionName:t},queryParams:e,apiVersion:this.extensionsApiVersion})},t.prototype.deleteExtension=function(n,t,i){var r={version:i};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"gallery",locationId:"e11ea35a-16fe-4b80-ab11-c4cab88a0966",resource:"extensions",routeTemplate:"_apis/{area}/publishers/{publisherName}/{resource}/{extensionName}",routeValues:{publisherName:n,extensionName:t},queryParams:r,apiVersion:this.extensionsApiVersion})},t.prototype.createExtensionWithPublisher=function(n,t){return this._beginRequest({httpMethod:"POST",area:"gallery",locationId:"e11ea35a-16fe-4b80-ab11-c4cab88a0966",resource:"extensions",routeTemplate:"_apis/{area}/publishers/{publisherName}/{resource}/{extensionName}",responseType:i.TypeInfo.PublishedExtension,routeValues:{publisherName:t},apiVersion:this.extensionsApiVersion,data:n})},t.prototype.updateExtensionById=function(n,t){return this._beginRequest({httpMethod:"PUT",area:"gallery",locationId:"a41192c8-9525-4b58-bc86-179fa549d80d",resource:"extensions",routeTemplate:"_apis/{area}/{resource}/{extensionId}",responseType:i.TypeInfo.PublishedExtension,routeValues:{extensionId:t},apiVersion:this.extensionsApiVersion_a41192c8,data:n})},t.prototype.getExtensionById=function(n,t,r){var u={version:t,flags:r};return this._beginRequest({httpMethod:"GET",area:"gallery",locationId:"a41192c8-9525-4b58-bc86-179fa549d80d",resource:"extensions",routeTemplate:"_apis/{area}/{resource}/{extensionId}",responseType:i.TypeInfo.PublishedExtension,routeValues:{extensionId:n},queryParams:u,apiVersion:this.extensionsApiVersion_a41192c8})},t.prototype.deleteExtensionById=function(n,t){var i={version:t};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"gallery",locationId:"a41192c8-9525-4b58-bc86-179fa549d80d",resource:"extensions",routeTemplate:"_apis/{area}/{resource}/{extensionId}",routeValues:{extensionId:n},queryParams:i,apiVersion:this.extensionsApiVersion_a41192c8})},t.prototype.createExtension=function(n){return this._beginRequest({httpMethod:"POST",area:"gallery",locationId:"a41192c8-9525-4b58-bc86-179fa549d80d",resource:"extensions",routeTemplate:"_apis/{area}/{resource}/{extensionId}",responseType:i.TypeInfo.PublishedExtension,apiVersion:this.extensionsApiVersion_a41192c8,data:n})},t.prototype.queryExtensions=function(n,t){var r={accountToken:t};return this._beginRequest({httpMethod:"POST",area:"gallery",locationId:"eb9d5ee1-6d43-456b-b80e-8a96fbc014b6",resource:"extensionquery",routeTemplate:"_apis/public/{area}/{resource}",requestType:i.TypeInfo.ExtensionQuery,responseType:i.TypeInfo.ExtensionQueryResult,queryParams:r,apiVersion:this.extensionqueryApiVersion,data:n})},t.prototype.getCertificate=function(n,t,i){return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"gallery",locationId:"e905ad6a-3f1f-4d08-9f6d-7d357ff8b7d0",resource:"certificates",routeTemplate:"_apis/{area}/publishers/{publisherName}/extensions/{extensionName}/{resource}/{version}",routeValues:{publisherName:n,extensionName:t,version:i},apiVersion:this.certificatesApiVersion})},t.prototype.getCategories=function(n){var t={languages:n};return this._beginRequest({httpMethod:"GET",area:"gallery",locationId:"e0a5a71e-3ac3-43a0-ae7d-0bb5c3046a2a",resource:"categories",routeTemplate:"_apis/public/{area}/{resource}",responseIsCollection:!0,queryParams:t,apiVersion:this.categoriesApiVersion})},t.prototype.getAsset=function(n,t,i,r,u){var f={accountToken:r,acceptDefault:u};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"gallery",locationId:"5d545f3d-ef47-488b-8be3-f5ee1517856c",resource:"assets",routeTemplate:"_apis/public/{area}/extensions/{extensionId}/{version}/{resource}/{assetType}",routeValues:{extensionId:n,version:t,assetType:i},queryParams:f,apiVersion:this.assetsApiVersion})},t.prototype.getAssetByName=function(n,t,i,r,u,f){var e={accountToken:u,acceptDefault:f};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"gallery",locationId:"7529171f-a002-4180-93ba-685f358a0482",resource:"assetbyname",routeTemplate:"_apis/public/{area}/publisher/{publisherName}/extension/{extensionName}/{version}/{resource}/{*assetType}",routeValues:{publisherName:n,extensionName:t,version:i,assetType:r},queryParams:e,apiVersion:this.assetbynameApiVersion})},t.prototype.unshareExtension=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"gallery",locationId:"a1e66d8f-f5de-4d16-8309-91a4e015ee46",resource:"accountsbyname",routeTemplate:"_apis/{area}/publisher/{publisherName}/extension/{extensionName}/{resource}/{accountName}",routeValues:{publisherName:n,extensionName:t,accountName:i},apiVersion:this.accountsbynameApiVersion})},t.prototype.shareExtension=function(n,t,i){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"gallery",locationId:"a1e66d8f-f5de-4d16-8309-91a4e015ee46",resource:"accountsbyname",routeTemplate:"_apis/{area}/publisher/{publisherName}/extension/{extensionName}/{resource}/{accountName}",routeValues:{publisherName:n,extensionName:t,accountName:i},apiVersion:this.accountsbynameApiVersion})},t.prototype.unshareExtensionById=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"gallery",locationId:"1f19631b-a0b4-4a03-89c2-d79785d24360",resource:"accounts",routeTemplate:"_apis/{area}/extensions/{extensionId}/{resource}/{accountName}",routeValues:{extensionId:n,accountName:t},apiVersion:this.accountsApiVersion})},t.prototype.shareExtensionById=function(n,t){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"gallery",locationId:"1f19631b-a0b4-4a03-89c2-d79785d24360",resource:"accounts",routeTemplate:"_apis/{area}/extensions/{extensionId}/{resource}/{accountName}",routeValues:{extensionId:n,accountName:t},apiVersion:this.accountsApiVersion})},t.serviceInstanceId="00000029-0000-8888-8000-000000000000",t}(u.VssHttpClient),e,f,o,c,s,l,a,y,v;t.CommonMethods2To3=h;e=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype.requestAcquisition=function(n){return this._beginRequest({httpMethod:"POST",area:"gallery",locationId:"3adb1f2d-e328-446e-be73-9f6d98071c45",resource:"acquisitionrequests",routeTemplate:"_apis/{area}/{resource}",requestType:i.TypeInfo.ExtensionAcquisitionRequest,responseType:i.TypeInfo.ExtensionAcquisitionRequest,apiVersion:this.acquisitionrequestsApiVersion,data:n})},t}(h);t.CommonMethods2_1To3=e;f=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype.getAcquisitionOptions=function(n,t,r,u){var f={installationTarget:t,testCommerce:r,isFreeOrTrialInstall:u};return this._beginRequest({httpMethod:"GET",area:"gallery",locationId:"9d0a0105-075e-4760-aa15-8bcf54d1bd7d",resource:"acquisitionoptions",routeTemplate:"_apis/{area}/{resource}/{itemId}",responseType:i.TypeInfo.AcquisitionOptions,routeValues:{itemId:n},queryParams:f,apiVersion:this.acquisitionoptionsApiVersion})},t}(e);t.CommonMethods2_2To3=f;o=function(n){function t(t,i){n.call(this,t,i);this.accountsApiVersion=this.accountsbynameApiVersion=this.acquisitionoptionsApiVersion=this.acquisitionrequestsApiVersion=this.assetbynameApiVersion=this.assetsApiVersion=this.categoriesApiVersion=this.certificatesApiVersion=this.extensionqueryApiVersion=this.extensionsApiVersion=this.extensionsApiVersion_a41192c8=this.packageApiVersion=this.privateassetApiVersion=this.publisherqueryApiVersion=this.publishersApiVersion=this.signingkeyApiVersion="3.0-preview.1"}return __extends(t,n),t.prototype.getAssetAuthenticated=function(n,t,i,r,u){var f={accountToken:u};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"gallery",locationId:"506aff36-2622-4f70-8063-77cce6366d20",resource:"authenticatedasset",routeTemplate:"_apis/{area}/publisher/{publisherName}/extension/{extensionName}/{version}/assets/{*assetType}",routeValues:{publisherName:n,extensionName:t,version:i,assetType:r},queryParams:f,apiVersion:"3.0-preview.1"})},t.prototype.associateAzurePublisher=function(n,t){var i={azurePublisherId:t};return this._beginRequest({httpMethod:"PUT",area:"gallery",locationId:"efd202a6-9d87-4ebc-9229-d2b8ae2fdb6d",resource:"azurepublisher",routeTemplate:"_apis/{area}/publishers/{publisherName}/{resource}",routeValues:{publisherName:n},queryParams:i,apiVersion:"3.0-preview.1"})},t.prototype.queryAssociatedAzurePublisher=function(n){return this._beginRequest({httpMethod:"GET",area:"gallery",locationId:"efd202a6-9d87-4ebc-9229-d2b8ae2fdb6d",resource:"azurepublisher",routeTemplate:"_apis/{area}/publishers/{publisherName}/{resource}",routeValues:{publisherName:n},apiVersion:"3.0-preview.1"})},t.prototype.extensionValidator=function(n){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"gallery",locationId:"05e8a5e1-8c59-4c2c-8856-0ff087d1a844",resource:"extensionValidator",routeTemplate:"_apis/{area}/{resource}",apiVersion:"3.0-preview.1",data:n})},t.prototype.getReviews=function(n,t,r,u,f,e){var o={count:r,filterOptions:u,beforeDate:f,afterDate:e};return this._beginRequest({httpMethod:"GET",area:"gallery",locationId:"5b3f819f-f247-42ad-8c00-dd9ab9ab246d",resource:"reviews",routeTemplate:"_apis/public/{area}/publishers/{publisherName}/extensions/{extensionName}/{resource}",responseType:i.TypeInfo.ReviewsResult,routeValues:{publisherName:n,extensionName:t},queryParams:o,apiVersion:"3.0-preview.1"})},t.prototype.createReview=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"gallery",locationId:"e6e85b9d-aa70-40e6-aa28-d0fbf40b91a3",resource:"reviews",routeTemplate:"_apis/{area}/publishers/{pubName}/extensions/{extName}/{resource}/{resourceId}",requestType:i.TypeInfo.Review,responseType:i.TypeInfo.Review,routeValues:{pubName:t,extName:r},apiVersion:"3.0-preview.1",data:n})},t.prototype.updateReview=function(n,t,r,u){return this._beginRequest({httpMethod:"PATCH",area:"gallery",locationId:"e6e85b9d-aa70-40e6-aa28-d0fbf40b91a3",resource:"reviews",routeTemplate:"_apis/{area}/publishers/{pubName}/extensions/{extName}/{resource}/{resourceId}",requestType:i.TypeInfo.ReviewPatch,responseType:i.TypeInfo.ReviewPatch,routeValues:{pubName:t,extName:r,resourceId:u},apiVersion:"3.0-preview.1",data:n})},t.prototype.createCategory=function(n){return this._beginRequest({httpMethod:"POST",area:"gallery",locationId:"476531a3-7024-4516-a76a-ed64d3008ad6",resource:"securedCategories",routeTemplate:"_apis/{area}/categories",apiVersion:"3.0-preview.1",data:n})},t.prototype.updateExtensionStatistics=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"gallery",locationId:"a0ea3204-11e9-422d-a9ca-45851cc41400",resource:"statistics",routeTemplate:"_apis/{area}/publisher/{publisherName}/extension/{extensionName}/{resource}",requestType:i.TypeInfo.ExtensionStatisticUpdate,routeValues:{publisherName:t,extensionName:r},apiVersion:"3.0-preview.1",data:n})},t}(f);t.GalleryHttpClient3=o;c=function(n){function t(t,i){n.call(this,t,i);this.accountsApiVersion=this.accountsbynameApiVersion=this.acquisitionoptionsApiVersion=this.acquisitionrequestsApiVersion=this.assetbynameApiVersion=this.assetsApiVersion=this.categoriesApiVersion=this.certificatesApiVersion=this.extensionqueryApiVersion=this.extensionsApiVersion=this.extensionsApiVersion_a41192c8=this.packageApiVersion=this.privateassetApiVersion=this.publisherqueryApiVersion=this.publishersApiVersion=this.signingkeyApiVersion="2.3-preview.1"}return __extends(t,n),t}(f);t.GalleryHttpClient2_3=c;s=function(n){function t(t,i){n.call(this,t,i);this.accountsApiVersion=this.accountsbynameApiVersion=this.acquisitionrequestsApiVersion=this.assetbynameApiVersion=this.assetsApiVersion=this.categoriesApiVersion=this.certificatesApiVersion=this.extensionqueryApiVersion=this.extensionsApiVersion=this.extensionsApiVersion_a41192c8=this.packageApiVersion=this.privateassetApiVersion=this.publisherqueryApiVersion=this.publishersApiVersion=this.signingkeyApiVersion="2.2-preview.1"}return __extends(t,n),t}(f);t.GalleryHttpClient2_2=s;l=function(n){function t(t,i){n.call(this,t,i);this.accountsApiVersion=this.accountsbynameApiVersion=this.assetbynameApiVersion=this.assetsApiVersion=this.categoriesApiVersion=this.certificatesApiVersion=this.extensionqueryApiVersion=this.extensionsApiVersion=this.extensionsApiVersion_a41192c8=this.packageApiVersion=this.privateassetApiVersion=this.publisherqueryApiVersion=this.publishersApiVersion=this.signingkeyApiVersion="2.1-preview.1"}return __extends(t,n),t}(e);t.GalleryHttpClient2_1=l;a=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t}(h);t.GalleryHttpClient2=a;y=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t}(o);t.GalleryHttpClient=y;v={"3.0":o,"2.3":c,"2.2":s,"2.1":l,"2.0":a};t.getClient=p});
define("VSS/Operations/Contracts",["require","exports"],function(n,t){"use strict";(function(n){n[n.NotSet=0]="NotSet";n[n.Queued=1]="Queued";n[n.InProgress=2]="InProgress";n[n.Cancelled=3]="Cancelled";n[n.Succeeded=4]="Succeeded";n[n.Failed=5]="Failed"})(t.OperationStatus||(t.OperationStatus={}));var i=t.OperationStatus;t.TypeInfo={Operation:{},OperationReference:{},OperationStatus:{enumValues:{notSet:0,queued:1,inProgress:2,cancelled:3,succeeded:4,failed:5}}};t.TypeInfo.Operation.fields={status:{enumType:t.TypeInfo.OperationStatus}};t.TypeInfo.OperationReference.fields={status:{enumType:t.TypeInfo.OperationStatus}}});
define("VSS/Operations/RestClient",["require","exports","VSS/Operations/Contracts","VSS/Service","VSS/WebApi/RestClient"],function(n,t,i,r,u){"use strict";function v(n){return window.VSS&&window.VSS.VssSDKRestVersion&&l[window.VSS.VssSDKRestVersion]?r.getClient(l[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):r.getClient(o,undefined,undefined,undefined,n)}var f=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype.getOperation=function(n){return this._beginRequest({httpMethod:"GET",area:"operations",locationId:"9a1b74b4-2ca8-4a9f-8470-c2f2e6fdc949",resource:"operations",routeTemplate:"_apis/{resource}/{operationId}",responseType:i.TypeInfo.Operation,routeValues:{operationId:n},apiVersion:this.operationsApiVersion})},t}(u.VssHttpClient),e,s,o,h,c,a,l;t.CommonMethods2To3=f;e=function(n){function t(t,i){n.call(this,t,i);this.operationsApiVersion="3.0-preview.1"}return __extends(t,n),t}(f);t.OperationsHttpClient3=e;s=function(n){function t(t,i){n.call(this,t,i);this.operationsApiVersion="2.3"}return __extends(t,n),t}(f);t.OperationsHttpClient2_3=s;o=function(n){function t(t,i){n.call(this,t,i);this.operationsApiVersion="2.2"}return __extends(t,n),t}(f);t.OperationsHttpClient2_2=o;h=function(n){function t(t,i){n.call(this,t,i);this.operationsApiVersion="2.1"}return __extends(t,n),t}(f);t.OperationsHttpClient2_1=h;c=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t}(f);t.OperationsHttpClient2=c;a=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t}(e);t.OperationsHttpClient=a;l={"3.0":e,"2.3":s,"2.2":o,"2.1":h,"2.0":c};t.getClient=v});
define("Gallery/Client/Service/VSSGallery/VSSGallery",["require","exports","q","Gallery/Client/Service/FileDownloader","Gallery/Scripts/Gallery/Resources/VSS.Resources.Gallery","Gallery/Scripts/Gallery/Resources/VSS.Resources.GalleryCommon","Gallery/Client/Common/Telemetry","Gallery/Client/Common/TelemetryInternal","Gallery/Client/URLHelper","Gallery/Client/Common/Utility","Gallery/Client/Service/HttpClientProvider/HttpClientProvider","Gallery/Client/Service/Item","Gallery/Client/Service/VSSCommerce/IVSSCommerce","Gallery/Client/Service/VSSGallery/IVSSGallery","Gallery/Client/URLHelper","Gallery/Client/Service/VSSItem","Gallery/Client/Service/VSSOffer","VSS/Ajax","VSS/Context","VSS/Diag","VSS/Gallery/Contracts","VSS/Gallery/RestClient","VSS/Service","VSS/Utils/Array","VSS/Utils/Core","VSS/Utils/File","VSS/Utils/String","VSS/VSS","VSS/Operations/RestClient","VSS/Operations/Contracts"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st){var at=function(){function n(){this._galleryRootUri=k.getDefaultWebContext().host.uri;this._prodcutToInstallationTargetMap={};this._sortByTypeMap={};this._galleryClient=tt.getClient(nt.GalleryHttpClient);this._operationsClient=tt.getClient(ot.OperationsHttpClient);this._galleryResources=y.GalleryURLs.getResourcePath();this._prodcutToInstallationTargetMap[n.PRODUCT_VSS]=[p.VSSItemType.VSSExtension,p.VSSItemType.VSSHostedExtension,p.VSSItemType.VSSIntegration];this._prodcutToInstallationTargetMap[n.PRODUCT_VSCODE]=[p.VSSItemType.VSCodeExtension];this._sortByTypeMap[v.VSSSortByValue.Relevance.valueOf()]=g.SortByType.Relevance;this._sortByTypeMap[v.VSSSortByValue.LastModified.valueOf()]=g.SortByType.LastUpdatedDate;this._sortByTypeMap[v.VSSSortByValue.Downloads.valueOf()]=g.SortByType.InstallCount;this._sortByTypeMap[v.VSSSortByValue.Publisher.valueOf()]=g.SortByType.Publisher;this._sortByTypeMap[v.VSSSortByValue.Title.valueOf()]=g.SortByType.Title;this._sortByTypeMap[v.VSSSortByValue.PublishedDate.valueOf()]=g.SortByType.PublishedDate;this._sortByTypeMap[v.VSSSortByValue.AverageRating.valueOf()]=g.SortByType.AverageRating;this._sortByTypeMap[v.VSSSortByValue.TrendingDaily.valueOf()]=g.SortByType.TrendingDaily;this._sortByTypeMap[v.VSSSortByValue.TrendingWeekly.valueOf()]=g.SortByType.TrendingWeekly;this._sortByTypeMap[v.VSSSortByValue.TrendingMonthly.valueOf()]=g.SortByType.TrendingMonthly;this._sortByTypeMap[v.VSSSortByValue.ReleaseDate.valueOf()]=g.SortByType.ReleaseDate}return n.prototype.acquireItem=function(n,t,r,u,f,s,h){var w,v,b,y,d,tt;return s===void 0&&(s=[]),w=i.defer(),v=null,t?s.forEach(function(n){n.id===t&&(v=n)}):t=a.SubscriptionConstants.EmptyGuid,n?(b=n.publisherName+"."+n.name,y=g.AcquisitionOperationType.Request,r===p.VSSItemAcquisitionOption.Buy?y=g.AcquisitionOperationType.Buy:r===p.VSSItemAcquisitionOption.Install?y=g.AcquisitionOperationType.Install:r===p.VSSItemAcquisitionOption.Try&&(y=g.AcquisitionOperationType.Try),d={assignmentType:g.AcquisitionAssignmentType.None,billingId:u,targets:[t],itemId:b,operationType:y,quantity:f,properties:{}},h&&(d.properties.requestMessage=h),v=v?v:{},tt=c.HttpClientProvider.getHttpClient(nt.GalleryHttpClient,k.getDefaultWebContext().host.relativeUri||"/",v.id,v.tenantId),tt.requestAcquisition(d).then(function(n){w.resolve(n)},function(t){var i={},r=e.CustomerIntelligenceConstants.MarketPlaceIntelligencePropertyName;i[r.ITEM_NAME]=b;i[r.PRICE_CATEGORY]=l.priceCategory[n.priceCategory];i[r.OPERATION]=p.VSSItemAcquisitionOption[y];i[r.ERROR]=JSON.stringify(t);o.TelemetryHelper.publishEvent(e.CustomerIntelligenceConstants.MarketPlaceIntelligenceErrors.ACQUIRE_ITEM_ERROR,i);w.reject(t)})):w.reject("item is invalid"),w.promise},n.prototype.getItemAssetSourceURL=function(){throw new Error("Not implemented getItemAssetSourceURL");},n.prototype.getItemDetails=function(n){var r=this,t=i.defer(),u=this._getExtensionQueryForParticularExtension(n);return this._galleryClient.queryExtensions(u).then(function(n){var i=r._getUniqueNonSystemIVSSitemsFromExtensionQueryResult(n);i.length===1?i[0].itemType===p.VSSItemType.VSSOffer?(i=r._getUniqueIVSSOffersFromExtensionQueryResult(n),i.length===1?t.resolve(i[0]):t.reject("No item found")):t.resolve(i[0]):t.reject("No item found")},function(n){t.reject(n);et.handleError(n,$.noop)}),t.promise},n.prototype.getDetailedItem=function(){var n=i.defer();return n.reject("Not implemented"),n.promise},n.prototype.queryItems=function(n,t){var u=this,r=i.defer();return this._galleryClient.queryExtensions(n,t).then(function(n){var t=u._getUniqueNonSystemIVSSitemsFromExtensionQueryResult(n);r.resolve(t)},function(n){r.reject(n);et.handleError(n,$.noop)}),r.promise},n.prototype.searchItems=function(n){var f=this,r,t=i.defer(),u;return r=this._createQueryForSearch(n),r?this._galleryClient.queryExtensions(r).then(function(n){n&&n.results&&n.results.length>0&&(u=f._getQueryResponseByFilteringNonSystemIVSSitems(n.results[0]));t.resolve(u)},function(n){t.reject(n);et.handleError(n,$.noop)}):t.reject("ExtensionQuery could not be formed. Provided product name is invalid"),t.promise},n.prototype.getTenants=function(){return b.issueRequest("/gettenants",{})},n.prototype.getTenantRedirectUrl=function(n,t){return b.issueRequest("/tenantRedirect",{data:{requestedTenantId:n,redirectActionName:t}})},n.prototype._createQueryForSearch=function(n){var t=[],i;return $.each(n.installationTargets,function(n,i){t.push({filterType:g.ExtensionQueryFilterType.InstallationTarget,value:i})}),n.searchTerm&&t.push({filterType:g.ExtensionQueryFilterType.SearchText,value:n.searchTerm}),i=g.PublishedExtensionFlags.System|g.PublishedExtensionFlags.BuiltIn,n.excludeFlags&&(i=i|n.excludeFlags),t.push({filterType:g.ExtensionQueryFilterType.ExcludeWithFlags,value:i.toString()}),n.categories&&$.each(n.categories,function(n,i){t.push({filterType:g.ExtensionQueryFilterType.Category,value:i})}),{assetTypes:[ht.ASSET_ICON_DEFAULT],filters:[{criteria:t,direction:g.PagingDirection.Forward,pageSize:n.pageSize,pageNumber:n.pageNumber,sortBy:n.sortBy?this._sortByTypeMap[n.sortBy.valueOf()]:v.VSSSortByValue.Relevance.valueOf(),sortOrder:g.SortOrderType.Default,pagingToken:null}],flags:g.ExtensionQueryFlags.IncludeCategoryAndTags|g.ExtensionQueryFlags.IncludeFiles|g.ExtensionQueryFlags.IncludeStatistics|g.ExtensionQueryFlags.IncludeLatestVersionOnly|g.ExtensionQueryFlags.ExcludeNonValidated}},n.prototype.getCategories=function(n){return this._galleryClient.getCategories(n)},n.prototype.getExtensionScopes=function(n){var t=i.defer();return b.issueRequest(y.GalleryURLs.getExtensionScopesURL(),{data:{itemName:n},cache:!1}).then(function(n){t.resolve(n)},function(n){t.reject(n)}),t.promise},n.prototype.getItemAcquisitionOptions=function(n,t,r,u){var f,e,o;return r===void 0&&(r=!1),u===void 0&&(u=!1),f=i.defer(),n&&t?(e=n.publisherName+"."+n.name,o=c.HttpClientProvider.getHttpClient(nt.GalleryHttpClient,this._galleryClient._rootRequestPath,t.id,t.tenantId),o.getAcquisitionOptions(e,t.id,r,u).then(function(n){var t=n.defaultOperation;f.resolve(t)},function(n){f.reject(n)})):f.reject("item is invalid"),f.promise},n.prototype.createReview=function(n,t,r){var u=i.defer();return this._galleryClient.createReview(n,t,r).then(function(n){u.resolve(n)},function(n){u.reject(n)}),u.promise},n.prototype.getReviews=function(n,t,r,u,f){var e=i.defer();return this._galleryClient.getReviews(n,t,r,u,f).then(function(n){e.resolve(n)},function(n){e.reject(n)}),e.promise},n.prototype.updateReview=function(n,t,r,u){var f=i.defer();return this._galleryClient.updateReview(n,t,r,u).then(function(n){f.resolve(n)},function(n){f.reject(n)}),f.promise},n.prototype.getAllItemsQuery=function(n){var r=this,i={assetTypes:null,filters:[],flags:g.ExtensionQueryFlags.IncludeFiles|g.ExtensionQueryFlags.IncludeCategoryAndTags|g.ExtensionQueryFlags.IncludeStatistics|g.ExtensionQueryFlags.IncludeLatestVersionOnly},t=[];return t=n!==null&&n!==undefined?this._prodcutToInstallationTargetMap[v.VSSProduct[n].toLowerCase()]:[p.VSSItemType.VSCodeExtension,p.VSSItemType.VSSExtension,p.VSSItemType.VSSHostedExtension,p.VSSItemType.VSSIntegration,p.VSSItemType.VSSOffer],t&&t.length>0?($.each(t,function(n,t){var u=r._getInstallationTargetForItemType(t),f={criteria:[{filterType:g.ExtensionQueryFilterType.InstallationTarget,value:u}]};i.filters.push(f)}),i):null},n.prototype.getAssetTypeString=function(n){var t;switch(n){case v.Asset_Type.LICENSE:t=ht.ASSET_LICENSE;break;case v.Asset_Type.OVERVIEW:t=ht.ASSETS_DETAILS;break;case v.Asset_Type.PRICING:t=ht.ASSET_PRICING;break;default:t=ht.ASSETS_DETAILS}return t},n.prototype.getItemAssetContent=function(n,t,r){var u=i.defer(),f=this.getAssetTypeString(r);return this._galleryClient.getAsset(n,t,f).then(function(n){var t=String.fromCharCode.apply(null,new Uint8Array(n));u.resolve(t)},function(n){u.reject(n);et.handleError(n,$.noop)}),u.promise},n.prototype.publishExtension=function(n,t,i,r){var u=!k.getPageContext().webAccessConfiguration.isHosted;return t?this._galleryClient.updateExtension(n,i,r):u?this._galleryClient.createExtension(n):this._galleryClient.createExtensionWithPublisher(n,i)},n.prototype.waitForExtensionValidation=function(n,t,r,u){var f=i.defer();return this.doWaitForExtensionValidation(n,t,f,r,u),f.promise},n.prototype.waitForOperation=function(n,t,r){var u=i.defer();return this.doWaitForOperation(n,u,t,r),u.promise},n.prototype.getPublishedExtension=function(n,t,i){return this._galleryClient.getExtension(n,t,null,i)},n.prototype._getExtensionAsset=function(n,t){var i=null;return n&&n.versions&&n.versions.length>0&&n.versions[0].files&&n.versions[0].files.some(function(n){if(n&&ft.ignoreCaseComparer(n.assetType,t)===0)return i=n,!0}),i},n.prototype._itemAssetExists=function(n,t){var i=this._getExtensionAsset(n,this.getAssetTypeString(t));return i?!0:!1},n.prototype._getScreenshotUrlsForExtension=function(n){var i=this,t=[];return ht.ASSETS_SCREENSHOTS.forEach(function(r){var u=i._getAssetUrl(n,r,null);u&&t.push(u)}),t},n.prototype._licensePresent=function(n){var t=!1,r=k.getPageContext().webAccessConfiguration.isHosted,u=n&&n.publisher&&p.ItemModelHelper.isFirstPartyPublisher(n.publisher.displayName),i;return r||!u?(i=this._getExtensionAsset(n,ht.ASSET_LICENSE),i&&(t=!0)):t=!0,t},n.prototype._getUniqueIVSSOffersFromExtensionQueryResult=function(n){var r=this,t,i;return t={},i=[],$.each(n.results,function(n,u){u.extensions&&(u.extensions=u.extensions.filter(function(n){return!(n.flags&g.PublishedExtensionFlags.System)}),$.each(u.extensions,function(n,u){t[u.extensionId]||(t[u.extensionId]=!0,i.push(r._getVSSOfferFromPublishedExtension(u)))}))}),i},n.prototype._getVSSItemFromPublishedExtension=function(n,t){var o,r,u,h,e,i;t===void 0&&(t=!1);o=this._getPriceCategory(n);r=this._getItemType(n);r===p.VSSItemType.VSSOffer&&(u=w.OfferDuration.Monthly,n.tags&&it.arrayContains(ct.OFFER_ANNUAL_TAG,n.tags,function(n,t){return n.toLowerCase()===t.toLowerCase()})&&(u=w.OfferDuration.Yearly));h=(n.flags&g.PublishedExtensionFlags.BuiltIn)!=0;this._removeSystemTags(n,t);e="";e=n.versions&&n.versions[0]?n.versions[0].version:f.ItemAttributeNotAvailable;var c=0,l=0,a=0,v=0,y=0,b=0;return n.statistics&&n.statistics.length>0&&n.statistics.forEach(function(n){ft.ignoreCaseComparer(n.statisticName,ht.STATISTIC_INSTALL)===0?c=n.value:ft.ignoreCaseComparer(n.statisticName,ht.STATISTIC_AVERAGE_RATING)===0?l=n.value:ft.ignoreCaseComparer(n.statisticName,ht.STATISTIC_RATING_COUNT)===0?a=n.value:ft.ignoreCaseComparer(n.statisticName,p.ItemConstants.STATISTIC_TRENDING_WEEKLY)===0?v=n.value:ft.ignoreCaseComparer(n.statisticName,p.ItemConstants.STATISTIC_TRENDING_MONTHLY)===0?y=n.value:ft.ignoreCaseComparer(n.statisticName,p.ItemConstants.STATISTIC_TRENDING_DAILY)===0&&(b=n.value)}),i={id:n.extensionId,name:n.extensionName,title:n.displayName,shortDescription:n.shortDescription,longDescription:n.longDescription,publisherName:n.publisher.publisherName,publisherDisplayName:n.publisher.displayName,link:s.GalleryURLs.getItemDetailsURLFromNames(n.publisher.publisherName,n.extensionName),updatedDate:n.lastUpdated.toLocaleString(),updatedRawDate:n.lastUpdated,publishedDate:"",isPublished:!0,isPublic:(n.flags&g.PublishedExtensionFlags.Public)!=0,imageUrl:this._getAssetUrl(n,ht.ASSET_ICON_DEFAULT),brandingImageUrl:this._getAssetUrl(n,ht.ASSET_ICON_BRANDING),tags:n.tags||[],version:e,categories:n.categories||[],itemType:r,screenshotUrls:this._getScreenshotUrlsForExtension(n),priceCategory:o,licenseUrl:this._licensePresent(n)?this._getItemEULAPageURL(n.publisher.publisherName,n.extensionName):null,installCount:c,publisherFlags:n.publisher.flags,averageRating:l,ratingCount:a,trendingWeekly:v,trendingMonthly:y,trendingDaily:b},i.itemType===p.VSSItemType.VSSOffer&&(i.duration=u),h&&(i.isBuiltIn=!0),i},n.prototype.isDoNotDownloadTagSet=function(n){var u=ct.DO_NOT_DOWNLOAD_TAG,t,i,r;if(n.tags)for(t=0,i=n.tags;t<i.length;t++)if(r=i[t],ft.ignoreCaseComparer(r,u)===0)return!0;return!1},n.prototype._getPriceCategory=function(n){var t=l.priceCategory.Free,i=(n.flags&g.PublishedExtensionFlags.Preview)!=0,r=(n.flags&g.PublishedExtensionFlags.Paid)!=0;return i?t=l.priceCategory.Preview:r?t=l.priceCategory.Paid:n&&n.tags&&(it.arrayContains(ct.PAID_TAG,n.tags,function(n,t){return n.toLowerCase()===t.toLowerCase()})||this._getItemType(n)===p.VSSItemType.VSSOffer)&&(t=l.priceCategory.Paid),t},n.prototype._getVSSOfferFromPublishedExtension=function(t){return $.extend(this._getVSSItemFromPublishedExtension(t),{price:n.OFFER_PRICE,duration:w.OfferDuration.Yearly})},n.prototype._getItemType=function(n){return vt.getItemType(n)},n.prototype._getInstallationTargetForItemType=function(n){var t="";switch(n){case p.VSSItemType.VSSExtension:t=ht.INSTALLATION_TARGET_EXTENSION;break;case p.VSSItemType.VSSHostedExtension:t=ht.INSTALLATION_TARGET_HOSTED_EXTENSION;break;case p.VSSItemType.VSSIntegration:t=ht.INSTALLATION_TARGET_INTEGRATION;break;case p.VSSItemType.VSSOffer:t=ht.INSTALLATION_TARGET_OFFER;break;case p.VSSItemType.VSCodeExtension:t=ht.INSTALLATION_TARGET_CODE}return t},n.prototype._removeSystemTags=function(n,t){var i;if(n.tags)for(i=n.tags.length-1;i>=0;i--)n.tags[i].indexOf(ct.SYSTEM_TAG_ID)!==0&&(t||n.tags[i].indexOf(ct.HIDDEN_TAG_ID)!==0)||n.tags.splice(i,1)},n.prototype._getItemDetailsPageURL=function(n,t){return s.GalleryURLs.getItemDetailsURLFromNames(n,t)},n.prototype._getItemEULAPageURL=function(n,t){return location.protocol+"//"+location.host+y.GalleryURLs.getItemEULAURL(p.ItemModelHelper.getFullyQualifiedNameForItem(n,t))},n.prototype._getQueryResponseByFilteringNonSystemIVSSitems=function(n){var t=function(n){return(n.flags&g.PublishedExtensionFlags.System)==0&&(n.flags&g.PublishedExtensionFlags.BuiltIn)==0};return this._getQueryResponseFromExtensionFilterResult(n,t)},n.prototype._getQueryResponseFromExtensionFilterResult=function(n,t){var c=this,h,e,r,i,u;var o=[],f=null,s=[];if(n.extensions&&(t&&(n.extensions=n.extensions.filter(t)),$.each(n.extensions,function(n,t){o.push(c._getVSSItemFromPublishedExtension(t))})),n.resultMetadata)for(h=n.resultMetadata.length,e=0;e<h;e++)if(r=n.resultMetadata[e],ft.ignoreCaseComparer(r.metadataType,lt.RESULT_COUNT)===0){for(i=0;i<r.metadataItems.length;i++)if(u=r.metadataItems[i],ft.ignoreCaseComparer(u.name,lt.TOTAL_COUNT)===0){f=u.count;break}}else if(ft.ignoreCaseComparer(r.metadataType,lt.CATEGORIES)===0)for(i=0;i<r.metadataItems.length;i++)u=r.metadataItems[i],s.push({name:u.name,value:u.count});return f||(f=o.length),{items:o,totalCount:f,categoryInfo:s}},n.prototype._getUniqueNonSystemIVSSitemsFromExtensionQueryResult=function(n){var t=function(n){return(n.flags&g.PublishedExtensionFlags.System)==0&&(n.flags&g.PublishedExtensionFlags.BuiltIn)==0};return this._getUniqueIVSSitemsFromExtensionQueryResult(n,t)},n.prototype._getUniqueIVSSitemsFromExtensionQueryResult=function(n,t){var u=this,i,r;return i={},r=[],$.each(n.results,function(n,f){f.extensions&&(t&&(f.extensions=f.extensions.filter(t)),$.each(f.extensions,function(n,t){i[t.extensionId]||(i[t.extensionId]=!0,r.push(u._getVSSItemFromPublishedExtension(t)))}))}),r},n.prototype._getNameToIVSSItemArrayMap=function(n,t){var r=this,f=n.length,i={};return $.each(t.results,function(t,f){var s=n[t],e,o;f.extensions&&(e=f.extensions,e&&(e=e.filter(function(n){return(n.flags&g.PublishedExtensionFlags.System)==0&&(n.flags&g.PublishedExtensionFlags.BuiltIn)==0})),o=$.map(e,function(n){return r._getVSSItemFromPublishedExtension(n)}),o&&o.length>0&&$.each(o,function(n,t){var r=[];t.categories&&t.categories.length>0&&ft.ignoreCaseComparer(t.categories[0],u.OtherItemCategory)!==0?r=t.categories:r.push(u.OtherItemCategory);$.each(r,function(n,r){i[r]||(i[r]={});i[r][s]||(i[r][s]=[]);i[r][s].push(t)})}))}),i},n.prototype._getImgPath=function(n){return ut.combinePaths(this._galleryResources,n)},n.prototype._filterDuplicateExtensions=function(n){var r={},u=[],t,f,i;for(t in n)n.hasOwnProperty(t)&&(f=n[t],i=[],$.each(f,function(n,t){r[t.id]||(i.push(t),r[t.id]=!0)}),i.length===0&&u.push(t),n[t]=i);$.each(u,function(t,i){delete n[i]})},n.prototype.doWaitForExtensionValidation=function(n,t,i,r,f){var e=this;this._galleryClient.getExtension(n,t,null,g.ExtensionQueryFlags.IncludeVersions).then(function(o){var s=o.versions[0];s?(s.flags&g.ExtensionVersionFlags.Validated)!=0?i.resolve(!0):s.validationResultMessage?i.reject(s.validationResultMessage):f<=0?i.reject(u.Publisher_ExtensionValidation_Timeout):rt.delay(e,r,function(){e.doWaitForExtensionValidation(n,t,i,r,f-1)}):i.reject(ft.format(u.Publisher_ExtensionValidation_NoVersionFound,o.extensionName))},i.reject)},n.prototype.doWaitForOperation=function(n,t,i,r){var f=this;this._operationsClient.getOperation(n).then(function(e){e.status===st.OperationStatus.Cancelled||e.status===st.OperationStatus.Failed||e.status===st.OperationStatus.Succeeded?t.resolve(e):r<=0?t.reject(u.Publisher_ExtensionValidation_Timeout):rt.delay(f,i,function(){f.doWaitForOperation(n,t,i,r-1)})},t.reject)},n.prototype._compareFeaturedExtensions=function(n,t){var u=ct.FEATURED_TAG.length,f="",e="",r=NaN,i=NaN,h=function(n){return n.length>u&&ft.ignoreCaseComparer(n.substring(0,u),ct.FEATURED_TAG)===0?!0:!1},c=$.grep(n.tags,function(n){return h(n)}),o,s;return c.length>0&&(f=c[0]),o=$.grep(t.tags,function(n){return h(n)}),o.length>0&&(e=o[0]),s=function(n){var t=n.substring(u);return parseInt(t)},f&&(r=s(f)),e&&(i=s(e)),r&&i?r<i?-1:r>i?1:0:i?1:-1},n.prototype._getAssetUrl=function(n,t){var i=this._getExtensionAsset(n,t),r="";return i&&(r=i.source),r},n.prototype._flattenCategoryItemTypeExtensionMap=function(n){var i={},t,r;for(t in n)if(n.hasOwnProperty(t)){i[t]=[];for(r in n[t])n[t].hasOwnProperty(r)&&(i[t]=i[t].concat(n[t][r]))}return i},n.prototype._getExtensionQueryForParticularExtension=function(t,i){i===void 0&&(i=!1);var r=g.ExtensionQueryFlags.IncludeCategoryAndTags|g.ExtensionQueryFlags.IncludeFiles|g.ExtensionQueryFlags.IncludeLatestVersionOnly|g.ExtensionQueryFlags.ExcludeNonValidated;return i&&(r=r|g.ExtensionQueryFlags.IncludeVersionProperties),{assetTypes:null,filters:[{criteria:[{filterType:g.ExtensionQueryFilterType.Name,value:t}],direction:g.PagingDirection.Forward,pageSize:n.QUERY_PAGE_SIZE,pageNumber:1,sortBy:g.SortByType.Relevance,sortOrder:g.SortOrderType.Default,pagingToken:null}],flags:r}},n.QUERY_PAGE_SIZE=100,n.OFFER_PRICE=100,n.PRODUCT_VSS="vsts",n.PRODUCT_VS="vs",n.PRODUCT_VSCODE="vscode",n}(),yt,pt,ht,ct,lt,vt;t.VSSGallery=at;yt=function(n){function t(t){n.call(this);this._itemProperties={};this._extension=t.extension;this._extensionToken=t.extensionToken;this._offerDetails=t.offerDetails;this._offerMeterPrices=t.offerMeterPrices;this._itemOverviewMarkdown=t.overviewMarkdown&&t.overviewMarkdown!==""?t.overviewMarkdown:"";this._itemLicenseMarkdown=t.licenseMarkdown&&t.licenseMarkdown!==""?t.licenseMarkdown:"";this._itemPricingMarkdown=t.pricingMarkdown&&t.pricingMarkdown!==""?t.pricingMarkdown:"";t.itemProperties&&t.itemProperties!=="{}"&&(this._itemProperties=$.parseJSON(t.itemProperties))}return __extends(t,n),t.prototype.getItemDetails=function(t){var u=i.defer(),r=this._getVSSItemFromPublishedExtension(this._extension,!1,this._extensionToken);if(r&&p.ItemModelHelper.getFullyQualifiedNameForItem(r.publisherName,r.name)===t)u.resolve(r);else return n.prototype.getItemDetails.call(this,t);return u.promise},t.prototype.getItemAssetContent=function(t,r,u){var f=i.defer();if(u===v.Asset_Type.OVERVIEW&&this._itemOverviewMarkdown)f.resolve(JSON.parse(this._itemOverviewMarkdown));else if(u===v.Asset_Type.LICENSE&&this._itemLicenseMarkdown)f.resolve(JSON.parse(this._itemLicenseMarkdown));else if(u===v.Asset_Type.PRICING&&this._itemPricingMarkdown)f.resolve(JSON.parse(this._itemPricingMarkdown));else return n.prototype.getItemAssetContent.call(this,t,r,u);return f.promise},t.prototype.getItemAssetSourceURL=function(n,t,i){var r="",u=this._getExtensionAsset(this._extension,i);return u&&(r=u.source),r},t.prototype.getDetailedItem=function(){var t=i.defer(),r=this.isDoNotDownloadTagSet(this._extension),u=s.GalleryURLs.getShowHiddenTagsValueFromUrl(location.href),n=this._getVSSItemFromPublishedExtension(this._extension,u,this._extensionToken);return n?(this._itemAssetExists(this._extension,v.Asset_Type.OVERVIEW)&&this.getItemAssetContent(n.id,n.version,v.Asset_Type.OVERVIEW).then(function(t){n.itemDetailsMarkdown=t}),this._itemAssetExists(this._extension,v.Asset_Type.PRICING)&&this.getItemAssetContent(n.id,n.version,v.Asset_Type.PRICING).then(function(t){n.itemPricingMarkdown=t}),n.offerDetails=this._offerDetails,n.offerMeterPrices=this._offerMeterPrices,n.properties=this._itemProperties,n.doNotDownload=r,t.resolve(n)):t.reject("Item not found"),t.promise},t}(at);t.VSSCachingProvider=yt;pt=function(n){function t(t){n.call(this);this._extension=null;this._extensionMap={};this._detailedItemMap={};this._rootRequestPath=t;this._externalClient=new nt.GalleryHttpClient(t)}return __extends(t,n),t.prototype.getDetailedItem=function(t){var r=this,u=i.defer(),f=this._detailedItemMap[t],e;return f?(u.resolve(f),u.promise):(e=this._getExtensionQueryForParticularExtension(t,!0),this._externalClient.queryExtensions(e).then(function(i){var f=null,e,o;i&&i.results&&i.results.length>0&&i.results[0].extensions&&i.results[0].extensions.length>0&&(f=i.results[0].extensions[0]);f?(e=r._getVSSItemFromPublishedExtension(f),e.properties=r._getPropertiesMapForExtension(f),n.prototype._itemAssetExists.call(r,f,v.Asset_Type.OVERVIEW)?(o=n.prototype._getExtensionAsset.call(r,f,r.getAssetTypeString(v.Asset_Type.OVERVIEW)).source,$.get(o).then(function(n){e.itemDetailsMarkdown=n;r._extensionMap[t]=f;r._detailedItemMap[t]=e;u.resolve(e)})):u.resolve(e)):u.reject("Item not found")}),u.promise)},t.prototype.getItemAssetSourceURL=function(n,t,i){var u="",f=this._extensionMap[n],r;return f&&(r=this._getExtensionAsset(f,i),r&&(u=r.source)),u},t.prototype.getPackageDownloadURL=function(n,t,i){return y.GalleryURLs.getRemotePackageDownloadURL(this._rootRequestPath,n,t,i)},t.prototype.importExtension=function(n,t,u){var e=this,f=i.defer(),o=this.getPackageDownloadURL(n,t,u),s={downloadURL:o},c=new r.HTTPDownloader(s);return c.startDownload().then(function(n){h.FileUtils.readBlobAsBase64(n).then(function(n){var t={extensionManifest:n};e.publishExtension(t,!1,null,null).then(function(n){f.resolve(n)})},function(n){f.reject(n)})},function(n){f.reject(n)}),f.promise},t.prototype._getPropertiesMapForExtension=function(n){var t=null;return n&&(t={},n.versions[0].properties&&n.versions[0].properties.forEach(function(n){t[n.key]=n.value})),t},t}(at);t.VSSGalleryExternalProvider=pt;ht=function(){function n(){}return n.ASSET_PATH="_apis/public/gallery/publisher/{0}/extension/{1}/{2}/assetbyname/{4}",n.PRIVATE_ASSET_PATH="_apis/public/gallery/publisher/{0}/extension/{1}/{2}/privateasset/{3}/{4}",n.ASSET_ICON_DEFAULT="Microsoft.VisualStudio.Services.Icons.Default",n.ASSET_ICON_BRANDING="Microsoft.VisualStudio.Services.Icons.Branding",n.ASSET_LICENSE="Microsoft.VisualStudio.Services.Content.License",n.ASSET_ICON_WIDE="Microsoft.VisualStudio.Services.Icons.Wide",n.ASSETS_SCREENSHOTS=["Microsoft.VisualStudio.Services.Screenshots.1","Microsoft.VisualStudio.Services.Screenshots.2","Microsoft.VisualStudio.Services.Screenshots.3"],n.ASSETS_DETAILS="Microsoft.VisualStudio.Services.Content.Details",n.ASSET_PRICING="Microsoft.VisualStudio.Services.Content.Pricing",n.INSTALLATION_TARGET_EXTENSION="Microsoft.VisualStudio.Services",n.INSTALLATION_TARGET_HOSTED_EXTENSION="Microsoft.VisualStudio.Services.Cloud",n.INSTALLATION_TARGET_INTEGRATION="Microsoft.VisualStudio.Services.Integration",n.INSTALLATION_TARGET_OFFER="Microsoft.VisualStudio.Offer",n.INSTALLATION_TARGET_CODE="Microsoft.VisualStudio.Code",n.PROPERTY_GET_STARTED_LINK="Microsoft.VisualStudio.Services.Links.Getstarted",n.PROPERTY_LEARN_LINK="Microsoft.VisualStudio.Services.Links.Learn",n.PROPERTY_SUPPORT_LINK="Microsoft.VisualStudio.Services.Links.Support",n.PROPERTY_FEEDBACK_LINK="Microsoft.VisualStudio.Services.Links.Feedback",n.PROPERTY_INSTALL_LINK="Microsoft.VisualStudio.Services.Links.Install",n.PROPERTY_BRANDING_COLOR="Microsoft.VisualStudio.Services.Branding.Color",n.PROPERTY_BRANDING_THEME="Microsoft.VisualStudio.Services.Branding.Theme",n.PROPERTY_GITHUB_REPOSITORY_LINK="Microsoft.VisualStudio.Services.Links.Github",n.STATISTIC_INSTALL="install",n.STATISTIC_AVERAGE_RATING="averagerating",n.STATISTIC_RATING_COUNT="ratingcount",n}();t.ItemConstants=ht;ct=function(){function n(){}return n.HIDDEN_TAG_ID="__",n.SYSTEM_TAG_ID="$",n.FEATURED_TAG="$featured",n.FEATURED_TAG1="$featured1",n.FEATURED_TAG2="$featured2",n.OFFER_MONTHLY_TAG="$Monthly",n.OFFER_ANNUAL_TAG="$Annual",n.PREVIEW_TAG="$preview",n.PAID_TAG="$IsPaid",n.OFFERS_TAG_NAME="Offer",n.DO_NOT_DOWNLOAD_TAG="$DoNotDownload",n}();t.ItemTags=ct;lt=function(){function n(){}return n.RESULT_COUNT="ResultCount",n.TOTAL_COUNT="TotalCount",n.CATEGORIES="Categories",n}();t.QueryMetadataConstants=lt;vt=function(){function n(){}return n.getItemType=function(n){var t=p.VSSItemType.VSSExtension;for(var i in n.installationTargets){if(n.installationTargets[i].target.toLowerCase()===ht.INSTALLATION_TARGET_EXTENSION.toLowerCase()){t=p.VSSItemType.VSSExtension;break}if(n.installationTargets[i].target.toLowerCase()===ht.INSTALLATION_TARGET_HOSTED_EXTENSION.toLowerCase()){t=p.VSSItemType.VSSHostedExtension;break}else if(n.installationTargets[i].target.toLowerCase()===ht.INSTALLATION_TARGET_INTEGRATION.toLowerCase()){t=p.VSSItemType.VSSIntegration;break}else if(n.installationTargets[i].target.toLowerCase()===ht.INSTALLATION_TARGET_OFFER.toLowerCase()){t=p.VSSItemType.VSSOffer;break}else if(n.installationTargets[i].target.toLowerCase()===ht.INSTALLATION_TARGET_CODE.toLowerCase()){t=p.VSSItemType.VSCodeExtension;break}}return t},n}();t.VSSItemHelper=vt});
define("Gallery/Client/Service/VSGallery/IVSGallery",["require","exports"],function(n,t){var r,i,u;(function(n){n[n.SearchText=0]="SearchText";n[n.SupportedPlatform=1]="SupportedPlatform";n[n.Contains=2]="Contains";n[n.Collection=3]="Collection";n[n.Technology=4]="Technology";n[n.Platform=5]="Platform";n[n.ProgrammingLanguage=6]="ProgrammingLanguage";n[n.User=7]="User";n[n.Contributors=8]="Contributors";n[n.Status=9]="Status";n[n.RootCategory=10]="RootCategory"})(t.VSFilterType||(t.VSFilterType={}));r=t.VSFilterType;t.VSFilterTypeStrings=["SearchText","SupportedPlatform","Contains","Collection","Technology","Platform","ProgrammingLanguage","User","Contributors","Status","RootCategory"];i=function(){function n(){}return n}();t.VSTabData=i,function(n){n[n.Popularity=0]="Popularity";n[n.Ratings=1]="Ratings";n[n.Downloads=2]="Downloads";n[n.Date=3]="Date";n[n.LastModified=4]="LastModified";n[n.Relevance=5]="Relevance";n[n.AuthorAsc=6]="AuthorAsc";n[n.TitleAsc=7]="TitleAsc"}(t.VSSortByValue||(t.VSSortByValue={}));u=t.VSSortByValue});
define("Gallery/Client/Service/VSGallery/REST_Contracts",["require","exports"],function(n,t){var i,r;(function(n){n[n.Tag=0]="Tag";n[n.RootCategory=1]="RootCategory";n[n.SubCategory=2]="SubCategory";n[n.SearchText=3]="SearchText";n[n.CostCategory=4]="CostCategory";n[n.VisualStudioVersion=5]="VisualStudioVersion";n[n.SupportedPlatform=6]="SupportedPlatform";n[n.ScriptLanguage=7]="ScriptLanguage";n[n.Affiliation=8]="Affiliation";n[n.Partner=9]="Partner";n[n.Contains=10]="Contains";n[n.Collection=11]="Collection";n[n.Technology=12]="Technology";n[n.Topic=13]="Topic";n[n.SearchDefaultLocale=14]="SearchDefaultLocale";n[n.Platform=15]="Platform";n[n.ProgrammingLanguage=16]="ProgrammingLanguage";n[n.User=17]="User";n[n.VisualStudioSupportedVersionSku=18]="VisualStudioSupportedVersionSku";n[n.RequestStatus=19]="RequestStatus";n[n.UserRequestStatus=20]="UserRequestStatus";n[n.DownloadKind=21]="DownloadKind";n[n.Contributors=22]="Contributors";n[n.Status=23]="Status"})(t.FilterType||(t.FilterType={}));i=t.FilterType,function(n){n[n.Relevance=0]="Relevance";n[n.Popularity=1]="Popularity";n[n.Date=2]="Date";n[n.Downloads=3]="Downloads";n[n.TitleAsc=4]="TitleAsc";n[n.AuthorAsc=5]="AuthorAsc";n[n.Ratings=6]="Ratings";n[n.Votes=7]="Votes";n[n.LastModified=8]="LastModified"}(t.SortByFormValue||(t.SortByFormValue={}));r=t.SortByFormValue});
define("Gallery/Client/Service/VSGallery/VSGallery",["require","exports","VSS/Utils/String","Gallery/Client/Service/VSGallery/IVSGallery","Gallery/Client/Service/VSGallery/REST_Contracts","Gallery/Client/Common/TelemetryInternal","q","VSS/Utils/Url"],function(n,t,i,r,u,f,e,o){var s=function(){function n(){}return n.convertToVSItems=function(n){return $.map(n,function(n){if(n)return{id:n.Name||"",title:n.Title||"",shortDescription:n.Summary||"",longDescription:n.Summary||"",publisherDisplayName:n.Author&&n.Author.DisplayName||"",link:n.Link||"",updatedDate:n.DateUpdated||"",publishedDate:n.DatePublished||"",isPublished:n.IsPublished||!1,imageUrl:n.Thumbnail||"",ratings:n.Rating||0,raters:n.Raters||0,downloads:n.Downloads||0,priceCategory:n.CostCategory||0}})},n.convertToVSSearchResponse=function(t){var i=n.convertToVSItems(t);return{items:i,totalCount:i.length}},n.convertToVSCategories=function(t){return $.map(t,function(t){return{name:t.Name,title:t.Title,subCategories:n.convertToVSCategories(t.SubCategories),itemCount:t.ProjectCount}})},n.buildSearchApiUrl=function(n,t){var i=new o.Uri(n?n:"");return t&&(t.f&&$.each(t.f,function(n,t){t&&t.type!=null&&t.value&&t.type<r.VSFilterTypeStrings.length&&i.addQueryParam(r.VSFilterTypeStrings[t.type],t.value,!0)}),t.page&&i.addQueryParam("page",t.page.toString(),!0),t.pageSize&&i.addQueryParam("pageSize",t.pageSize.toString(),!0),t.sort&&i.addQueryParam("sort",t.sort.toString(),!0),t.costCategories&&$.each(t.costCategories,function(n,t){i.addQueryParam("CostCategory",t,!1)}),t.vsVersion&&$.each(t.vsVersion,function(n,t){i.addQueryParam("VisualStudioVersion",t,!1)})),i.absoluteUri},n.buildAPI=function(n,t){var i=$.param(t);return i&&(i="?"+i),n+i},n.insertOption=function(n,t,r,u){n[i.format("f[{0}].{1}",t,r)]=u},n.getCategoriesLinkAPIUrl=function(t){var i={},r;return n.insertOption(i,0,"Type","VisualStudioVersion"),n.insertOption(i,0,"Value","14.0"),n.insertOption(i,0,"Text","Visual Studio 2015"),i.sortBy=t,r=n.buildAPI("search",i),h.VSGALLERY_REST_SERVER+h.VSGALLERY_MAIN_API_ROUTE+r},n.getCategoriesSearchLinkAPIUrl=function(t,i,r){var u={},f;return n.insertOption(u,0,"Type","RootCategory"),n.insertOption(u,0,"Value",t.name),n.insertOption(u,0,"Text",t.title),r&&(n.insertOption(u,1,"Type","SubCategory"),n.insertOption(u,1,"Value",r.name),n.insertOption(u,1,"Text",r.title)),f=n.buildAPI("search",u),i+f},n}(),h,c;t.VSGalleryHelper=s;h=function(){function n(t){this._restServer=t||n.VSGALLERY_REST_SERVER}return n.prototype.getRESTurl=function(t){return this._restServer+n.VSGALLERY_REST_API_ROUTE+t},n.prototype.beginGetFeaturedItems=function(){return this.beginSearchItems([],0,20,r.VSSortByValue.Date)},n.prototype.beginGetPopularItems=function(){return this.beginSearchItems([],0,20,r.VSSortByValue.Popularity)},n.prototype.beginGetTopRatedItems=function(){return this.beginSearchItems([],0,20,r.VSSortByValue.Ratings)},n.prototype.beginSearchItems=function(n,t,i,r,u){var o=e.defer(),f={},h,c;return f.f=n,f.page=t,f.pageSize=i,r!=null&&(f.sort=this._translateSortOrder(r)),u!==undefined&&u.costCategories&&(f.costCategories=u.costCategories),u!==undefined&&u.vsVersion&&(f.vsVersion=u.vsVersion),h=s.buildSearchApiUrl("extensions",f),c=this._issueRESTcall(h),c.then(function(n){var t=s.convertToVSItems(n.Items),i={items:t,totalCount:n.TotalCount};o.resolve(i)},function(n,t){o.reject(t)}),o.promise},n.prototype.beginGetCategories=function(n){var t,i,r,u;return n===void 0&&(n=!0),t=e.defer(),i={},n&&(i.filterEmptyCategory=!0),r=s.buildAPI("categories",i),u=this._issueRESTcall(r),u.then(function(n){var i=s.convertToVSCategories(n);t.resolve(i)},function(n,i){t.reject(i)}),t.promise},n.prototype.getCategoriesSearchLink=function(t,i){return s.getCategoriesSearchLinkAPIUrl(t,n.VSGALLERY_REST_SERVER+n.VSGALLERY_MAIN_API_ROUTE,i)},n.prototype._convertToVSItems=function(n){return $.map(n,function(n){return{id:n.Name||"",title:n.Title||"",shortDescription:n.Summary||"",longDescription:n.Summary||"",publisherDisplayName:n.Author&&n.Author.DisplayName||"",link:n.Link||"",updatedDate:n.DateUpdated||"",publishedDate:n.DatePublished||"",isPublished:n.IsPublished||!1,imageUrl:n.Thumbnail||"",ratings:n.Rating||0,raters:n.Raters||0,downloads:n.Downloads||0,priceCategory:n.CostCategory||0}})},n.prototype._issueRESTcall=function(n,t,i){t===void 0&&(t="GET");i===void 0&&(i={});var r={url:this.getRESTurl(n),type:t,data:i,dataType:"json",crossDomain:$.support.cors};return $.ajax(r)},n.prototype._translateSortOrder=function(n){var t=u.SortByFormValue.Popularity;switch(n){case r.VSSortByValue.Ratings:t=u.SortByFormValue.Ratings;break;case r.VSSortByValue.Downloads:t=u.SortByFormValue.Downloads;break;case r.VSSortByValue.Date:t=u.SortByFormValue.Date;break;case r.VSSortByValue.Popularity:t=u.SortByFormValue.Popularity;break;case r.VSSortByValue.LastModified:t=u.SortByFormValue.LastModified;break;case r.VSSortByValue.Relevance:t=u.SortByFormValue.Relevance;break;case r.VSSortByValue.AuthorAsc:t=u.SortByFormValue.AuthorAsc;break;case r.VSSortByValue.TitleAsc:t=u.SortByFormValue.TitleAsc}return t},n.VSGALLERY_REST_SERVER="https://visualstudiogallery.msdn.microsoft.com",n.VSGALLERY_REST_TEST_SERVER="https://vsgmain.redmond.corp.microsoft.com",n.VSGALLERY_REST_API_ROUTE="/api/v1/",n.VSGALLERY_REST_TEST_API_ROUTE="/api/v1/",n.VSGALLERY_MAIN_API_ROUTE="/site/",n}();t.VSGallery=h;c=function(){function n(n){this._featuredItemsData=n.vsTabData.FeaturedExtensions;this._featuredItemsData&&this._featuredItemsData.length>6&&(this._featuredItemsData=this._featuredItemsData.slice(0,6));this._topRatedItemsData=n.vsTabData.TopRatedExtensions;this._popularItemsData=n.vsTabData.MostPopularExtensions;this._categoriesData=n.vsTabData.Categories}return n.prototype.beginGetPopularItems=function(){return this._beginGetVSSearchResults(this._popularItemsData,s.convertToVSSearchResponse,"beginGetPopularItems")},n.prototype.beginGetFeaturedItems=function(){return this._beginGetVSSearchResults(this._featuredItemsData,s.convertToVSSearchResponse,"beginGetFeaturedItems")},n.prototype.beginGetTopRatedItems=function(){return this._beginGetVSSearchResults(this._topRatedItemsData,s.convertToVSSearchResponse,"beginGetTopRatedItems")},n.prototype.beginSearchItems=function(){return null},n.prototype.beginGetCategories=function(){return this._beginGetVSResults(this._categoriesData,s.convertToVSCategories,"beginGetCategories")},n.prototype.getCategoriesSearchLink=function(n,t){return s.getCategoriesSearchLinkAPIUrl(n,h.VSGALLERY_REST_SERVER+h.VSGALLERY_MAIN_API_ROUTE,t)},n.prototype._beginGetVSResults=function(n,t,i){var r=e.defer();return n&&n.length>0?r.resolve(t(n)):(f.ErrorLog.logVSError({failedAPI:i,results:n}),r.reject(null)),r.promise},n.prototype._beginGetVSSearchResults=function(n,t){var i=e.defer();return n&&n.length>0?i.resolve(t(n)):i.reject(null),i.promise},n}();t.VSJsonDataProvider=c});
define("VSS/FeatureAvailability/RestClient",["require","exports","VSS/Service","VSS/WebApi/RestClient"],function(n,t,i,r){"use strict";function a(n){return window.VSS&&window.VSS.VssSDKRestVersion&&c[window.VSS.VssSDKRestVersion]?i.getClient(c[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):i.getClient(e,undefined,undefined,undefined,n)}var u=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype.updateFeatureFlag=function(n,t,i,r){var u={userEmail:i,checkFeatureExists:r};return this._beginRequest({httpMethod:"PATCH",area:"FeatureAvailability",locationId:"3e2b80f8-9e6f-441e-8393-005610692d9c",resource:"FeatureFlags",routeTemplate:"_apis/{resource}/{name}",routeValues:{name:t},queryParams:u,apiVersion:this.featureFlagsApiVersion,data:n})},t.prototype.getFeatureFlagByNameAndUserId=function(n,t){var i={userId:t};return this._beginRequest({httpMethod:"GET",area:"FeatureAvailability",locationId:"3e2b80f8-9e6f-441e-8393-005610692d9c",resource:"FeatureFlags",routeTemplate:"_apis/{resource}/{name}",routeValues:{name:n},queryParams:i,apiVersion:this.featureFlagsApiVersion})},t.prototype.getFeatureFlagByNameAndUserEmail=function(n,t){var i={userEmail:t};return this._beginRequest({httpMethod:"GET",area:"FeatureAvailability",locationId:"3e2b80f8-9e6f-441e-8393-005610692d9c",resource:"FeatureFlags",routeTemplate:"_apis/{resource}/{name}",routeValues:{name:n},queryParams:i,apiVersion:this.featureFlagsApiVersion})},t.prototype.getFeatureFlagByName=function(n){return this._beginRequest({httpMethod:"GET",area:"FeatureAvailability",locationId:"3e2b80f8-9e6f-441e-8393-005610692d9c",resource:"FeatureFlags",routeTemplate:"_apis/{resource}/{name}",routeValues:{name:n},apiVersion:this.featureFlagsApiVersion})},t.prototype.getAllFeatureFlags=function(n){var t={userEmail:n};return this._beginRequest({httpMethod:"GET",area:"FeatureAvailability",locationId:"3e2b80f8-9e6f-441e-8393-005610692d9c",resource:"FeatureFlags",routeTemplate:"_apis/{resource}/{name}",responseIsCollection:!0,queryParams:t,apiVersion:this.featureFlagsApiVersion})},t}(r.VssHttpClient),f,o,e,s,h,l,c;t.CommonMethods2To3=u;f=function(n){function t(t,i){n.call(this,t,i);this.featureFlagsApiVersion="3.0-preview.1"}return __extends(t,n),t}(u);t.FeatureAvailabilityHttpClient3=f;o=function(n){function t(t,i){n.call(this,t,i);this.featureFlagsApiVersion="2.3-preview.1"}return __extends(t,n),t}(u);t.FeatureAvailabilityHttpClient2_3=o;e=function(n){function t(t,i){n.call(this,t,i);this.featureFlagsApiVersion="2.2-preview.1"}return __extends(t,n),t}(u);t.FeatureAvailabilityHttpClient2_2=e;s=function(n){function t(t,i){n.call(this,t,i);this.featureFlagsApiVersion="2.1-preview.1"}return __extends(t,n),t}(u);t.FeatureAvailabilityHttpClient2_1=s;h=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t}(u);t.FeatureAvailabilityHttpClient2=h;l=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t}(f);t.FeatureAvailabilityHttpClient=l;c={"3.0":f,"2.3":o,"2.2":e,"2.1":s,"2.0":h};t.getClient=a});
define("VSS/Common/Constants/Platform",["require","exports"],function(n,t){var i,r,u,f;(function(n){n.ContributedServiceContextDataKey="WebPlatform.ContributedServices";n.ContributedServiceDataProviderType="ServiceContext"})(i=t.ContributedServiceContextData||(t.ContributedServiceContextData={})),function(n){n.DataProviderContributionTypeId="ms.vss-web.data-provider";n.ContributionNameProperty="name";n.ContributionInstanceTypeProperty="serviceInstanceType";n.ContributionDataTypeProperty="dataType"}(r=t.DataProviderConstants||(t.DataProviderConstants={})),function(n){n.Area="Microsoft.TeamFoundation.WebAccess";n.WebSettingsStoreSettingFeature="StoreSetting";n.FullScreenModeFeature="FullScreenMode";n.InvalidLicenseExceptionFeature="InvalidLicenseException"}(u=t.WebAccessCustomerIntelligenceConstants||(t.WebAccessCustomerIntelligenceConstants={})),function(n){n.VisualStudioServicesContribution="VisualStudio.Services.Contribution";n.VisualStudioServicesContributionUnSecureBrowsers="VisualStudio.Services.Contribution.EnableOnPremUnsecureBrowsers";n.ClientSideErrorLogging="VisualStudio.Service.WebPlatform.ClientErrorReporting"}(f=t.WebPlatformFeatureFlags||(t.WebPlatformFeatureFlags={}))});
define("VSS/Error",["require","exports","VSS/Context","VSS/Common/Constants/Platform","VSS/FeatureAvailability/Services","VSS/Telemetry/Services","VSS/VSS"],function(n,t,i,r,u,f,e){function o(n,t){t===void 0&&(t=!1);var r=i.getPageContext(),u=window.location.href,e=window.navigator.userAgent,o=r&&r.diagnostics&&r.diagnostics.sessionId||"",s={url:u,userAgent:e,sessionId:o,errorType:n.errorType,errorName:n.name,errorMessage:n.message,errorResponse:n.response,errorStack:n.stack,source:n.source||"",lineNumber:n.lineNumber||"",columnNumber:n.columnNumber||""},h=r&&r.navigation&&r.navigation.area||"DefaultArea",c=r&&r.navigation&&r.navigation.currentController||"Home",l=r&&r.navigation&&r.navigation.currentAction||"Index";f.publishEvent(new f.TelemetryEventData(h+"."+c,l,s),t)}var s=function(){function n(){}return n.prototype.publishError=function(t){n.featureEnabled()&&n._numReportedErrors<n._maxNumberOfReportedError&&(o(t,!1),n._numReportedErrors++)},n.featureEnabled=function(){return n._featureEnabled===null&&(n._featureEnabled=u.FeatureAvailabilityService.isFeatureEnabled(r.WebPlatformFeatureFlags.ClientSideErrorLogging,!1)),n._featureEnabled},n._maxNumberOfReportedError=3,n._numReportedErrors=0,n._featureEnabled=null,n}();t.publishErrorToTelemetry=o;e.errorHandler.attachErrorPublisher(new s);e.tfsModuleLoaded("VSS.Error",t)});

if (window.performance && window.performance.mark) { window.performance.mark('endLoadBundleInner-common'); }