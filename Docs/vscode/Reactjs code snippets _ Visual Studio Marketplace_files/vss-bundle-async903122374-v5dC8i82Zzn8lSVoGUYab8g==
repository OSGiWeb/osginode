if (window.performance && window.performance.mark) { window.performance.mark('startLoadBundleInner-async'); }
// Copyright (C) Microsoft Corporation. All rights reserved.
define("Gallery/Client/Service/SearchProvider/VSSGallerySearchProvider",["require","exports","Gallery/Client/Service/VSSGallery/VSSGallery"],function(n,t,i){var r=function(){function n(){this._vssGallery=new i.VSSGallery}return n.prototype.search=function(n,t,i){n&&this._vssGallery.searchItems(n).then(function(n){var i={searchResults:n.items,totalCount:n.totalCount,categoryInfo:n.categoryInfo};t(i)},function(n){i(n)})},n}();t.VSSGallerySearchProvider=r});
define("Gallery/Client/Service/VNext/SearchProviderAbstractions",["require","exports","q","Gallery/Client/Service/VSSGallery/VSSGallery","Gallery/Client/Service/SearchProvider/VSSGallerySearchProvider","Gallery/Client/Service/VNext/GalleryDataProvider","Gallery/Client/Service/VSSGallery/IVSSGallery","Gallery/Scripts/Gallery/Resources/VSS.Resources.GalleryCommon"],function(n,t,i,r,u,f,e,o){var s=function(){function n(){}return n._getVSSSearchProvider=function(){return n._vssSearchProvider||(n._vssSearchProvider=new u.VSSGallerySearchProvider),n._vssSearchProvider},n.GetExtensionsData=function(n){var l=this,s=i.defer(),u,h,c=[],t;return n.tab==1?(this.category=n.category.replace("vsts_",""),h=[r.ItemConstants.INSTALLATION_TARGET_EXTENSION,r.ItemConstants.INSTALLATION_TARGET_INTEGRATION,r.ItemConstants.INSTALLATION_TARGET_HOSTED_EXTENSION]):n.tab==2&&(this.category=n.category.replace("vscode_",""),h=[r.ItemConstants.INSTALLATION_TARGET_CODE]),this.category==o.MostPopular_Items_Header?t=e.VSSSortByValue.Downloads:this.category==o.RecentlyAdded?t=f.GalleryDataProvider.getFeatureFlag("SortByReleaseDateFlag")?e.VSSSortByValue.ReleaseDate:e.VSSSortByValue.PublishedDate:this.category==o.TrendingWeekly?t=e.VSSSortByValue.TrendingWeekly:this.category==o.TrendingDaily?t=e.VSSSortByValue.TrendingDaily:this.category==o.TrendingMonthly?t=e.VSSSortByValue.TrendingMonthly:(c=[this.category],t=e.VSSSortByValue.Downloads),u={searchTerm:"",pageNumber:n.currentPageNumber,pageSize:n.pageSize,installationTargets:h,categories:c,sortBy:t},this._getVSSSearchProvider().search(u,function(n){(u.sortBy===e.VSSSortByValue.TrendingWeekly||u.sortBy===e.VSSSortByValue.TrendingDaily||u.sortBy===e.VSSSortByValue.TrendingMonthly)&&(n.searchResults=l.filterTrendingCategoryExtensions(n.searchResults,u.sortBy));s.resolve(n)},function(n){s.reject(n)}),s.promise},n.filterTrendingCategoryExtensions=function(n,t){return t===e.VSSSortByValue.TrendingWeekly?n.filter(function(n){return n.trendingWeekly>0}):t===e.VSSSortByValue.TrendingDaily?n.filter(function(n){return n.trendingDaily>0}):n.filter(function(n){return n.trendingMonthly>0})},n._vssSearchProvider=null,n.category="",n}();t.VSSSearchProviderAbstraction=s});

if (window.performance && window.performance.mark) { window.performance.mark('endLoadBundleInner-async'); }