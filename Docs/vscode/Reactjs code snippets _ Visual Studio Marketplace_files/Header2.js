(function(){var headerModule=function($){function init(){$("#ux-header .navL1 > li.toggle > a").each(function(){$(this).click(function(e){window.vscs.vscom.header.addActiveClassForL1($(this));e.stopPropagation()})});$("#ux-header .navL2 > li.toggle > a").each(function(){$(this).bind("click",function(e){window.vscs.vscom.header.addActiveClassForL2($(this));e.stopPropagation()});$(this).bind("focus mouseover",function(e){window.vscs.vscom.header.isElementsMoved||(window.vscs.vscom.header.addActiveClassForL2($(this),!0),e.stopPropagation())})});$("#ux-header .navL2 > li:not(.toggle) > a").each(function(){$(this).bind("focus mouseover",function(e){window.vscs.vscom.header.isElementsMoved||(window.vscs.vscom.header.closeAllL3(!0),e.stopPropagation())})});$("html, body").bind("click",function(){window.vscs.vscom.header.isElementsMoved||(window.vscs.vscom.header.closeAllL2(),window.vscs.vscom.header.closeAllL3())});$("#ux-header").append('<div id="overlayMaskHeader"/>');$(document.body.appendChild($('<div id="overlayMask"/>')[0]));$mask=$("#overlayMaskHeader, #overlayMask");$mask.on("touchstart",function(){window.vscs.vscom.header.bodyScrollTop=$("body")[0].srollTop});$mask.on("touchmove",function(){Math.abs(window.vscs.vscom.header.bodyScrollTop-$("body")[0].srollTop)>=10&&(window.vscs.vscom.header.touchScroll=!0)});$mask.click(function(){window.vscs.vscom.header.touchScroll||window.vscs.vscom.header.showMenu(!1);window.vscs.vscom.header.touchScrolltouchScroll=!1});$("#ux-header #grip").click(function(){$("#ux-header #drawer").show();window.vscs.vscom.header.showMenu(window.vscs.vscom.header.openMenu)});$("#ux-header div.upperBand").click(function(event){window.vscs.vscom.header.deviceType!=window.vscs.vscom.header.deviceTypes.desktop&&window.vscs.vscom.header.toggleMiddleBar()});window.vscs.vscom.header.isSignedIn()&&$("#ux-header div.middleBand").addClass("signedIn");$(window).resize(function(){window.vscs.vscom.header.windowWidth!=$(window).width()&&(window.vscs.vscom.header.resize(),window.vscs.vscom.header.windowWidth=$(window).width())});window.vscs.vscom.header.resize();window.vscs.vscom.header.windowWidth=$(window).width()}window.vscs=window.vscs||{};window.vscs.vscom=window.vscs.vscom||{};window.vscs.vscom.header=window.vscs.vscom.header||{};window.vscs.vscom.header.windowWidth=0;window.vscs.vscom.header.isElementsMoved=!1;window.vscs.vscom.header.touchScroll=!1;window.vscs.vscom.header.openMenu=!0;window.vscs.vscom.header.bodyScrollTop=0;window.vscs.vscom.header.deviceTypes={desktop:"desktop",tablet:"tablet",mobile:"mobile"};window.vscs.vscom.header.deviceType=window.vscs.vscom.header.deviceTypes.desktop;window.vscs.vscom.header.clearHeight=function($object){$object.css("height","")};window.vscs.vscom.header.addActiveClassForL1=function($this){var selfActive=$this.parent().hasClass("active");window.vscs.vscom.header.closeAllL3();window.vscs.vscom.header.closeAllL2();window.vscs.vscom.header.clearHeight($this.next());selfActive||(window.vscs.vscom.header.isElementsMoved?$this.next().animate({height:"toggle"},200,"swing",function(){$(this).parent().removeClass("inactive").addClass("active")}):($this.parent().removeClass("inactive").addClass("active"),$this.next().animate({height:"toggle"},66,"swing")))};window.vscs.vscom.header.adjustCssForLeftNav=function(){var $fixLeftNavParameters=$("#content input#fixLeftNavParameters"),headerHeight=$("#ux-header").height(),$tocNavigation_Breadcrumbs_WithDropDowns=$("#TocNavigation_Breadcrumbs_WithDropDowns"),params;$tocNavigation_Breadcrumbs_WithDropDowns.length==1&&(headerHeight+=$tocNavigation_Breadcrumbs_WithDropDowns.height());$fixLeftNavParameters.length==1&&(params=$fixLeftNavParameters.val().split(","),params!=null&&params.length>0&&(params[0]=headerHeight+40,$fixLeftNavParameters.val(params.join())))};window.vscs.vscom.header.adjustCssForCurrentBookmark=function(){var headerHeight=$("#ux-header").height(),marginTop=headerHeight,paddingTop=headerHeight,$tocNavigation_Breadcrumbs_WithDropDowns=$("#TocNavigation_Breadcrumbs_WithDropDowns"),breadcrumbHeight,$currentBookmark;$tocNavigation_Breadcrumbs_WithDropDowns.length==1&&(breadcrumbHeight=$tocNavigation_Breadcrumbs_WithDropDowns.outerHeight(),marginTop+=breadcrumbHeight-20,paddingTop+=breadcrumbHeight);$currentBookmark=$(window.location.hash);$currentBookmark.length==1&&($currentBookmark.css("margin-top","-"+marginTop+"px"),$currentBookmark.css("padding-top",paddingTop+"px"))};window.vscs.vscom.header.tuneHeight=function($object1,$object2){window.vscs.vscom.header.clearHeight($object1);window.vscs.vscom.header.clearHeight($object2);var minHeight=Math.max($object1.height(),$object2.height());$object1.css("height",minHeight);$object2.css("height",minHeight)};window.vscs.vscom.header.addActiveClassForL2=function($this,isHover){var selfActive=$this.parent().hasClass("active"),visibleL3;if(selfActive){window.vscs.vscom.header.isElementsMoved&&(window.vscs.vscom.header.clearHeight($this.next()),window.vscs.vscom.header.closeAllL3());return}visibleL3=window.vscs.vscom.header.closeAllL3(!isHover);window.vscs.vscom.header.isElementsMoved?(window.vscs.vscom.header.clearHeight($this.next()),$this.next().animate({height:"toggle"},200,"swing",function(){$(this).parent().removeClass("inactive").addClass("active")})):($this.parent().removeClass("inactive").addClass("active"),visibleL3?$this.next().css("display","block"):$this.next().animate({width:"toggle"},200,"swing"),window.vscs.vscom.header.tuneHeight($this.next(),$this.parent().parent()))};window.vscs.vscom.header.closeAllL2=function(){var $l2=$("#ux-header .navL1 > li.active"),subSelector=".navL2";window.vscs.vscom.header.isElementsMoved?$l2.find(subSelector).animate({height:"toggle"},200,"swing",function(){$(this).parent().removeClass("active").addClass("inactive")}):($l2.removeClass("active").addClass("inactive"),$("#ux-header "+subSelector).css("display","none"))};window.vscs.vscom.header.closeAllL3=function(toggleAnimationEnabled){var $l3=$("#ux-header .navL2 > li.active"),subSelector=".navL3",$l3Menu=$l3.find(subSelector),visibleL3=$l3.length;return window.vscs.vscom.header.isElementsMoved?$l3Menu.animate({height:"toggle"},200,"swing",function(){$(this).parent().removeClass("active").addClass("inactive")}):($l3.removeClass("active").addClass("inactive"),toggleAnimationEnabled?$l3Menu.animate({width:"toggle"},200,"swing",function(){window.vscs.vscom.header.clearHeight($l3.parent());window.vscs.vscom.header.clearHeight($l3Menu)}):$("#ux-header "+subSelector).css("display","none")),visibleL3>0};window.vscs.vscom.header.drawerShouldMove=function(){return $("#ux-header #grip:visible").length>0};window.vscs.vscom.header.isMobile=function(){return $("#ux-header span#isMobile:visible").length>0};window.vscs.vscom.header.isSignedIn=function(){return $("#ux-header .createProfileLink").length>0};window.vscs.vscom.header.moveElements=function(restoreOriginalPosition){restoreOriginalPosition?($("#ux-header #drawer").appendTo($("#ux-header #desktopTocContainer")),$("#ux-header #Fragment_SubscriptionsLink").appendTo($("#ux-header div.upperBandContent div.right")),$("#ux-header #signIn").appendTo($("#ux-header div.upperBandContent div.right")),$("#ux-header #Fragment_SearchBox").appendTo($("#ux-header div.upperBandContent div.right"))):($("#ux-header #drawer").appendTo($("#ux-header .lowerBand")),$("#ux-header #Fragment_SubscriptionsLink").appendTo($("#ux-header div.middleBandContent div.left")),$("#ux-header #signIn").appendTo($("#ux-header div.middleBandContent div.right")),$("#ux-header #Fragment_SearchBox").appendTo($("#ux-header div.middleBandContent div.right")));window.vscs.vscom.header.isElementsMoved=!restoreOriginalPosition};window.vscs.vscom.header.showMenu=function(show){$("div#drawer>div.toc").toggleClass("open");show?($("#overlayMaskHeader, #overlayMask").show(),$("#overlayMaskHeader, #overlayMask").height($(document).height())):$("#overlayMaskHeader, #overlayMask").hide();window.vscs.vscom.header.openMenu=!show};window.vscs.vscom.header.toggleMiddleBar=function(){var $middleBar=$("#ux-header div.middleBand");$("#ux-header div.middleBand:visible").length>0?$middleBar.fadeOut(0):$middleBar.fadeIn(0)};window.vscs.vscom.header.closeMiddleBar=function(){$("#ux-header div.middleBand").hide()};window.vscs.vscom.header.resize=function(){window.vscs.vscom.header.openMenu||window.vscs.vscom.header.showMenu(!1);window.vscs.vscom.header.isElementsMoved!=window.vscs.vscom.header.drawerShouldMove()&&(window.vscs.vscom.header.isElementsMoved?$("#ux-header #drawer").css("display","inline-block"):(window.vscs.vscom.header.closeAllL3(),window.vscs.vscom.header.closeAllL2(),window.vscs.vscom.header.closeMiddleBar(),$("#ux-header #drawer").css("display","none")),window.vscs.vscom.header.moveElements(window.vscs.vscom.header.isElementsMoved));window.vscs.vscom.header.deviceType=window.vscs.vscom.header.isElementsMoved?window.vscs.vscom.header.isMobile()?window.vscs.vscom.header.deviceTypes.mobile:window.vscs.vscom.header.deviceTypes.tablet:window.vscs.vscom.header.deviceTypes.desktop;$("#ux-header").attr("data-device-type",window.vscs.vscom.header.deviceType);window.vscs.vscom.header.isElementsMoved||(window.vscs.vscom.header.closeAllL3(),window.vscs.vscom.header.closeAllL2(),window.vscs.vscom.header.closeMiddleBar())};$(document).ready(function(){init()})};typeof define=="function"&&window.mtpsAmd?define("header",["jquery"],function($){return headerModule($)}):headerModule($)})();